webpackJsonp([2],{0:function(e,t,n){"use strict";var i=n(18);n(131),n(132),n(128),n(126),n(127),n(129),n(130),n(251),n(250),n(249),window.getCookie=i.getCookie},126:function(e,t){},127:function(e,t){},128:function(e,t){},129:function(e,t){},130:function(e,t){},131:function(e,t){},132:function(e,t){},249:function(e,t){Ink.createModule("Ink.Autoload",1,["Ink.Dom.Selector_1","Ink.Util.Array_1","Ink.Dom.Loaded_1","Ink.UI.SmoothScroller_1","Ink.UI.Close_1","Ink.UI.Drawer_1"],function(e,t,n,i,o,r){"use strict";function s(t){try{e.select(t,a)}catch(e){return Ink.error(e),!1}return!0}var a=document.createElement("div"),l={selectors:{Animate_1:".ink-animate",Carousel_1:".ink-carousel",DatePicker_1:".ink-datepicker",DragDrop_1:".ink-dragdrop",Draggable_1:".ink-draggable",Dropdown_1:".ink-dropdown","Droppable_1.add":".ink-droppable",FormValidator_2:".ink-formvalidator",Gallery_1:"ul.ink-gallery-source",LazyLoad_1:".ink-lazyload",Modal_1:".ink-modal",ProgressBar_1:".ink-progress-bar",SortableList_1:".ink-sortable-list",Spy_1:'[data-spy="true"]',Stacker_1:".ink-stacker",Sticky_1:".ink-sticky, .sticky",Table_1:".ink-table",Tabs_1:".ink-tabs",Toggle_1:".ink-toggle, .toggle",Tooltip_1:".ink-tooltip, .tooltip",TreeView_1:".ink-tree-view"},defaultOptions:{},run:function(n,s){function a(i){var o;/\./.test(i)&&(i=i.split("."),o=i[1],i=i[0]);var r="Ink.UI."+i,a=e.select(s.selectors[i],n);a=t.filter(a,u),a.length&&Ink.requireModules([r],function(e){t.forEach(a,function(t){"function"==typeof e.getInstance&&null!=e.getInstance(t)||(o?e[o](t,l.defaultOptions[i]):new e(t,l.defaultOptions[i]))})})}function u(e){return s.forceAutoload===!0||("function"==typeof e.getAttribute||"object"==typeof e.getAttribute?"false"!==e.getAttribute("data-autoload"):void 0)}s=Ink.extendObj({selectors:l.selectors},s||{});for(var c in s.selectors)s.selectors.hasOwnProperty(c)&&a(c);s.createClose!==!1&&new o,s.createSmoothScroller!==!1&&i.init(),s.createDrawer!==!1&&(!e.matchesSelector(document.body,".ink-drawer")||r.getInstance&&r.getInstance(document.body)||new r(document.body))},add:function(e,t){return!!s(t)&&void(l.selectors[e]?l.selectors[e]+=", "+t:l.selectors[e]=t)},remove:function(e){delete l.selectors[e]}};for(var u in l.selectors)l.selectors.hasOwnProperty(u)&&(l.defaultOptions[u]={});return window.INK_NO_AUTO_LOAD||n.run(function(){l.run(document,{createSmoothScroller:!0,createClose:!0}),l.firstRunDone=!0}),l})},250:function(module,exports){!function(e,t){"use strict";if(!("Ink"in e&&"function"==typeof Ink.requireModules)){var n={},i={},o=[],r={},s=[],a={},l=Function.prototype.apply,u=function(e){if("object"!=typeof e)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};e.Ink={VERSION:"3.1.10",_checkPendingRequireModules:function(){var e,t,n,o,r,a,l=[],u=[];for(e=0,t=s.length;e<t;++e)if(n=s[e]){for(o in n.left)n.left.hasOwnProperty(o)&&(r=i[o],r&&(n.args[n.left[o]]=r,delete n.left[o],--n.remaining));if(n.remaining>0)l.push(n);else{if(a=n.cb,!a)continue;delete n.cb,u.push([a,n.args])}}s=l;for(var c=0;c<u.length;c++)u[c][0].apply(!1,u[c][1]);s.length>0&&setTimeout(function(){Ink._checkPendingRequireModules()},0)},getPath:function(e,t){var i,o,r,s,a=e.split(/[._]/g);for(o=a.length;o>=0;o-=1)if(i=a.slice(0,o+1).join("."),n[i]){r=i;break}return r in n?(s=n[r],/\/$/.test(s)||(s+="/"),o<a.length&&(s+=a.slice(o+1).join("/")+"/"),t||(s+="lib.js"),s):null},setPath:function(e,t){n[e.replace(/_/,".")]=t},loadScript:function(e,n){if(e.indexOf("/")===-1){var i=e;if(e=this.getPath(e),null===e)throw new Error('Could not load script "'+i+'". Path not found in the registry. Did you misspell the name, or forgot to call setPath()?')}var o=t.createElement("script");o.setAttribute("type",n||"text/javascript"),o.setAttribute("src",e),"onerror"in o&&(o.onerror=function(){Ink.error(["Failed to load script from ",e,"."].join(""))});var r=t.head||t.getElementsByTagName("head")[0];if(r)return r.appendChild(o)},_loadLater:function(e){setTimeout(function(){i[e]||r[e]||a[e]||(r[e]=!0,Ink.loadScript(e))},0)},namespace:function(t,n){if(!t||!t.length)return null;for(var i,o=t.split("."),r=e,s=0,a=o.length;s<a;++s)r[o[s]]=r[o[s]]||{},i=r,r=r[o[s]];return n?[i,o[s-1]]:r},getModule:function(e,t){var n=t?[e,"_",t].join(""):e;return i[n]},createModule:function(t,n,s,l){if("string"!=typeof t)throw new Error("module name must be a string!");if(!("number"==typeof n||"string"==typeof n&&n.length>0))throw new Error("version number missing!");var c=[t,"_",n].join("");a[c]=!0;var h=function(){if(!i[c]){delete r[c],delete r[t];var s=Array.prototype.slice.call(arguments),h=l.apply(e,s);o.push(c),"object"==typeof h?h._version=n:"function"==typeof h&&(h.prototype._version=n,h._version=n);var d,p=0===t.indexOf("Ink.");p&&(d=Ink.namespace(t,!0)),i[c]=h,delete a[c],p&&(d[0][d[1]+"_"+n]=h),i[t]=h,p&&u(d[0][d[1]])&&(d[0][d[1]]=h),this&&Ink._checkPendingRequireModules()}};this.requireModules(s,h)},requireModules:function(e,t){var n,o,a,l,u;if(o=e&&e.length,a={args:new Array(o),left:{},remaining:o,cb:t},"object"!=typeof e||void 0===e.length)throw new Error("Dependency list should be an array!");if("function"!=typeof t)throw new Error("Callback should be a function!");for(n=0;n<o;++n)Ink._moduleRenames[e[n]]?(Ink.warn(e[n]+" was renamed to "+Ink._moduleRenames[e[n]]),l=Ink._moduleRenames[e[n]]):l=e[n],l?(u=i[l],u?(a.args[n]=u,--a.remaining):(r[l]||Ink._loadLater(l),a.left[l]=n)):--a.remaining;a.remaining>0?s.push(a):t.apply(!0,a.args)},_moduleRenames:{"Ink.UI.Aux_1":"Ink.UI.Common_1"},getModulesLoadOrder:function(){return o.slice()},getModuleScripts:function(){var e=this.getModulesLoadOrder();return e.unshift("Ink_1"),e=e.map(function(e){return["<scr",'ipt type="text/javascript" src="',Ink.getModuleURL(e),'"></scr',"ipt>"].join("")}),e.join("\n")},createExt:function(e,t,n,i){return Ink.createModule("Ink.Ext."+e,t,n,i)},bind:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments),o=n.concat(i);return e.apply(t===!1?this:t,o)}},bindMethod:function(e,t){return Ink.bind.apply(Ink,[e[t],e].concat([].slice.call(arguments,2)))},bindEvent:function(t,n){var i=Array.prototype.slice.call(arguments,2);return function(o){var r=i.slice();return r.unshift(o||e.event),t.apply(n===!1?this:n,r)}},i:function(e){return"string"==typeof e?t.getElementById(e)||null:e},ss:function(e,n){if("undefined"==typeof Ink.Dom||"undefined"==typeof Ink.Dom.Selector)throw new Error("This method requires Ink.Dom.Selector");return Ink.Dom.Selector.select(e,n||t)},s:function(e,n){if("undefined"==typeof Ink.Dom||"undefined"==typeof Ink.Dom.Selector)throw new Error("This method requires Ink.Dom.Selector");return Ink.Dom.Selector.select(e,n||t)[0]||null},extendObj:function(e){for(var t=[].slice.call(arguments,1),n=0,i=t.length;n<i;n++)if(t[n])for(var o in t[n])Object.prototype.hasOwnProperty.call(t[n],o)&&(e[o]=t[n][o]);return e},log:function(){var t=e.console;t&&t.log&&l.call(t.log,t,arguments)},warn:function(){var t=e.console;t&&t.warn&&l.call(t.warn,t,arguments)},error:function(){var t=e.console;t&&t.error&&l.call(t.error,t,arguments)}}}}(window,document),Ink.createModule("Ink.Net.Ajax","1",[],function(){"use strict";var Ajax=function(e,t){this.init(e,t)};Ajax.globalOptions={parameters:{},requestHeaders:{}};var xMLHttpRequestWithCredentials="XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest;return Ajax.prototype={init:function(e,t){if(!e)throw new Error("new Ink.Net.Ajax: Pass a url as the first argument!");var n=Ink.extendObj({asynchronous:!0,contentType:"application/x-www-form-urlencoded",cors:!1,validateCors:!1,debug:!1,delay:0,evalJS:!0,method:"POST",parameters:null,postBody:"",requestHeaders:null,sanitizeJSON:!1,signRequest:!1,timeout:0,useCredentials:!1,xhrProxy:"",onComplete:null,onCreate:null,onException:null,onFailure:null,onHeaders:null,onInit:null,onSuccess:null,onTimeout:null},Ajax.globalOptions);if(t&&"object"==typeof t){if(n=Ink.extendObj(n,t),"object"==typeof t.parameters)n.parameters=Ink.extendObj(Ink.extendObj({},Ajax.globalOptions.parameters),t.parameters);else if(null!==t.parameters){var i=this.paramsObjToStr(Ajax.globalOptions.parameters);i&&(n.parameters=t.parameters+"&"+i)}n.requestHeaders=Ink.extendObj({},Ajax.globalOptions.requestHeaders),n.requestHeaders=Ink.extendObj(n.requestHeaders,t.requestHeaders)}this.options=n,this.safeCall("onInit"),this.url=e;var o=this._locationFromURL(e);this.isHTTP=this._locationIsHTTP(o),this.isCrossDomain=this._locationIsCrossDomain(o,location),this.requestHasBody=n.method.search(/^get|head$/i)<0,this.options.validateCors===!0&&(this.options.cors=this.isCrossDomain),this.options.cors&&(this.isCrossDomain=!1),this.transport=this.getTransport(),this.request()},_locationFromURL:function(e){var t=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml","a"):document.createElement("a");return t.setAttribute("href",e),t},_locationIsHTTP:function(e){return!!e.href.match(/^https?:/i)},_locationIsCrossDomain:function(e,t){if(t=t||window.location,Ajax.prototype._locationIsHTTP(e)&&"widget:"!==t.protocol&&"object"!=typeof window.widget){var n=e.href.split("//"),i=t.href.split("//");if(1===n.length||1===i.length)return!1;var o=n[0],r=i[0],s=/:|\//,a=n[1].split(s)[0],l=i[1].split(s)[0];return o!==r||a!==l}return!1},getTransport:function(){if(!xMLHttpRequestWithCredentials&&this.options.cors&&"XDomainRequest"in window)return this.usingXDomainReq=!0,new XDomainRequest;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"==typeof ActiveXObject)return null;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){return new ActiveXObject("Microsoft.XMLHTTP")}},setHeaders:function(){if(this.transport)try{var e={Accept:"text/javascript,text/xml,application/xml,application/xhtml+xml,text/html,application/json;q=0.9,text/plain;q=0.8,video/x-mng,image/png,image/jpeg,image/gif;q=0.2,*/*;q=0.1","Accept-Language":navigator.language,"X-Requested-With":"XMLHttpRequest","X-Ink-Version":"3"};if(this.options.cors&&(this.options.signRequest||delete e["X-Requested-With"],delete e["X-Ink-Version"]),this.options.requestHeaders&&"object"==typeof this.options.requestHeaders)for(var t in this.options.requestHeaders)this.options.requestHeaders.hasOwnProperty(t)&&(e[t]=this.options.requestHeaders[t]);this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005&&(e.Connection="close");for(var n in e)e.hasOwnProperty(n)&&this.transport.setRequestHeader(n,e[n])}catch(e){}},paramsObjToStr:function(e){var t,n,i,o,r=[];if("object"!=typeof e)return e;for(i in e)if(e.hasOwnProperty(i))if(o=e[i],"[object Array]"!==Object.prototype.toString.call(o)||isNaN(o.length))r=r.concat([encodeURIComponent(i),"=",encodeURIComponent(o),"&"]);else for(t=0,n=o.length;t<n;t++)r=r.concat([encodeURIComponent(i),"[]","=",encodeURIComponent(o[t]),"&"]);return r.length>0&&r.pop(),r.join("")},setParams:function(){var e=null,t=this.options.parameters;e="object"==typeof t?this.paramsObjToStr(t):""+t,e&&(this.url.indexOf("?")>-1?this.url=this.url.split("#")[0]+"&"+e:this.url=this.url.split("#")[0]+"?"+e)},getHeader:function(e){if(this.usingXDomainReq&&"Content-Type"===e)return this.transport.contentType;try{return this.transport.getResponseHeader(e)}catch(e){return null}},getAllHeaders:function(){try{return this.transport.getAllResponseHeaders()}catch(e){return null}},getResponse:function(){var e=this.transport,t={headerJSON:null,responseJSON:null,getHeader:this.getHeader,getAllHeaders:this.getAllHeaders,request:this,transport:e,timeTaken:new Date-this.startTime,requestedUrl:this.url};t.readyState=e.readyState;try{t.responseText=e.responseText}catch(e){}try{t.responseXML=e.responseXML}catch(e){}try{t.status=e.status}catch(e){t.status=0}try{t.statusText=e.statusText}catch(e){t.statusText=""}return t},abort:function(){if(this.transport){clearTimeout(this.delayTimeout),clearTimeout(this.stoTimeout),this._aborted=!0;try{this.transport.abort()}catch(e){}this.finish()}},runStateChange:function(){if(!this._aborted){var e=this.transport.readyState;if(3===e)this.isHTTP&&this.safeCall("onHeaders");else if(4===e||this.usingXDomainReq){if(this.options.asynchronous&&this.options.delay&&this.startTime+this.options.delay>(new Date).getTime())return void(this.delayTimeout=setTimeout(Ink.bind(this.runStateChange,this),this.options.delay+this.startTime-(new Date).getTime()));var t,n=this.transport.responseText,i=this.getResponse(),o=this.transport.status;this.isHTTP&&!this.options.asynchronous&&this.safeCall("onHeaders"),clearTimeout(this.stoTimeout),0===o?this.isHTTP?this.safeCall("onException",new Error("Ink.Net.Ajax: network error! (HTTP status 0)")):o=n?200:404:304===o&&(o=200);var r=this.usingXDomainReq||200<=o&&o<300,s=this.getHeader("Content-Type")||"";if(this.options.evalJS&&(s.indexOf("application/json")>=0||"force"===this.options.evalJS))try{t=this.evalJSON(n,this.sanitizeJSON),t&&(n=i.responseJSON=t)}catch(e){r&&this.safeCall("onException",e)}if(this.usingXDomainReq&&s.indexOf("xml")!==-1&&"DOMParser"in window){var a;switch(s){case"application/xml":case"application/xhtml+xml":case"image/svg+xml":a=s;break;default:a="text/xml"}var l=(new DOMParser).parseFromString(this.transport.responseText,a);this.transport.responseXML=l,i.responseXML=l}null!=this.transport.responseXML&&null==i.responseJSON&&""!==this.transport.responseXML.xml&&(n=this.transport.responseXML),(o||this.usingXDomainReq)&&(r?this.safeCall("onSuccess",i,n):this.safeCall("onFailure",i,n),this.safeCall("on"+o,i,n)),this.finish(i,n)}}},finish:function(e,t){if(e&&this.safeCall("onComplete",e,t),clearTimeout(this.stoTimeout),this.transport){try{this.transport.onreadystatechange=null}catch(e){}"function"==typeof this.transport.destroy&&this.transport.destroy(),this.transport=null}},safeCall:function(e){var t=arguments[1]instanceof Error?arguments[1]:null;if("function"==typeof this.options[e])try{this.options[e].apply(this,[].slice.call(arguments,1))}catch(t){Ink.error("Ink.Net.Ajax: an error was raised while executing "+e+".",t)}else t&&Ink.error("Ink.Net.Ajax: "+t)},setRequestHeader:function(e,t){this.options.requestHeaders||(this.options.requestHeaders={}),this.options.requestHeaders[e]=t},request:function(){if(this.transport){var e=null;this.requestHasBody?(null!==this.options.postBody&&""!==this.options.postBody?(e=this.options.postBody,this.setParams()):null!==this.options.parameters&&""!==this.options.parameters&&(e=this.options.parameters),"object"!=typeof e||e.nodeType?"object"!=typeof e&&null!==e&&(e=""+e):e=this.paramsObjToStr(e),this.options.contentType&&this.setRequestHeader("Content-Type",this.options.contentType)):this.setParams();var t=this.url,n=this.options.method,i=this.isCrossDomain;i&&this.options.xhrProxy&&(this.setRequestHeader("X-Url",t),t=this.options.xhrProxy+encodeURIComponent(t),i=!1);try{this.transport.open(n,t,this.options.asynchronous)}catch(e){return this.safeCall("onException",e),this.finish(this.getResponse(),null)}this.setHeaders(),this.safeCall("onCreate"),this.options.timeout&&!isNaN(this.options.timeout)&&(this.stoTimeout=setTimeout(Ink.bind(function(){this.options.onTimeout&&(this.safeCall("onTimeout"),this.abort())},this),1e3*this.options.timeout)),this.options.useCredentials&&!this.usingXDomainReq&&(this.transport.withCredentials=!0),this.options.asynchronous&&!this.usingXDomainReq?this.transport.onreadystatechange=Ink.bind(this.runStateChange,this):this.usingXDomainReq&&(this.transport.onload=Ink.bind(this.runStateChange,this));try{if(i)return void Ink.error("Ink.Net.Ajax: You are attempting to request a URL which is cross-domain from this one. To do this, you *must* enable the `cors` option!");this.startTime=(new Date).getTime(),this.transport.send(e)}catch(e){return this.safeCall("onException",e),this.finish(this.getResponse(),null)}this.options.asynchronous||this.runStateChange()}},isJSON:function(e){return!("string"!=typeof e||!e)&&(e=e.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(e))},evalJSON:function(strJSON,sanitize){if(strJSON&&(!sanitize||this.isJSON(strJSON)))try{return"undefined"!=typeof JSON&&"undefined"!=typeof JSON.parse?JSON.parse(strJSON):eval("("+strJSON+")")}catch(e){throw new Error("Ink.Net.Ajax: Bad JSON string. "+e)}return null}},Ajax.load=function(e,t){var n=Ajax.prototype._locationIsCrossDomain(window.location,Ajax.prototype._locationFromURL(e));return new Ajax(e,{method:"GET",cors:n,onSuccess:function(e){t(e.responseJSON||e.responseText,e)}})},Ajax.ping=function(e,t){var n=Ajax.prototype._locationIsCrossDomain(window.location,Ajax.prototype._locationFromURL(e));return new Ajax(e,{method:"HEAD",cors:n,onSuccess:function(e){"function"==typeof t&&t(e)}})},Ajax}),Ink.createModule("Ink.Net.JsonP","1",[],function(){"use strict";var e=function(e,t){this.init(e,t)};return e.prototype={init:function(e,t){if(this.options=Ink.extendObj({onSuccess:void 0,onFailure:void 0,failureObj:{},timeout:10,params:{},callbackParam:"jsoncallback",internalCallback:"_cb",randVar:!1},t||{}),this.options.randVar!==!1?this.randVar=this.options.randVar:this.randVar=parseInt(1e5*Math.random(),10),this.options.internalCallback+=this.randVar,this.uri=e,"function"==typeof this.options.onComplete&&(this.options.onSuccess=this.options.onComplete),"string"!=typeof this.uri)throw new Error("Ink.Net.JsonP: Please define an URI");if("function"!=typeof this.options.onSuccess)throw new Error("Ink.Net.JsonP: please define a callback function on option onSuccess!");Ink.Net.JsonP[this.options.internalCallback]=Ink.bind(function(){this.options.onSuccess(arguments[0]),this._cleanUp()},this),this.timeout=setTimeout(Ink.bind(function(){this.abort(),"function"==typeof this.options.onFailure&&this.options.onFailure(this.options.failureObj)},this),1e3*this.options.timeout),this._addScriptTag()},abort:function(){Ink.Net.JsonP[this.options.internalCallback]=Ink.bindMethod(this,"_cleanUp")},_addParamsToGet:function(e,t){var n,i,o,r=e.indexOf("?")!==-1,s=[e];for(i in t)t.hasOwnProperty(i)&&(r?n="&":(n="?",r=!0),o=t[i],"number"==typeof o||o||(o=""),s=s.concat([n,i,"=",encodeURIComponent(o)]));return s.join("")},_getScriptContainer:function(){return document.body||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]||document.documentElement},_addScriptTag:function(){this.options.params[this.options.callbackParam]="Ink.Net.JsonP."+this.options.internalCallback,this.options.params.rnd_seed=this.randVar,this.uri=this._addParamsToGet(this.uri,this.options.params),this._scriptEl=document.createElement("script"),this._scriptEl.type="text/javascript",this._scriptEl.src=this.uri;var e=this._getScriptContainer();e.appendChild(this._scriptEl)},_cleanUp:function(){this.timeout&&window.clearTimeout(this.timeout),delete this.options.onSuccess,delete this.options.onFailure,delete Ink.Net.JsonP[this.options.internalCallback],this._removeScriptTag()},_removeScriptTag:function(){this._scriptEl&&(this._scriptEl.parentNode.removeChild(this._scriptEl),delete this._scriptEl)}},e}),Ink.createModule("Ink.Dom.Browser","1",[],function(){"use strict";var e={IE:!1,GECKO:!1,OPERA:!1,SAFARI:!1,KONQUEROR:!1,CHROME:!1,model:!1,version:!1,userAgent:!1,cssPrefix:!1,domPrefix:!1,init:function(){this.detectBrowser(),this.setDimensions(),this.setReferrer()},setDimensions:function(){var e=0,t=0;"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),this.windowWidth=e,this.windowHeight=t},setReferrer:function(){document.referrer&&document.referrer.length?this.referrer=window.escape(document.referrer):this.referrer=!1},detectBrowser:function(){this._sniffUserAgent(navigator.userAgent)},_sniffUserAgent:function(e){if(this.userAgent=e,e=e.toLowerCase(),/applewebkit\//.test(e)&&!/iemobile/.test(e))if(this.cssPrefix="-webkit-",this.domPrefix="Webkit",/(chrome|crios)\//.test(e))this.CHROME=!0,this.model="chrome",this.version=e.replace(/(.*)chrome\/([^\s]+)(.*)/,"$2");else{this.SAFARI=!0,this.model="safari";var t=/version\/([^) ]+)/;t.test(e)?this.version=e.match(t)[1]:this.version=e.replace(/(.*)applewebkit\/([^\s]+)(.*)/,"$2")}else if(/opera/.test(e))this.OPERA=!0,this.model="opera",this.version=e.replace(/(.*)opera.([^\s$]+)(.*)/,"$2"),this.cssPrefix="-o-",this.domPrefix="O";else if(/konqueror/.test(e))this.KONQUEROR=!0,this.model="konqueror",this.version=e.replace(/(.*)konqueror\/([^;]+);(.*)/,"$2"),this.cssPrefix="-khtml-",this.domPrefix="Khtml";else if(/(msie|trident)/i.test(e))this.IE=!0,this.model="ie",/rv:((?:\d|\.)+)/.test(e)?this.version=e.match(/rv:((?:\d|\.)+)/)[1]:this.version=e.replace(/(.*)\smsie\s([^;]+);(.*)/,"$2"),this.cssPrefix="-ms-",this.domPrefix="ms";else if(/gecko/.test(e)){this.cssPrefix="-moz-",this.domPrefix="Moz",this.GECKO=!0;var n=/(camino|chimera|epiphany|minefield|firefox|firebird|phoenix|galeon|iceweasel|k\-meleon|seamonkey|netscape|songbird|sylera)/;if(n.test(e))this.model=e.match(n)[1],this.version=e.replace(new RegExp("(.*)"+this.model+"/([^;\\s$]+)(.*)"),"$2");else{this.model="mozilla";var i=/(.*)rv:([^)]+)(.*)/;i.test(e)&&(this.version=e.replace(i,"$2"))}}},debug:function(){var e="known browsers: (ie, gecko, opera, safari, konqueror) \n";e+=[this.IE,this.GECKO,this.OPERA,this.SAFARI,this.KONQUEROR]+"\n",e+="cssPrefix -> "+this.cssPrefix+"\n",e+="domPrefix -> "+this.domPrefix+"\n",e+="model -> "+this.model+"\n",e+="version -> "+this.version+"\n",e+="\n",e+="original UA -> "+this.userAgent,alert(e)}};return e.init(),e}),Ink.createModule("Ink.Dom.Css",1,[],function(){"use strict";var e="defaultView"in document&&"getComputedStyle"in document.defaultView?document.defaultView.getComputedStyle:window.getComputedStyle,t={addRemoveClassName:function(e,t,n){return n?this.addClassName(e,t):void this.removeClassName(e,t)},addClassName:function(e,n){if(e=Ink.i(e),!e||!n)return null;n=(""+n).split(/[, ]+/);for(var i=0,o=n.length;i<o;i++)n[i].replace(/^\s+|\s+$/g,"")&&("undefined"!=typeof e.classList?e.classList.add(n[i]):t.hasClassName(e,n[i])||(e.className+=(e.className?" ":"")+n[i]))},removeClassName:function(e,t){if(e=Ink.i(e),!e||!t)return null;t=(""+t).split(/[, ]+/);var n=0,i=t.length;if("undefined"!=typeof e.classList)for(;n<i;n++)e.classList.remove(t[n]);else{for(var o,r=e.className||"";n<i;n++)o=new RegExp("(^|\\s+)"+t[n]+"(\\s+|$)"),r=r.replace(o," ");e.className=r.replace(/^\s+/,"").replace(/\s+$/,"")}},setClassName:function(e,t,n){this.addRemoveClassName(e,t,n||!1)},hasClassName:function(e,t,n){if(e=Ink.i(e),!e||!t)return!1;t=(""+t).split(/[, ]+/);for(var i,o,r=0,s=t.length;r<s;r++){if("undefined"!=typeof e.classList)i=e.classList.contains(t[r]);else{var a=e.className;a===t[r]?i=!0:(o=new RegExp("(^|\\s)"+t[r]+"(\\s|$)"),i=o.test(a))}if(i&&!n)return!0;if(!i&&n)return!1}return!!n},blinkClass:function(e,n,i,o){e=Ink.i(e),t.addRemoveClassName(e,n,!o),setTimeout(function(){t.addRemoveClassName(e,n,o)},Number(i)||100)},toggleClassName:function(e,n,i){return!(!e||!n)&&("undefined"!=typeof i?t.addRemoveClassName(e,n,i):void("undefined"==typeof e.classList||/[, ]/.test(n)?t.hasClassName(e,n)?t.removeClassName(e,n):t.addClassName(e,n):(e=Ink.i(e),null!==e&&e.classList.toggle(n))))},setOpacity:function(e,t){if(e=Ink.i(e),null!==e){var n=1;isNaN(Number(t))||(n=t<=0?0:t<=1?t:t<=100?t/100:1),"undefined"!=typeof e.style.opacity?e.style.opacity=n:e.style.filter="alpha(opacity:"+(100*n|0)+")"}},_camelCase:function(e){return e?e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}):e},getStyle:function(t,n){if(t=Ink.i(t),null!==t&&t.style){n="float"===n?"cssFloat":this._camelCase(n);var i=t.style[n];if(!e||i&&"auto"!==i)!i&&t.currentStyle&&(i=t.currentStyle[n],"auto"!==i||"width"!==n&&"height"!==n||(i=t["offset"+n.charAt(0).toUpperCase()+n.slice(1)]+"px"));else{var o=e(t,null);i=o?o[n]:null}if("opacity"===n)return i?parseFloat(i,10):1;if("borderTopWidth"===n||"borderBottomWidth"===n||"borderRightWidth"===n||"borderLeftWidth"===n){if("thin"===i)return"1px";if("medium"===i)return"3px";if("thick"===i)return"5px"}return"auto"===i?null:i}},setStyle:function(e,t){if(e=Ink.i(e),null!==e)if("string"==typeof t)e.style.cssText+="; "+t,t.indexOf("opacity")!==-1&&this.setOpacity(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]);else for(var n in t)t.hasOwnProperty(n)&&("opacity"===n?this.setOpacity(e,t[n]):"float"===n||"cssFloat"===n?"undefined"==typeof e.style.styleFloat?e.style.cssFloat=t[n]:e.style.styleFloat=t[n]:e.style[n]=t[n])},show:function(e,t){e=Ink.i(e),null!==e&&(e.style.display=t||"")},hide:function(e){e=Ink.i(e),null!==e&&(e.style.display="none")},showHide:function(e,t){e=Ink.i(e),e&&(e.style.display=t?"":"none")},toggle:function(e,t){e=Ink.i(e),null!==e&&("undefined"!=typeof t?t===!0?this.show(e):this.hide(e):"none"===this.getStyle(e,"display").toLowerCase()?this.show(e):this.hide(e))},_getRefTag:function(e){if(e.firstElementChild)return e.firstElementChild;for(var t=e.firstChild;t;t=t.nextSibling)if(1===t.nodeType)return t;return null},appendStyleTag:function(e,t,n){n=Ink.extendObj({type:"text/css",force:!1},n||{});var i,o,r=document.getElementsByTagName("style"),s=!1,a=!0;for(i=0,o=r.length;i<o;i++)s=r[i].innerHTML,s.indexOf(e)>=0&&(a=!1);if(a){var l=document.createElement("style"),u=document.getElementsByTagName("head")[0],c=!1,h="";l.type=n.type,h+=e+" {",h+=t,h+="} ","undefined"!=typeof l.styleSheet?l.styleSheet.cssText=h:l.appendChild(document.createTextNode(h)),n.force?u.appendChild(l):(c=this._getRefTag(u),c&&u.insertBefore(l,c))}},appendStylesheet:function(e,t){t=Ink.extendObj({media:"screen",type:"text/css",force:!1},t||{});var n,i=document.createElement("link"),o=document.getElementsByTagName("head")[0];i.media=t.media,i.type=t.type,i.href=e,i.rel="Stylesheet",t.force?o.appendChild(i):(n=this._getRefTag(o),n&&o.insertBefore(i,n))},_loadingCSSFiles:{},_loadedCSSFiles:{},appendStylesheetCb:function(e,t){if(!e)return t(e);if(this._loadedCSSFiles[e])return t(e);var n=this._loadingCSSFiles[e];if(n)return n.push(t);this._loadingCSSFiles[e]=[t];var i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=e;var o=document.getElementsByTagName("head")[0];o.appendChild(i);var r=document.createElement("img");r.onerror=Ink.bindEvent(function(e,t){var n=t;this._loadedCSSFiles[n]=!0;for(var i=this._loadingCSSFiles[n],o=0,r=i.length;o<r;++o)i[o](n);delete this._loadingCSSFiles[n]},this,e),r.src=e},decToHex:function(e){var t=function(e){return 1===e.length&&(e="0"+e),e=e.toUpperCase()};if("object"==typeof e){var n=t(parseInt(e.r,10).toString(16)),i=t(parseInt(e.g,10).toString(16)),o=t(parseInt(e.b,10).toString(16));return n+i+o}e+="";var r=e.match(/\((\d+),\s?(\d+),\s?(\d+)\)/);return null!==r?t(parseInt(r[1],10).toString(16))+t(parseInt(r[2],10).toString(16))+t(parseInt(r[3],10).toString(16)):t(parseInt(e,10).toString(16))},hexToDec:function(e){return 0===e.indexOf("#")&&(e=e.substr(1)),6===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16)}:3===e.length?{r:parseInt(e.charAt(0)+e.charAt(0),16),g:parseInt(e.charAt(1)+e.charAt(1),16),b:parseInt(e.charAt(2)+e.charAt(2),16)}:e.length<=2?parseInt(e,16):void 0},getPropertyFromStylesheet:function(e,t){var n=this.getRuleFromStylesheet(e);return n?n.style[t]:null},getPropertyFromStylesheet2:function(e,t){for(var n,i=this.getRulesFromStylesheet(e),o=0,r=i.length;o<r;o++)if(n=i[o].style[t],null!==n&&void 0!==n)return n;return null},getRuleFromStylesheet:function(e){var t,n,i,o,r,s=document.styleSheets;if(!s)return null;for(var a=0,l=document.styleSheets.length;a<l;++a){if(t=document.styleSheets[a],n=t.rules?t.rules:t.cssRules,!n)return null;for(i=0,o=n.length;i<o;++i)if(r=n[i],r.selectorText&&r.selectorText===e)return r}return null},getRulesFromStylesheet:function(e){var t,n,i,o,r,s=[],a=document.styleSheets;if(!a)return s;for(var l=0,u=document.styleSheets.length;l<u;++l){if(t=document.styleSheets[l],n=t.rules?t.rules:t.cssRules,!n)return null;for(i=0,o=n.length;i<o;++i)r=n[i],r.selectorText&&r.selectorText===e&&s.push(r)}return s},getPropertiesFromRule:function(e){var t,n,i,o=this.getRuleFromStylesheet(e),r={};o=o.style.cssText;var s,a,l,u,c=o.split(";");for(n=0,i=c.length;n<i;++n)" "===c[n].charAt(0)&&(c[n]=c[n].substring(1)),s=c[n].split(":"),t=this._camelCase(s[0].toLowerCase()),a=s[1],a&&(a=a.substring(1),"padding"===t||"margin"===t||"borderWidth"===t?("borderWidth"===t?(l="border",u="Width"):(l=t,u=""),a.indexOf(" ")!==-1?(a=a.split(" "),r[l+"Top"+u]=a[0],r[l+"Bottom"+u]=a[0],r[l+"Left"+u]=a[1],r[l+"Right"+u]=a[1]):(r[l+"Top"+u]=a,r[l+"Bottom"+u]=a,r[l+"Left"+u]=a,r[l+"Right"+u]=a)):"borderRadius"===t?a.indexOf(" ")!==-1?(a=a.split(" "),r.borderTopLeftRadius=a[0],r.borderBottomRightRadius=a[0],r.borderTopRightRadius=a[1],r.borderBottomLeftRadius=a[1]):(r.borderTopLeftRadius=a,r.borderTopRightRadius=a,r.borderBottomLeftRadius=a,r.borderBottomRightRadius=a):r[t]=a);return r},changeFontSize:function(e,t,n,i,o){var r=this;Ink.requireModules(["Ink.Dom.Selector_1"],function(s){var a;if("string"!=typeof e?a="1st argument must be a CSS selector rule.":"number"!=typeof t?a="2nd argument must be a number.":void 0!==n&&"+"!==n&&"*"!==n?a='3rd argument must be one of "+", "*".':void 0!==i&&("number"!=typeof i||i<=0)?a="4th argument must be a positive number.":void 0!==o&&("number"!=typeof o||o<o)&&(a="5th argument must be a positive number greater than minValue."),a)throw new TypeError(a);var l,u,c=s.select(e);void 0===i&&(i=1),n="*"===n?function(e,t){return e*t}:function(e,t){return e+t};for(var h=0,d=c.length;h<d;++h)u=c[h],l=parseFloat(r.getStyle(u,"fontSize")),l=n(l,t),l<i||"number"==typeof o&&l>o||(u.style.fontSize=l+"px")})}};return t}),Ink.createModule("Ink.Dom.Element",1,[],function(){"use strict";function e(e){var t={};try{t=e.getBoundingClientRect()}catch(n){t={top:e.offsetTop,left:e.offsetLeft}}return t}var t="function"==typeof document.createRange&&"function"==typeof window.Range.prototype.createContextualFragment,n="Ink.Dom.Element tbody: "+Math.random(),i=function(){var e=document.createElement("div");return e.innerHTML="<table>",0!==e.getElementsByTagName("tbody").length}(),o={isDOMElement:function(e){return null!==e&&"object"==typeof e&&"nodeType"in e&&1===e.nodeType},get:function(e){return"undefined"!=typeof e?"string"==typeof e?document.getElementById(e):e:null},create:function(e,t){var n=document.createElement(e);if(t)for(var i in t)t.hasOwnProperty(i)&&(i in o?o[i](n,t[i]):"className"===i||"class"===i?n.className=t.className||t.class:n.setAttribute(i,t[i]));return n},remove:function(e){e=Ink.i(e);var t;e&&(t=e.parentNode)&&t.removeChild(e)},scrollTo:function(e){if(e=o.get(e)){if(e.scrollIntoView)return e.scrollIntoView();var t={},n=0,i=0;do n+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent;while(e);t={x:i,y:n},window.scrollTo(t.x,t.y)}},offsetTop:function(e){return o.offset(e)[1]},offsetLeft:function(e){return o.offset(e)[0]},positionedOffset:function(e){var t=0,n=0;e=o.get(e);do if(t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent){if("body"===e.tagName.toLowerCase())break;var i=e.style.position;if(!i&&e.currentStyle&&(i=e.currentStyle.position),(!i||"auto"===i)&&"undefined"!=typeof getComputedStyle){var r=getComputedStyle(e,null);i=r?r.position:null}if("relative"===i||"absolute"===i)break}while(e);return[n,t]},offset:function(t){t=Ink.i(t);var n=[0,0],i=t.ownerDocument,o=i.documentElement,r=e(t),s=i.body,a=o.clientTop||s.clientTop||0,l=o.clientLeft||s.clientLeft||0,u=i.pageYOffset||o.scrollTop||s.scrollTop,c=i.pageXOffset||o.scrollLeft||s.scrollLeft,h=r.top+u-a,d=r.left+c-l;return n=[d,h]},scroll:function(e){return e=e?Ink.i(e):document.body,[window.pageXOffset?window.pageXOffset:e.scrollLeft,window.pageYOffset?window.pageYOffset:e.scrollTop];
},_getPropPx:function(e,t){var n,i,o=e.getPropertyValue?e.getPropertyValue(t):e[t];return o?(i=o.indexOf("px"),n=i===-1?0:parseFloat(o,10)):n=0,n},offset2:function(e){return o.offset(e)},hasAttribute:function(e,t){return e=Ink.i(e),e.hasAttribute?e.hasAttribute(t):!!e.getAttribute(t)},insertAfter:function(e,t){(t=o.get(t))&&(null!==t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e))},insertBefore:function(e,t){(t=o.get(t))&&t.parentNode.insertBefore(e,t)},insertTop:function(e,t){(t=o.get(t))&&(t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e))},insertBottom:function(e,t){t=Ink.i(t),t.appendChild(e)},textContent:function(e){e=Ink.i(e);var t,n,i,r;switch(e&&e.nodeType){case 9:return o.textContent(e.documentElement||e.body&&e.body.parentNode||e.body);case 1:if(t="textContent"in e?e.textContent:e.innerText,"undefined"!=typeof t)return t;case 11:if(t=e.textContent,"undefined"!=typeof t)return t;if(e.firstChild===e.lastChild)return o.textContent(e.firstChild);for(t=[],i=e.childNodes,n=0,r=i.length;n<r;++n)t.push(o.textContent(i[n]));return t.join("");case 3:case 4:return e.nodeValue}return""},setTextContent:function(e,t){switch(e=Ink.i(e),e&&e.nodeType){case 1:if("innerText"in e){e.innerText=t;break}case 11:if("textContent"in e){e.textContent=t;break}case 9:for(;e.firstChild;)e.removeChild(e.firstChild);if(""!==t){var n=e.ownerDocument||e;e.appendChild(n.createTextNode(t))}break;case 3:case 4:e.nodeValue=t}},isLink:function(e){var t=e&&1===e.nodeType&&(/^a|area$/i.test(e.tagName)||e.hasAttributeNS&&e.hasAttributeNS("http://www.w3.org/1999/xlink","href"));return!!t},isAncestorOf:function(e,t){if(!t||!e)return!1;if(t.compareDocumentPosition)return 0!==(16&e.compareDocumentPosition(t));for(;t=t.parentNode;)if(t===e)return!0;return!1},descendantOf:function(e,t){return e!==t&&o.isAncestorOf(e,t)},firstElementChild:function(e){if(!e)return null;if("firstElementChild"in e)return e.firstElementChild;for(var t=e.firstChild;t&&1!==t.nodeType;)t=t.nextSibling;return t},lastElementChild:function(e){if(!e)return null;if("lastElementChild"in e)return e.lastElementChild;for(var t=e.lastChild;t&&1!==t.nodeType;)t=t.previousSibling;return t},nextElementSibling:function(e){var t=null;if(!e)return t;if("nextElementSibling"in e)return e.nextElementSibling;for(t=e.nextSibling;t&&1!==t.nodeType;)t=t.nextSibling;return t},previousElementSibling:function(e){var t=null;if(!e)return t;if("previousElementSibling"in e)return e.previousElementSibling;for(t=e.previousSibling;t&&1!==t.nodeType;)t=t.previousSibling;return t},elementWidth:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.offsetWidth},elementHeight:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.offsetHeight},elementLeft:function(e){return o.offsetLeft(e)},elementTop:function(e){return o.offsetTop(e)},elementDimensions:function(e){return e=Ink.i(e),[e.offsetWidth,e.offsetHeight]},outerDimensions:function(t){var n=e(t),i=Ink.getModule("Ink.Dom.Css_1"),o=Ink.bindMethod(i,"getStyle",t);return[n.right-n.left+parseFloat(o("marginLeft")||0)+parseFloat(o("marginRight")||0),n.bottom-n.top+parseFloat(o("marginTop")||0)+parseFloat(o("marginBottom")||0)]},inViewport:function(t,n){var i=e(Ink.i(t));return"boolean"==typeof n&&(n={partial:n,margin:0}),n=n||{},n.margin=n.margin||0,n.partial?i.bottom+n.margin>0&&i.left-n.margin<o.viewportWidth()&&i.top-n.margin<o.viewportHeight()&&i.right+n.margin>0:i.top+n.margin>0&&i.right-n.margin<o.viewportWidth()&&i.bottom-n.margin<o.viewportHeight()&&i.left+n.margin>0},isHidden:function(e){var t=e.offsetWidth,n=e.offsetHeight,i="tr"===e.tagName.toLowerCase(),o=Ink.getModule("Ink.Dom.Css_1");return 0===t&&0===n&&!i||!(0!==t&&0!==n&&!i)&&"none"===o.getStyle(e,"display").toLowerCase()},isVisible:function(e){return!this.isHidden(e)},clonePosition:function(e,t){var n=o.offset(t);return e.style.left=n[0]+"px",e.style.top=n[1]+"px",e},ellipsizeText:function(e){(e=Ink.i(e))&&(e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.textOverflow="ellipsis")},findUpwardsHaving:function(e,t){for(;e&&1===e.nodeType;){if(t(e))return e;e=e.parentNode}return!1},findUpwardsByClass:function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)"),i=function(e){var t=e.className;return t&&n.test(t)};return o.findUpwardsHaving(e,i)},findUpwardsByTag:function(e,t){t=t.toUpperCase();var n=function(e){return e.nodeName&&e.nodeName.toUpperCase()===t};return o.findUpwardsHaving(e,n)},findUpwardsById:function(e,t){var n=function(e){return e.id===t};return o.findUpwardsHaving(e,n)},findUpwardsBySelector:function(e,t){var n=Ink.getModule("Ink.Dom.Selector","1");if(!n)throw new Error("This method requires Ink.Dom.Selector");var i=function(e){return n.matchesSelector(e,t)};return o.findUpwardsHaving(e,i)},getChildrenText:function(e,t){var n,i,r,s=e.childNodes,a=s.length,l="";if(!e)return l;for(i=0;i<a;++i)n=s[i],n&&3===n.nodeType&&(r=o._trimString(String(n.data)),r.length>0?(l+=r,t&&e.removeChild(n)):e.removeChild(n));return l},_trimString:function(e){return String.prototype.trim?e.trim():e.replace(/^\s*/,"").replace(/\s*$/,"")},getSelectValues:function(e){for(var t=Ink.i(e),n=[],i=0;i<t.options.length;++i)n.push(t.options[i].value);return n},_normalizeData:function(e){for(var t,n=[],i=0,o=e.length;i<o;++i)t=e[i],t instanceof Array?1===t.length&&t.push(t[0]):t=[t,t],n.push(t);return n},fillSelect:function(e,t,n,i){var r=Ink.i(e);if(r){r.innerHTML="";var s,a;n||(a=document.createElement("option"),a.setAttribute("value",""),r.appendChild(a)),t=o._normalizeData(t);for(var l=0,u=t.length;l<u;++l)s=t[l],a=document.createElement("option"),a.setAttribute("value",s[0]),s.length>2&&a.setAttribute("extra",s[2]),a.appendChild(document.createTextNode(s[1])),s[0]===i&&a.setAttribute("selected","selected"),r.appendChild(a)}},fillRadios:function(e,t,n,i,r,s){e=Ink.i(e);var a=document.createElement("span");o.insertAfter(a,e),n=o._normalizeData(n);var l,u;i||(u=document.createElement("input"),u.setAttribute("type","radio"),u.setAttribute("name",t),u.setAttribute("value",""),a.appendChild(u),s&&a.appendChild(document.createElement(s)));for(var c=0;c<n.length;++c)l=n[c],u=document.createElement("input"),u.setAttribute("type","radio"),u.setAttribute("name",t),u.setAttribute("value",l[0]),a.appendChild(u),a.appendChild(document.createTextNode(l[1])),s&&a.appendChild(document.createElement(s)),l[0]===r&&(u.checked=!0);return a},fillChecks:function(e,t,n,i,r){e=Ink.i(e);var s=document.createElement("span");o.insertAfter(s,e),n=o._normalizeData(n),"]"!==t.substring(t.length-1)&&(t+="[]");for(var a,l,u=0;u<n.length;++u)a=n[u],l=document.createElement("input"),l.setAttribute("type","checkbox"),l.setAttribute("name",t),l.setAttribute("value",a[0]),s.appendChild(l),s.appendChild(document.createTextNode(a[1])),r&&s.appendChild(document.createElement(r)),a[0]===i&&(l.checked=!0);return s},parentIndexOf:function(e,t){if(t||(t=e,e=e.parentNode),!e)return!1;for(var n=0,i=e.children.length;n<i;++n)if(e.children[n]===t)return n;return!1},nextSiblings:function(e){if(e=Ink.i(e),"object"==typeof e&&null!==e&&e.nodeType&&1===e.nodeType){for(var t=[],n=e.parentNode.children,i=o.parentIndexOf(e.parentNode,e),r=++i,s=n.length;r<s;r++)t.push(n[r]);return t}return[]},previousSiblings:function(e){if(e=Ink.i(e),"object"==typeof e&&null!==e&&e.nodeType&&1===e.nodeType){for(var t=[],n=e.parentNode.children,i=o.parentIndexOf(e.parentNode,e),r=0,s=i;r<s;r++)t.push(n[r]);return t}return[]},siblings:function(e){if(e=Ink.i(e),"object"==typeof e&&null!==e&&e.nodeType&&1===e.nodeType){for(var t=[],n=e.parentNode.children,i=0,o=n.length;i<o;i++)e!==n[i]&&t.push(n[i]);return t}return[]},childElementCount:function(e){return e=Ink.i(e),"childElementCount"in e?e.childElementCount:e?o.siblings(e).length+1:0},_wrapElements:{TABLE:function(e,t){return i?e.innerHTML="<table>"+t+"<tbody><tr><td>"+n+"</tr></td></tbody></table>":e.innerHTML="<table>"+t+"</table>",e.firstChild},TBODY:function(e,t){return e.innerHTML="<table><tbody>"+t+"</tbody></table>",e.firstChild.getElementsByTagName("tbody")[0]},THEAD:function(e,t){return e.innerHTML="<table><thead>"+t+"</thead><tbody></tbody></table>",e.firstChild.getElementsByTagName("thead")[0]},TFOOT:function(e,t){return e.innerHTML="<table><tfoot>"+t+"</tfoot><tbody></tbody></table>",e.firstChild.getElementsByTagName("tfoot")[0]},TR:function(e,t){return e.innerHTML="<table><tbody><tr>"+t+"</tr></tbody></table>",e.firstChild.firstChild.firstChild}},_getWrapper:function(e,t){var r=e.nodeName&&e.nodeName.toUpperCase(),s=document.createElement("div"),a=o._wrapElements[r];if(!a)return s.innerHTML=t,s;if(s=a(s,t),i&&"TABLE"===r)for(var l=s.getElementsByTagName("td"),u=0,c=l.length;u<c;u++)if(l[u].innerHTML===n){var h=l[u].parentNode.parentNode;h.parentNode.removeChild(h)}return s},appendHTML:function(e,t){if(e=Ink.i(e),null!==e)for(var n=o._getWrapper(e,t);n.firstChild;)e.appendChild(n.firstChild)},prependHTML:function(e,t){if(e=Ink.i(e),null!==e)for(var n=o._getWrapper(e,t);n.lastChild;)e.insertBefore(n.lastChild,e.firstChild)},setHTML:function(e,t){if(e=Ink.i(e),null!==e)try{e.innerHTML=t}catch(n){o.clear(e),o.appendHTML(e,t)}},wrap:function(e,t){e=Ink.i(e),t=Ink.i(t);var n=e.nextSibling,i=e.parentNode;return t.appendChild(e),null!==n?i.insertBefore(t,n):i.appendChild(t),t},unwrap:function(e,t){e=Ink.i(e);var n;n="string"==typeof t?o.findUpwardsBySelector(e,t):"object"==typeof t&&t.tagName?o.findUpwardsHaving(e,function(e){return e===t}):e.parentNode,n&&n.parentNode&&o.insertBefore(e,n)},replace:function(e,t){e=Ink.i(e),null!==e&&e.parentNode.replaceChild(t,e)},removeTextNodeChildren:function(e){if(e=Ink.i(e),null!==e){var t,n,i=e;for(e=e.firstChild;e;)n=3===e.nodeType,t=e,e=e.nextSibling,n&&i.removeChild(t)}},htmlToFragment:t?function(e){var t;return"string"!=typeof e?document.createDocumentFragment():(t=document.createRange(),t.selectNode(document.body),t.createContextualFragment(e))}:function(e){var t,n,i=document.createDocumentFragment();if("string"!=typeof e)return i;for(t=document.createElement("div"),t.innerHTML=e;n=t.firstChild;)i.appendChild(n);return i},_camelCase:function(e){return e?e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}):e},data:function(e){var t;if("object"!=typeof e&&"string"!=typeof e)throw"[Ink.Dom.Element.data] :: Invalid selector defined";if("object"==typeof e)t=e;else{var n=Ink.getModule("Ink.Dom.Selector",1);if(!n)throw"[Ink.Dom.Element.data] :: this method requires Ink.Dom.Selector - v1";if(t=n.select(e),t.length<=0)throw"[Ink.Dom.Element.data] :: Can't find any element with the specified selector";t=t[0]}var i,r,s,a={},l=t.attributes||[];if(l)for(var u=0,c=l.length;u<c;++u)i=l[u],r=i.name,s=i.value,r&&0===r.indexOf("data-")&&(a[o._camelCase(r.replace("data-",""))]=s);return a},clear:function(e,t){for(;t=e.lastChild;)e.removeChild(t)},moveCursorTo:function(e,t){if(e=Ink.i(e),null!==e)if(e.setSelectionRange)e.setSelectionRange(t,t);else{var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},pageWidth:function(){var e;e=window.innerWidth&&window.scrollMaxX?window.innerWidth+window.scrollMaxX:document.body.scrollWidth>document.body.offsetWidth?document.body.scrollWidth:document.body.offsetWidth;var t;return window.self.innerWidth?t=document.documentElement.clientWidth?document.documentElement.clientWidth:window.self.innerWidth:document.documentElement&&document.documentElement.clientWidth?t=document.documentElement.clientWidth:document.body&&(t=document.body.clientWidth),e<t?e:t},pageHeight:function(){var e;e=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>document.body.offsetHeight?document.body.scrollHeight:document.body.offsetHeight;var t;return window.self.innerHeight?t=window.self.innerHeight:document.documentElement&&document.documentElement.clientHeight?t=document.documentElement.clientHeight:document.body&&(t=document.body.clientHeight),e<t?t:e},viewportWidth:function(){return"undefined"!=typeof window.innerWidth?window.innerWidth:document.documentElement&&"undefined"!=typeof document.documentElement.offsetWidth?document.documentElement.offsetWidth:void 0},viewportHeight:function(){return"undefined"!=typeof window.innerHeight?window.innerHeight:document.documentElement&&"undefined"!=typeof document.documentElement.offsetHeight?document.documentElement.offsetHeight:void 0},scrollWidth:function(){return"undefined"!=typeof window.self.pageXOffset?window.self.pageXOffset:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft},scrollHeight:function(){return"undefined"!=typeof window.self.pageYOffset?window.self.pageYOffset:"undefined"!=typeof document.body&&"undefined"!=typeof document.body.scrollTop&&"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.scrollTop?document.body.scrollTop||document.documentElement.scrollTop:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}};return o}),Ink.createModule("Ink.Dom.Event",1,[],function(){/*!
	      * Bean - copyright (c) Jacob Thornton 2011-2012
	      * https://github.com/fat/bean
	      * MIT license
	      */
var e=function(e,t,n){return n()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n,i=window,o=t[e],r=/[^\.]*(?=\..*)\.|.*/,s=/\..*/,a="addEventListener",l="removeEventListener",u=document||{},c=u.documentElement||{},h=c[a],d=h?a:"attachEvent",p={},f=Array.prototype.slice,m=function(e,t){return e.split(t||" ")},g=function(e){return"string"==typeof e},_=function(e){return"function"==typeof e},v="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",y="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",b=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},m(v+(h?y:""))),k=function(){var e="compareDocumentPosition"in c?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in c?function(e,t){return t=9===t.nodeType||t===window?c:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),w=function(){var e=m("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName path"),t=e.concat(m("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement movementX movementY region")),n=t.concat(m("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),o=e.concat(m("char charCode key keyCode keyIdentifier keyLocation location isComposing code")),r=e.concat(m("data")),s=e.concat(m("touches targetTouches changedTouches scale rotation")),a=e.concat(m("data origin source")),l=e.concat(m("state")),h=/over|out/,d=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,o}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,i){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+u.body.scrollLeft+c.scrollLeft,n.clientY=e.clientY+u.body.scrollTop+c.scrollTop),h.test(i)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==i?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return r}},{reg:/^touch|^gesture/i,fix:function(){return s}},{reg:/^message$/i,fix:function(){return a}},{reg:/^popstate$/i,fix:function(){return l}},{reg:/.*/,fix:function(){return e}}],p={},f=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||i).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var o,r,s,a,l,u=e.type,c=e.target||e.srcElement;if(this.target=c&&3===c.nodeType?c.parentNode:c,n){if(l=p[u],!l)for(o=0,r=d.length;o<r;o++)if(d[o].reg.test(u)){p[u]=l=d[o].fix;break}for(a=l(e,this,u),o=a.length;o--;)!((s=a[o])in this)&&s in e&&(this[s]=e[s])}}};return f.prototype.preventDefault=function(){if(this.originalEvent.preventDefault)this.originalEvent.preventDefault();else try{this.originalEvent.returnValue=!1}catch(e){}},f.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},f.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},f.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},f.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},f.prototype.clone=function(e){var t=new f(this,this.element,this.isNative);return t.currentTarget=e,t},f}(),C=function(e,t){return h||t||e!==u&&e!==i?e:c},I=function(){var e=function(e,t,n,i){var o=function(n,o){return t.apply(e,i?f.call(o,n?0:1).concat(i):o)},r=function(n,i){return t.__beanDel?t.__beanDel.ft(n.target,e):i},s=n?function(e){var t=r(e,this);if(n.apply(t,arguments))return e&&(e.currentTarget=t),o(e,arguments)}:function(e){return t.__beanDel&&(e=e.clone(r(e))),o(e,arguments)};return s.__beanDel=t.__beanDel,s},t=function(t,n,i,o,r,s,a){var l,u=k[n];"unload"==n&&(i=T(N,t,n,i,o)),u&&(u.condition&&(i=e(t,i,u.condition,s)),n=u.base||n),this.isNative=l=b[n]&&!!t[d],this.customType=!h&&!l&&n,this.element=t,this.type=n,this.original=o,this.namespaces=r,this.eventType=h||l?n:"propertychange",this.target=C(t,l),this[d]=!!this.target[d],this.root=a,this.handler=e(t,i,null,s)};return t.prototype.inNamespaces=function(e){var t,n,i=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&i++;return e.length===i},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),x=function(){var e={},t=function(n,i,o,r,s,a){var l=s?"r":"$";if(i&&"*"!=i){var u,c=0,h=e[l+i],d="*"==n;if(!h)return;for(u=h.length;c<u;c++)if((d||h[c].matches(n,o,r))&&!a(h[c],h,c,i))return}else for(var p in e)p.charAt(0)==l&&t(n,p.substr(1),o,r,s,a)},n=function(t,n,i,o){var r,s=e[(o?"r":"$")+n];if(s)for(r=s.length;r--;)if(!s[r].root&&s[r].matches(t,i,null))return!0;return!1},i=function(e,n,i,o){var r=[];return t(e,n,i,null,o,function(e){return r.push(e)}),r},o=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),i=(t.root?"r":"$")+t.type;return(e[i]||(e[i]=[])).push(t),n},r=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,i){return n.splice(i,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},s=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:i,put:o,del:r,entries:s}}(),E=function(e){n=arguments.length?e:u.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},S=function(e,t){if(h||!t||!e||e.propertyName=="_on"+t){var n=x.get(this,t||e.type,null,!1),i=n.length,o=0;for(e=new w(e,this,!0),t&&(e.type=t);o<i&&!e.isImmediatePropagationStopped();o++)n[o].removed||n[o].handler.call(this,e)}},D=h?function(e,t,n){e[n?a:l](t,S,!1)}:function(e,t,n,i){var o;n?(x.put(o=new I(e,i||t,function(t){S.call(e,t,i)},S,null,null,!0)),i&&null==e["_on"+i]&&(e["_on"+i]=0),o.target.attachEvent("on"+o.eventType,o.handler)):(o=x.get(e,i||t,S,!0)[0],o&&(o.target.detachEvent("on"+o.eventType,o.handler),x.del(o)))},T=function(e,t,n,i,o){return function(){i.apply(this,arguments),e(t,n,o)}},N=function(e,t,n,i){var o,r,a=t&&t.replace(s,""),l=x.get(e,a,null,!1),u={};for(o=0,r=l.length;o<r;o++)n&&l[o].original!==n||!l[o].inNamespaces(i)||(x.del(l[o]),!u[l[o].eventType]&&l[o][d]&&(u[l[o].eventType]={t:l[o].eventType,c:l[o].type}));for(o in u)u.hasOwnProperty(o)&&(x.has(e,u[o].t,null,!1)||D(e,u[o].t,!1,u[o].c))},O=function(e,t){var i=function(t,i){for(var o,r=g(e)?n(e,i):e;t&&t!==i;t=t.parentNode)for(o=r.length;o--;)if(r[o]===t)return t},o=function(e){var n=i(e.target,this);n&&t.apply(n,arguments)};return o.__beanDel={ft:i,selector:e},o},A=h?function(e,t,n){var o=u.createEvent(e?"HTMLEvents":"UIEvents");o[e?"initEvent":"initUIEvent"](t,!0,!0,i,1),n.dispatchEvent(o)}:function(e,t,n){n=C(n,e),e?n.fireEvent("on"+t,u.createEventObject()):n["_on"+t]++},M=function(e,t,n){var i,o,a,l,u=g(t);if(u&&t.indexOf(" ")>0){for(t=m(t),l=t.length;l--;)M(e,t[l],n);return e}if(o=u&&t.replace(s,""),o&&k[o]&&(o=k[o].base),!t||u)(a=u&&t.replace(r,""))&&(a=m(a,".")),N(e,o,n,a);else if(_(t))N(e,null,t);else for(i in t)t.hasOwnProperty(i)&&M(e,i,t[i]);return e},P=function(e,t,i,o){var a,l,u,c,h,g,v;if(void 0!==i||"object"!=typeof t){for(_(i)?(h=f.call(arguments,3),o=a=i):(a=o,h=f.call(arguments,4),o=O(i,a,n)),u=m(t),this===p&&(o=T(M,e,t,o,a)),c=u.length;c--;)v=x.put(g=new I(e,u[c].replace(s,""),o,a,m(u[c].replace(r,""),"."),h,!1)),g[d]&&v&&D(e,g.eventType,!0,g.customType);return e}for(l in t)t.hasOwnProperty(l)&&P.call(this,e,l,t[l])},L=function(e,t,n,i){return P.apply(null,g(n)?[e,n,t,i].concat(arguments.length>3?f.call(arguments,5):[]):f.call(arguments))},F=function(){return P.apply(p,arguments)},U=function(e,t,n){var i,o,a,l,u,c=m(t);for(i=c.length;i--;)if(t=c[i].replace(s,""),(l=c[i].replace(r,""))&&(l=m(l,".")),l||n||!e[d])for(u=x.get(e,t,null,!1),n=[!1].concat(n),o=0,a=u.length;o<a;o++)u[o].inNamespaces(l)&&u[o].handler.apply(e,n);else A(b[t],t,e);return e},R=function(e,t,n){for(var i,o,r=x.get(t,n,null,!1),s=r.length,a=0;a<s;a++)r[a].original&&(i=[e,r[a].type],(o=r[a].handler.__beanDel)&&i.push(o.selector),i.push(r[a].original),P.apply(null,i));return e},j={on:P,add:L,one:F,off:M,remove:M,clone:R,fire:U,Event:w,setSelectorEngine:E,noConflict:function(){return t[e]=o,this}};if(i.attachEvent){var B=function(){var e,t=x.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&M(t[e].element,t[e].type);i.detachEvent("onunload",B),i.CollectGarbage&&i.CollectGarbage()};i.attachEvent("onunload",B)}return E(Ink.ss),j}),t={KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_SPACE:32,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,throttle:function(e,t,n){function i(s){var a=+new Date,l=a-r;if(n.preventDefault&&s&&"function"==typeof s.preventDefault&&s.preventDefault(),l>=t)return r=a,e.apply("bind"in n?n.bind:this,[].slice.call(arguments));var u=this,c=[].slice.call(arguments);o&&clearTimeout(o),o=setTimeout(function(){return o=null,i.apply(u,c)},t-l)}t=t||0,n=n||{};var o,r=0;return i},element:function(e){var t=e.delegationTarget||e.target||"mouseout"===e.type&&e.fromElement||"mouseleave"===e.type&&e.fromElement||"mouseover"===e.type&&e.toElement||"mouseenter"===e.type&&e.toElement||e.srcElement||null;return!t||3!==t.nodeType&&4!==t.nodeType?t:t.parentNode},relatedTarget:function(e){var t=e.relatedTarget||"mouseout"===e.type&&e.toElement||"mouseleave"===e.type&&e.toElement||"mouseover"===e.type&&e.fromElement||"mouseenter"===e.type&&e.fromElement||null;return!t||3!==t.nodeType&&4!==t.nodeType?t:t.parentNode},findElement:function(e,t,n){for(var i=this.element(e);;){if(i.nodeName.toLowerCase()===t.toLowerCase())return i;if(i=i.parentNode,!i)return!n&&document;if(!i.parentNode)return!n&&document}},observe:function(e,t,n,i){if(e=Ink.i(e))return e.addEventListener?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n=Ink.bind(n,e)),n},observeOnce:function(e,n,i,o){var r=function(){return t.stopObserving(e,n,s),i.apply(this,arguments)},s=t.observe(e,n,r,o);return s},observeMulti:function(e,t,n,i){if("string"==typeof e?e=Ink.ss(e):e&&1===e.nodeType&&(e=[e]),!e[0])return!1;for(var o=0,r=e.length;o<r;o++)this.observe(e[o],t,n,i);return n},observeDelegated:function(e,n,i,o){return t.observe(e,n,function(n){var r=t.element(n);if(r&&r!==e)for(var s=r;s!==e&&s!==document&&s;){if(Ink.Dom.Selector_1.matchesSelector(s,i))return n.delegationTarget=s,o(n);s=s.parentNode}})},stopObserving:function(e,t,n,i){e=Ink.i(e),e&&(e.removeEventListener?e.removeEventListener(t,n,!!i):e.detachEvent("on"+t,n))},stop:function(e){null!==e.cancelBubble&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),window.attachEvent&&(e.returnValue=!1),null!==e.cancel&&(e.cancel=!0)},stopPropagation:function(e){null!==e.cancelBubble&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation()},stopDefault:function(e){e.preventDefault&&e.preventDefault(),window.attachEvent&&(e.returnValue=!1),null!==e.cancel&&(e.cancel=!0)},pointer:function(e){return{x:this.pointerX(e),y:this.pointerY(e)}},pointerX:function(e){return e.touches&&e.touches[0]&&e.touches[0].pageX||e.pageX||e.clientX},pointerY:function(e){return e.touches&&e.touches[0]&&e.touches[0].pageY||e.pageY||e.clientY},isLeftClick:function(e){if(window.addEventListener){if(0===e.button)return!0;if("touchend"===e.type&&null===e.button)return!0}else if(1===e.button)return!0;return!1},isRightClick:function(e){return 2===e.button},isMiddleClick:function(e){return window.addEventListener?1===e.button:4===e.button},getCharFromKeyboardEvent:function(e,t){var n=e.keyCode,i=String.fromCharCode(n),o=e.shiftKey;if(n>=65&&n<=90)return"boolean"==typeof t&&(o=t),o?i:i.toLowerCase();if(n>=96&&n<=105)return String.fromCharCode(48+(n-96));switch(n){case 109:case 189:return"-";case 107:case 187:return"+"}return i},debug:function(){}};return Ink.extendObj(t,e)}),Ink.createModule("Ink.Dom.FormSerialize",1,["Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],function(e,t,n){"use strict";function i(n){return null!=n&&!t.isDOMElement(n)&&(e.isArray(n)||"string"!=typeof n&&"number"==typeof n.length)}function o(e){return i(e)?e:[e]}var r={serialize:function(t,n){n=n||{};var i={},o={},s=this.asPairs(t,{elements:!0,emptyArray:o,outputUnchecked:n.outputUnchecked});return null==s?s:(e.forEach(s,function(e){var t=/\[\]$/.test(e[0]),n=e[0].replace(/\[\]$/,""),s=e[1],a=e[2];s===o?i[n]=[]:r._resultsInArray(a)||t?n in i?(i[n]instanceof Array||(i[n]=[i[n]]),i[n].push(s)):t?i[n]=[s]:i[n]=s:i[n]=s}),i)},asPairs:function(t,i){function o(e,t,n){i.elements?a.push([e,t,n]):a.push([e,t])}function s(t){var r=t.nodeName.toLowerCase(),s=(t.type+"").toLowerCase();if("select"===r&&t.multiple){var a=!1;e.forEach(n.select("option:checked",t),function(e){o(t.name,e.value,t),a=!0}),!a&&"emptyArray"in i&&o(t.name,i.emptyArray,t)}else"input"!==r||"checkbox"!==s&&"radio"!==s||!i.outputUnchecked?o(t.name,t.value,t):o(t.name,null,t)}var a=[];if(i=i||{},t=Ink.i(t)){for(var l=e.filter(t.elements,function(e){return r._isSerialized(e,i)}),u=0,c=l.length;u<c;u++)s(l[u]);return a}return null},fillIn:function(e,t){if(!(e=Ink.i(e)))return null;var n;if("object"!=typeof t||i(t)){if(!i(t))return null;n=t}else n=r._objToPairs(t);return r._fillInPairs(e,n)},_objToPairs:function(e){var t,n=[];for(var i in e)if(e.hasOwnProperty(i)){t=o(e[i]);for(var r=0,s=t.length;r<s;r++)n.push([i,t[r]]);0===s&&n.push([i,[]])}return n},_fillInPairs:function(t,n){n=e.groupBy(n,{key:function(e){return e[0].replace(/\[\]$/,"")},adjacentGroups:!0}),n=e.map(n,function(t){var n=e.reduce(t,function(e,t){return[null,e[1].concat([t[1]])]},[null,[]])[1];return[t[0][0],n]});for(var i,s,a,l=0,u=n.length;l<u;l++){if(i=n[l][0],i in t)s=t[i];else{if(!(i+"[]"in t))continue;s=t[i+"[]"],i+="[]"}s=o(s),a=n[l][1],r._fillInOne(i,s,a)}},_fillInOne:function(e,n,i){var o=n[0],s=o.nodeName.toLowerCase(),a=o.getAttribute("type");a=a&&a.toLowerCase();var l="select"===s&&t.hasAttribute(o,"multiple");if("checkbox"===a||"radio"===a)r._fillInBoolean(n,i,"checked");else if(l)r._fillInBoolean(n[0].options,i,"selected");else{n.length!==i.length&&Ink.warn("Form had "+n.length+' inputs named "'+e+'", but received '+i.length+" values.");for(var u=0,c=Math.min(n.length,i.length);u<c;u+=1)n[u].value=i[u]}},_fillInBoolean:function(t,n,i){e.forEach(t,function(t){var o=e.inArray(t.value,n);t[i]=o})},_resultsInArray:function(e){var n=e.getAttribute("type"),i=e.nodeName.toLowerCase();return"checkbox"===n||"select"===i&&t.hasAttribute(e,"multiple")},_isSerialized:function(e,n){if(n=n||{},!t.isDOMElement(e))return!1;if(!t.hasAttribute(e,"name"))return!1;var i=e.nodeName.toLowerCase();return!(!i||"fieldset"===i||("checkbox"===e.type||"radio"===e.type)&&!n.outputUnchecked&&!e.checked)}};return r}),Ink.createModule("Ink.Dom.Loaded",1,[],function(){"use strict";var e={_contexts:[],run:function(e,t){t||(t=e,e=window);for(var n,i=0,o=this._contexts.length;i<o;i++)if(this._contexts[i][0]===e){n=this._contexts[i][1];break}n||(n={cbQueue:[],win:e,doc:e.document,root:e.document.documentElement,done:!1,top:!0},n.handlers={checkState:Ink.bindEvent(this._checkState,this,n),poll:Ink.bind(this._poll,this,n)},this._contexts.push([e,n]));var r=n.doc.addEventListener;n.add=r?"addEventListener":"attachEvent",n.rem=r?"removeEventListener":"detachEvent",n.pre=r?"":"on",n.det=r?"DOMContentLoaded":"onreadystatechange",n.wet=n.pre+"load";var s=n.handlers.checkState,a=/complete|loaded/.test(n.doc.readyState)&&"about:blank"!==n.win.location.toString();if(a)setTimeout(Ink.bind(function(){t.call(n.win,"lazy")},this),0);else{n.cbQueue.push(t),n.doc[n.add](n.det,s),n.win[n.add](n.wet,s);var l=1;try{l=n.win.frameElement}catch(e){}if(!r&&n.root&&n.root.doScroll){try{n.top=!l}catch(e){}n.top&&this._poll(n)}}},_checkState:function(e,t){if(e&&("readystatechange"!==e.type||/complete|loaded/.test(t.doc.readyState))){var n="load"===e.type?t.win:t.doc;n[t.rem](t.pre+e.type,t.handlers.checkState,!1),this._ready(t)}},_poll:function(e){try{e.root.doScroll("left")}catch(t){return setTimeout(e.handlers.poll,50)}this._ready(e)},_ready:function(e){if(!e.done){e.done=!0;for(var t=0;t<e.cbQueue.length;++t)e.cbQueue[t].call(e.win);e.cbQueue=[]}}};return e}),Ink.createModule("Ink.Dom.Selector",1,[],function(){"use strict";function e(e){return fe.test(e+"")}function t(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>w.cacheLength&&delete e[t.shift()],e[n]=i}}function n(e){return e[U]=!0,e}function i(e){var t=N.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t=null}}function o(e,t,n,i){var o,r,s,a,l,h,d,p,f,m;if((t?t.ownerDocument||t:R)!==N&&T(t),t=t||N,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(A&&!i){if(o=me.exec(e))if(s=o[1]){if(9===a){if(r=t.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&F(t,r)&&r.id===s)return n.push(r),n}else{if(o[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&j.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(s)),n}if(j.qsa&&!M.test(e)){if(d=!0,p=U,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(h=u(e),(d=t.getAttribute("id"))?p=d.replace(ve,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=h.length;l--;)h[l]=p+c(h[l]);f=pe.test(e)&&t.parentNode||t,m=h.join(",")}if(m)try{return Q.apply(n,f.querySelectorAll(m)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return v(e.replace(ae,"$1"),t,n,i)}function r(e,t){var n=t&&e,i=n&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function a(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return n(function(t){return t=+t,n(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function u(e,t){var n,i,r,s,a,l,u,c=z[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=w.preFilter;a;){n&&!(i=le.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),n=!1,(i=ue.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ae," ")}),a=a.slice(n.length));for(s in w.filter)!(i=de[s].exec(a))||u[s]&&!(i=u[s](i))||(n=i.shift(),r.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?o.error(e):z(e,l).slice(0)}function c(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=H++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var a,l,u,c=B+" "+r;if(s){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(u=t[U]||(t[U]={}),(l=u[i])&&l[0]===c){if((a=l[1])===!0||a===k)return a===!0}else if(l=u[i]=[c],l[1]=e(t,n,s)||k,l[1]===!0)return!0}}function d(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function p(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,i,o)||(s.push(r),u&&t.push(a)));return s}function f(e,t,i,o,r,s){return o&&!o[U]&&(o=f(o)),r&&!r[U]&&(r=f(r,s)),n(function(n,s,a,l){var u,c,h,d=[],f=[],m=s.length,g=n||_(t||"*",a.nodeType?[a]:a,[]),v=!e||!n&&t?g:p(g,d,e,a,l),y=i?r||(n?e:m||o)?[]:s:v;if(i&&i(v,y,a,l),o)for(u=p(y,f),o(u,[],a,l),c=u.length;c--;)(h=u[c])&&(y[f[c]]=!(v[f[c]]=h));if(n){if(r||e){if(r){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(v[c]=h);r(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=r?ee.call(n,h):d[c])>-1&&(n[u]=!(s[u]=h))}}else y=p(y===s?y.splice(m,y.length):y),r?r(null,s,y,l):Q.apply(s,y)})}function m(e){for(var t,n,i,o=e.length,r=w.relative[e[0].type],s=r||w.relative[" "],a=r?1:0,l=h(function(e){return e===t},s,!0),u=h(function(e){return ee.call(t,e)>-1},s,!0),p=[function(e,n,i){return!r&&(i||n!==E)||((t=n).nodeType?l(e,n,i):u(e,n,i))}];a<o;a++)if(n=w.relative[e[a].type])p=[h(d(p),n)];else{if(n=w.filter[e[a].type].apply(null,e[a].matches),n[U]){for(i=++a;i<o&&!w.relative[e[i].type];i++);return f(a>1&&d(p),a>1&&c(e.slice(0,a-1)).replace(ae,"$1"),n,a<i&&m(e.slice(a,i)),i<o&&m(e=e.slice(i)),i<o&&c(e))}p.push(n)}return d(p)}function g(e,t){var i=0,r=t.length>0,s=e.length>0,a=function(n,a,l,u,c){var h,d,f,m=[],g=0,_="0",v=n&&[],y=null!=c,b=E,C=n||s&&w.find.TAG("*",c&&a.parentNode||a),I=B+=null==b?1:Math.random()||.1;for(y&&(E=a!==N&&a,k=i);null!=(h=C[_]);_++){if(s&&h){for(d=0;f=e[d++];)if(f(h,a,l)){u.push(h);break}y&&(B=I,k=++i)}r&&((h=!f&&h)&&g--,n&&v.push(h))}if(g+=_,r&&_!==g){for(d=0;f=t[d++];)f(v,m,a,l);if(n){if(g>0)for(;_--;)v[_]||m[_]||(m[_]=G.call(u));m=p(m)}Q.apply(u,m),y&&!n&&m.length>0&&g+t.length>1&&o.uniqueSort(u)}return y&&(B=I,E=b),v};return r?n(a):a}function _(e,t,n){for(var i=0,r=t.length;i<r;i++)o(e,t[i],n);return n}function v(e,t,n,i){var o,r,s,a,l,h=u(e);if(!i&&1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&9===t.nodeType&&A&&w.relative[r[1].type]){if(t=(w.find.ID(s.matches[0].replace(be,ke),t)||[])[0],!t)return n;e=e.slice(r.shift().value.length)}for(o=de.needsContext.test(e)?0:r.length;o--&&(s=r[o],!w.relative[a=s.type]);)if((l=w.find[a])&&(i=l(s.matches[0].replace(be,ke),pe.test(r[0].type)&&t.parentNode||t))){if(r.splice(o,1),e=i.length&&c(r),!e)return Q.apply(n,i),n;break}}return x(e,h)(i,t,!A,n,pe.test(e)),n}function y(){}/*!
	 * Sizzle CSS Selector Engine
	 * Copyright 2013 jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://sizzlejs.com/
	 */
var b,k,w,C,I,x,E,S,D,T,N,O,A,M,P,L,F,U="sizzle"+-new Date,R=window.document,j={},B=0,H=0,q=t(),z=t(),W=t(),$=!1,V=function(){return 0},Y="undefined",J=1<<31,X=[],G=X.pop,K=X.push,Q=X.push,Z=X.slice,ee=X.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=ne.replace("w","w#"),oe="([*^$|!~]?=)",re="\\["+te+"*("+ne+")"+te+"*(?:"+oe+te+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ie+")|)|)"+te+"*\\]",se=":("+ne+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+re.replace(3,8)+")*)|.*)\\)|)",ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),le=new RegExp("^"+te+"*,"+te+"*"),ue=new RegExp("^"+te+"*([\\x20\\t\\r\\n\\f>+~])"+te+"*"),ce=new RegExp(se),he=new RegExp("^"+ie+"$"),de={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),NAME:new RegExp("^\\[name=['\"]?("+ne+")['\"]?\\]"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},pe=/[\x20\t\r\n\f]*[+~]/,fe=/^[^{]+\{\s*\[native code/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,ve=/'|\\/g,ye=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,be=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ke=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Q.apply(X=Z.call(R.childNodes),R.childNodes),X[R.childNodes.length].nodeType}catch(e){Q={apply:X.length?function(e,t){K.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}I=o.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=o.setDocument=function(t){var n=t?t.ownerDocument||t:R;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,O=n.documentElement,A=!I(n),j.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),j.attributes=i(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),j.getElementsByClassName=i(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),j.getByName=i(function(e){e.id=U+0,e.appendChild(N.createElement("a")).setAttribute("name",U),e.appendChild(N.createElement("i")).setAttribute("name",U),O.appendChild(e);var t=n.getElementsByName&&n.getElementsByName(U).length===2+n.getElementsByName(U+0).length;return O.removeChild(e),t}),j.sortDetached=i(function(e){return e.compareDocumentPosition&&1&e.compareDocumentPosition(N.createElement("div"))}),w.attrHandle=i(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==Y&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},j.getByName?(w.find.ID=function(e,t){if(typeof t.getElementById!==Y&&A){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(be,ke);return function(e){return e.getAttribute("id")===t}}):(w.find.ID=function(e,t){if(typeof t.getElementById!==Y&&A){var n=t.getElementById(e);return n?n.id===e||typeof n.getAttributeNode!==Y&&n.getAttributeNode("id").value===e?[n]:void 0:[]}},w.filter.ID=function(e){var t=e.replace(be,ke);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=j.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Y)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},w.find.NAME=j.getByName&&function(e,t){if(typeof t.getElementsByName!==Y)return t.getElementsByName(name)},w.find.CLASS=j.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==Y&&A)return t.getElementsByClassName(e)},P=[],M=[":focus"],(j.qsa=e(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||M.push("\\["+te+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||M.push(":checked")}),i(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&M.push("[*^$]="+te+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(j.matchesSelector=e(L=O.matchesSelector||O.mozMatchesSelector||O.webkitMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){j.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),P.push("!=",se)}),M=new RegExp(M.join("|")),P=P.length&&new RegExp(P.join("|")),F=e(O.contains)||O.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=O.compareDocumentPosition?function(e,t){if(e===t)return $=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||S&&t.compareDocumentPosition(e)===i?e===n||F(R,e)?-1:t===n||F(R,t)?1:D?ee.call(D,e)-ee.call(D,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,o=0,s=e.parentNode,a=t.parentNode,l=[e],u=[t];if(e===t)return $=!0,0;if(!s||!a)return e===n?-1:t===n?1:s?-1:a?1:0;if(s===a)return r(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)u.unshift(i);for(;l[o]===u[o];)o++;return o?r(l[o],u[o]):l[o]===R?-1:u[o]===R?1:0},N):N},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==N&&T(e),t=t.replace(ye,"='$1']"),j.matchesSelector&&A&&(!P||!P.test(t))&&!M.test(t))try{var n=L.call(e,t);if(n||j.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return o(t,N,null,[e]).length>0},o.contains=function(e,t){return(e.ownerDocument||e)!==N&&T(e),F(e,t)},o.attr=function(e,t){var n;return(e.ownerDocument||e)!==N&&T(e),A&&(t=t.toLowerCase()),(n=w.attrHandle[t])?n(e):!A||j.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},o.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},o.uniqueSort=function(e){var t,n=[],i=0,o=0;if($=!j.detectDuplicates,S=!j.sortDetached,D=!j.sortStable&&e.slice(0),e.sort(V),$){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return e},C=o.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=C(t);return n},w=o.selectors={cacheLength:50,createPseudo:n,match:de,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,ke),e[3]=(e[4]||e[5]||"").replace(be,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&o.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return de.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ce.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(be,ke).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&q(e,function(e){return t.test(e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=o.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,p,f,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,_=a&&t.nodeName.toLowerCase(),v=!l&&!a;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===_:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(c=g[U]||(g[U]={}),u=c[e]||[],p=u[0]===B&&u[1],d=u[0]===B&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){c[e]=[B,p,d];break}}else if(v&&(u=(t[U]||(t[U]={}))[e])&&u[0]===B)d=u[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==_:1!==h.nodeType)||!++d||(v&&((h[U]||(h[U]={}))[e]=[B,d]),h!==t)););return d-=o,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,t){var i,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||o.error("unsupported pseudo: "+e);return r[U]?r(t):r.length>1?(i=[e,e,"",t],w.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)i=ee.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:n(function(e){var t=[],i=[],o=x(e.replace(ae,"$1"));return o[U]?n(function(e,t,n,i){for(var r,s=o(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,n,r){return t[0]=e,o(t,null,r,i),!i.pop()}}),has:n(function(e){return function(t){return o(e,t).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:n(function(e){return he.test(e||"")||o.error("unsupported lang: "+e),e=e.replace(be,ke).toLowerCase(),function(t){var n;do if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===O},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return _e.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}};for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=a(b);return x=o.compile=function(e,t){var n,i=[],o=[],r=W[e+" "];if(!r){for(t||(t=u(e)),n=t.length;n--;)r=m(t[n]),r[U]?i.push(r):o.push(r);r=W(e,g(o,i))}return r},w.pseudos.nth=w.pseudos.eq,y.prototype=w.filters=w.pseudos,w.setFilters=new y,j.sortStable=U.split("").sort(V).join("")===U,T(),[0,0].sort(V),j.detectDuplicates=$,{select:o,matches:o.matches,matchesSelector:o.matchesSelector}}),Ink.createModule("Ink.Util.Array","1",[],function(){"use strict";var e=Array.prototype,t={isArray:Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},groupBy:function(e,n){function i(e){return"function"==typeof n.key?n.key(e):"string"==typeof n.key?e[n.key]:e}function o(e){var t=n.pairs?[e,[]]:[];return a.push(t),s.push(e),t}n=n||{};for(var r,s=[],a=[],l=0,u=e.length;l<u;l++){r=i(e[l]);var c;c=n.adjacentGroups?s[s.length-1]===r?a[a.length-1]:o(r):a[t.keyValue(r,s,!0)]||o(r),n.pairs?c[1].push(e[l]):c.push(e[l])}return a},reduce:function(t,n,i){if(e.reduce)return e.reduce.apply(t,e.slice.call(arguments,1));var o,r=Object(t),s=r.length>>>0,a=0;if(arguments.length>=3)o=i;else{for(;a<s&&!(a in r);)a++;if(a>=s)throw new TypeError("Reduce of empty array with no initial value");o=r[a++]}for(;a<s;a++)a in r&&(o=n(o,r[a],a,r));return o},inArray:function(e,t){if("object"==typeof t)for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return!0;return!1},sortMulti:function(e,t){if("undefined"==typeof e||e.constructor!==Array)return!1;if("string"!=typeof t)return e.sort();if(e.length>0){if("undefined"==typeof e[0][t])return!1;e.sort(function(e,n){var i=e[t],o=n[t];return i<o?-1:i>o?1:0})}return e},keyValue:function(e,t,n){if("undefined"!=typeof e&&"object"==typeof t&&this.inArray(e,t)){for(var i=[],o=0,r=t.length;o<r;++o)if(t[o]===e){if("undefined"!=typeof n&&n===!0)return o;i.push(o)}return i}return!1},shuffle:function(e){if("undefined"!=typeof e&&e.constructor!==Array)return!1;for(var t=e.length,n=!1,i=!1;t--;)i=Math.floor(Math.random()*(t+1)),n=e[t],e[t]=e[i],e[i]=n;return e},forEach:function(t,n,i){if(e.forEach)return e.forEach.call(t,n,i);for(var o=0,r=t.length>>>0;o<r;o++)n.call(i,t[o],o,t)},forEachObj:function(e,n,i){t.forEach(t.keys(e),function(t){n.call(i||null,e[t],t,e)})},each:function(){t.forEach.apply(t,e.slice.call(arguments))},map:function(t,n,i){if(e.map)return e.map.call(t,n,i);for(var o=new Array(s),r=0,s=t.length>>>0;r<s;r++)o[r]=n.call(i,t[r],r,t);return o},filter:function(t,n,i){if(e.filter)return e.filter.call(t,n,i);for(var o=[],r=null,s=0,a=t.length;s<a;s++)r=t[s],n.call(i,r,s,t)&&o.push(r);return o},some:function(e,t,n){if(null===e)throw new TypeError("First argument is invalid.");var i=Object(e),o=i.length>>>0;if("function"!=typeof t)throw new TypeError("Second argument must be a function.");for(var r=0;r<o;r++)if(r in i&&t.call(n,i[r],r,i))return!0;return!1},intersect:function(e,t){if(!e||!t||e instanceof Array==0||t instanceof Array==0)return[];for(var n=[],i=0,o=e.length;i<o;++i)for(var r=0,s=t.length;r<s;++r)e[i]===t[r]&&n.push(e[i]);return n},convert:function(t){return e.slice.call(t||[],0)},unique:function(e){if(!Array.prototype.lastIndexOf){var n=[];return t.forEach(t.convert(e),function(e){t.inArray(e,n)||n.push(e)}),n}return t.filter(t.convert(e),function(e,t,n){return n.lastIndexOf(e)===t})},range:function(e,t,n){1===arguments.length&&(t=e,e=0),n||(n=1);var i,o=[];if(n>0)for(i=e;i<t;i+=n)o.push(i);else for(i=e;i>t;i+=n)o.push(i);return o},insert:function(e,t,n){e.splice(t,0,n)},keys:function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},remove:function(e,t,n){for(var i=[],o=0,r=e.length;o<r;o++)o>=t&&o<t+n||i.push(e[o]);return i}};return t}),Ink.createModule("Ink.Util.BinPack","1",[],function(){"use strict";var e=function(e,t){this.init(e,t)};e.prototype={init:function(e,t){this.root={x:0,y:0,w:e,h:t}},fit:function(e){var t,n,i;for(t=0;t<e.length;++t)i=e[t],(n=this.findNode(this.root,i.w,i.h))&&(i.fit=this.splitNode(n,i.w,i.h))},findNode:function(e,t,n){return e.used?this.findNode(e.right,t,n)||this.findNode(e.down,t,n):t<=e.w&&n<=e.h?e:null},splitNode:function(e,t,n){return e.used=!0,e.down={x:e.x,y:e.y+n,w:e.w,h:e.h-n},e.right={x:e.x+t,y:e.y,w:e.w-t,h:n},e}};var t=function(){};t.prototype={fit:function(e){var t,n,i,o=e.length,r=o>0?e[0].w:0,s=o>0?e[0].h:0;for(this.root={x:0,y:0,w:r,h:s},t=0;t<o;t++)i=e[t],(n=this.findNode(this.root,i.w,i.h))?i.fit=this.splitNode(n,i.w,i.h):i.fit=this.growNode(i.w,i.h)},findNode:function(e,t,n){return e.used?this.findNode(e.right,t,n)||this.findNode(e.down,t,n):t<=e.w&&n<=e.h?e:null},splitNode:function(e,t,n){return e.used=!0,e.down={x:e.x,y:e.y+n,w:e.w,h:e.h-n},e.right={x:e.x+t,y:e.y,w:e.w-t,h:n},e},growNode:function(e,t){var n=e<=this.root.w,i=t<=this.root.h,o=i&&this.root.h>=this.root.w+e,r=n&&this.root.w>=this.root.h+t;return o?this.growRight(e,t):r?this.growDown(e,t):i?this.growRight(e,t):n?this.growDown(e,t):null},growRight:function(e,t){this.root={used:!0,x:0,y:0,w:this.root.w+e,h:this.root.h,down:this.root,right:{x:this.root.w,y:0,w:e,h:this.root.h}};var n;return(n=this.findNode(this.root,e,t))?this.splitNode(n,e,t):null},growDown:function(e,t){this.root={used:!0,x:0,y:0,w:this.root.w,h:this.root.h+t,down:{x:0,y:this.root.h,w:this.root.w,h:t},right:this.root};var n;return(n=this.findNode(this.root,e,t))?this.splitNode(n,e,t):null}};var n={random:function(){return Math.random()-.5},w:function(e,t){return t.w-e.w},h:function(e,t){return t.h-e.h},a:function(e,t){return t.area-e.area},max:function(e,t){return Math.max(t.w,t.h)-Math.max(e.w,e.h)},min:function(e,t){return Math.min(t.w,t.h)-Math.min(e.w,e.h)},height:function(e,t){return n.msort(e,t,["h","w"])},width:function(e,t){return n.msort(e,t,["w","h"])},area:function(e,t){return n.msort(e,t,["a","h","w"])},maxside:function(e,t){return n.msort(e,t,["max","min","h","w"])},msort:function(e,t,i){var o,r;for(r=0;r<i.length;++r)if(o=n[i[r]](e,t),0!==o)return o;return 0}},i=function(){return[this.w," x ",this.h].join("")},o={binPack:function(o){var r,s,a;for(r=0,s=o.blocks.length;r<s;++r)a=o.blocks[r],"area"in a||(a.area=a.w*a.h);var l=o.dimensions?new e(o.dimensions[0],o.dimensions[1]):new t;o.sorter||(o.sorter="maxside"),o.blocks.sort(n[o.sorter]),l.fit(o.blocks);var u=[l.root.w,l.root.h],c=[],h=[];for(r=0,s=o.blocks.length;r<s;++r)a=o.blocks[r],a.fit?c.push(a):(a.toString=i,h.push(a));var d=u[0]*u[1],p=0;for(r=0,s=c.length;r<s;++r)a=c[r],p+=a.area;return{dimensions:u,filled:p/d,blocks:o.blocks,fitted:c,unfitted:h}}};return o}),Ink.createModule("Ink.Util.Cookie","1",[],function(){"use strict";var e={get:function(e){var t=document.cookie||!1,n={};if(t){t=t.replace(new RegExp("; ","g"),";");var i=t.split(";"),o=[];if(i.length>0)for(var r=0;r<i.length;r++)o=i[r].split("="),2===o.length&&(n[o[0]]=decodeURIComponent(o[1]));if(e)return"undefined"!=typeof n[e]?n[e]:null}return n},set:function(e,t,n,i,o,r){var s;if(!e||t===!1||"undefined"==typeof e||"undefined"==typeof t)return!1;s=e+"="+encodeURIComponent(t);var a=!1,l=!1,u=!1,c=!1;if(n&&"undefined"!=typeof n&&!isNaN(n)){var h=new Date,d=parseInt(Number(h.valueOf()),10)+1e3*Number(parseInt(n,10)),p=new Date(d),f=p.toGMTString(),m=new RegExp("([^\\s]+)(\\s\\d\\d)\\s(\\w\\w\\w)\\s(.*)");f=f.replace(m,"$1$2-$3-$4"),a="expires="+f}else a="undefined"==typeof n||isNaN(n)||0!==Number(parseInt(n,10))?"expires=Thu, 01-Jan-2037 00:00:01 GMT":"";l=i&&"undefined"!=typeof i?"path="+i:"path=/",o?u="domain="+o:/\./.test(window.location.hostname)&&(u="domain="+window.location.hostname),c=!(!r||"undefined"==typeof r)&&r,document.cookie=s+"; "+a+"; "+l+(u?"; "+u:"")+"; "+c},remove:function(e,t,n){var i=-1;this.set(e,"deleted",i,t,n)}};return e}),Ink.createModule("Ink.Util.Date","1",[],function(){"use strict";var e={_months:function(e){var t=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return t[e]},_iMonth:function(e){return Number(e)?+e-1:{janeiro:0,jan:0,fevereiro:1,fev:1,"maro":2,mar:2,abril:3,abr:3,maio:4,mai:4,junho:5,jun:5,julho:6,jul:6,agosto:7,ago:7,setembro:8,set:8,outubro:9,out:9,novembro:10,nov:10,dezembro:11,dez:11}[e.toLowerCase()]},_wDays:function(e){var t=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"];return t[e]},_iWeek:function(e){return Number(e)?+e||7:{segunda:1,seg:1,"tera":2,ter:2,quarta:3,qua:3,quinta:4,qui:4,sexta:5,sex:5,"sbado":6,"sb":6,domingo:7,dom:7}[e.toLowerCase()]},_daysInMonth:function(e,t){var n;return n=1===e||3===e||5===e||7===e||8===e||10===e||12===e?31:4===e||6===e||9===e||11===e?30:t%400===0||t%4===0&&t%100!==0?29:28},get:function(e,t){"undefined"!=typeof e&&""!==e||(e="Y-m-d");var n,i=e.split(""),o=new Array(i.length),r="\\";n="undefined"==typeof t?new Date:"number"==typeof t?new Date(1e3*t):new Date(t);for(var s,a,l,u=0;u<i.length;u++)switch(i[u]){case r:o[u]=i[u+1],u++;break;case"d":var c=n.getDate();o[u]=String(c).length>1?c:"0"+c;break;case"D":o[u]=this._wDays(n.getDay()).substring(0,3);break;case"j":o[u]=n.getDate();break;case"l":o[u]=this._wDays(n.getDay());break;case"N":o[u]=n.getDay()||7;break;case"S":var h=n.getDate(),d=["st","nd","rd"],p="";h>=11&&h<=13?o[u]="th":o[u]=(p=d[String(h).substr(-1)-1])?p:"th";break;case"w":o[u]=n.getDay();break;case"z":s=Date.UTC(n.getFullYear(),0,0),a=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),o[u]=Math.floor((a-s)/864e5);break;case"W":var f=new Date(n.getFullYear(),0,1);s=f.getDay()||7;var m=Math.floor((n-f)/864e5+1);o[u]=Math.ceil((m-(8-s))/7)+1;break;case"F":o[u]=this._months(n.getMonth());break;case"m":var g=String(n.getMonth()+1);o[u]=g.length>1?g:"0"+g;break;case"M":o[u]=this._months(n.getMonth()).substring(0,3);break;case"n":o[u]=n.getMonth()+1;break;case"t":o[u]=this._daysInMonth(n.getMonth()+1,n.getYear());break;case"L":var _=n.getFullYear();o[u]=!(_%4||!(_%100)&&_%400);break;case"o":throw'"o" not implemented!';case"Y":o[u]=n.getFullYear();break;case"y":o[u]=String(n.getFullYear()).substring(2);break;case"a":o[u]=n.getHours()<12?"am":"pm";break;case"A":o[u]=n.getHours<12?"AM":"PM";break;case"B":throw'"B" not implemented!';case"g":l=n.getHours(),o[u]=l<=12?l:l-12;break;case"G":o[u]=String(n.getHours());break;case"h":l=String(n.getHours()),l=l<=12?l:l-12,o[u]=l.length>1?l:"0"+l;break;case"H":l=String(n.getHours()),o[u]=l.length>1?l:"0"+l;break;case"i":var v=String(n.getMinutes());o[u]=v.length>1?v:"0"+v;break;case"s":var y=String(n.getSeconds());o[u]=y.length>1?y:"0"+y;break;case"u":throw'"u" not implemented!';case"e":throw'"e" not implemented!';case"I":s=new Date(n.getFullYear(),0,1),o[u]=n.getTimezoneOffset()!==s.getTimezoneOffset()?1:0;break;case"O":var b=n.getTimezoneOffset(),k=b%60;l=String((b-k)/60*-1),"-"!==l.charAt(0)&&(l="+"+l),l=3===l.length?l:l.replace(/([+\-])(\d)/,"$10$2"),o[u]=l+k+"0";break;case"P":throw'"P" not implemented!';case"T":throw'"T" not implemented!';case"Z":o[u]=60*n.getTimezoneOffset();break;case"c":throw'"c" not implemented!';case"r":var w=this._wDays(n.getDay()).substr(0,3),C=this._months(n.getMonth()).substr(0,3);o[u]=w+", "+n.getDate()+" "+C+this.get(" Y H:i:s O",n);break;case"U":o[u]=Math.floor(n.getTime()/1e3);break;default:o[u]=i[u]}return o.join("")},set:function(e,t){if("undefined"!=typeof t){"undefined"!=typeof e&&""!==e||(e="Y-m-d");for(var n,i=e.split(""),o=new Array(i.length),r="\\",s={year:void 0,month:void 0,day:void 0,dayY:void 0,dayW:void 0,week:void 0,hour:void 0,hourD:void 0,min:void 0,sec:void 0,msec:void 0,ampm:void 0,diffM:void 0,diffH:void 0,date:void 0},a=0,l=0;l<i.length;l++)switch(i[l]){case r:o[l]=i[l+1],l++;break;case"d":o[l]="(\\d{2})",s.day={original:l,match:a++};break;case"j":o[l]="(\\d{1,2})",s.day={original:l,match:a++};break;case"D":o[l]="([\\w]{3})",s.dayW={original:l,match:a++};break;case"l":o[l]="([\\w]{5,7})",s.dayW={original:l,match:a++};break;case"N":o[l]="(\\d)",s.dayW={original:l,match:a++};break;case"w":o[l]="(\\d)",s.dayW={original:l,match:a++};break;case"S":o[l]="\\w{2}";break;case"z":o[l]="(\\d{1,3})",s.dayY={original:l,match:a++};break;case"W":o[l]="(\\d{1,2})",s.week={original:l,match:a++};break;case"F":o[l]="([\\w]{4,9})",s.month={original:l,match:a++};break;case"M":o[l]="(\\w{3})",s.month={original:l,match:a++};break;case"m":o[l]="(\\d{2})",s.month={original:l,match:a++};break;case"n":o[l]="(\\d{1,2})",s.month={original:l,match:a++};break;case"t":o[l]="\\d{2}";break;case"L":o[l]="\\w{4,5}";break;case"o":throw'"o" not implemented!';case"Y":o[l]="(\\d{4})",s.year={original:l,match:a++};break;case"y":o[l]="(\\d{2})","undefined"!=typeof s.year&&"Y"===i[s.year.original]||(s.year={original:l,match:a++});break;case"a":o[l]="(am|pm)",s.ampm={original:l,match:a++};break;case"A":o[l]="(AM|PM)",s.ampm={original:l,match:a++};break;case"B":throw'"B" not implemented!';case"g":o[l]="(\\d{1,2})",s.hourD={original:l,match:a++};break;case"G":o[l]="(\\d{1,2})",s.hour={original:l,match:a++};break;case"h":o[l]="(\\d{2})",s.hourD={original:l,match:a++};break;case"H":o[l]="(\\d{2})",s.hour={original:l,match:a++};break;case"i":o[l]="(\\d{2})",s.min={original:l,match:a++};break;case"s":o[l]="(\\d{2})",s.sec={original:l,match:a++};break;case"u":throw'"u" not implemented!';case"e":throw'"e" not implemented!';case"I":o[l]="\\d";break;case"O":o[l]="([-+]\\d{4})",s.diffH={original:l,match:a++};break;case"P":throw'"P" not implemented!';case"T":throw'"T" not implemented!';case"Z":o[l]="(\\-?\\d{1,5})",s.diffM={original:l,match:a++};break;case"c":throw'"c" not implemented!';case"r":o[l]="([\\w]{3}, \\d{1,2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2} [+\\-]\\d{4})",s.date={original:l,match:a++};break;case"U":o[l]="(\\d{1,13})",s.date={original:l,match:a++};break;default:o[l]=i[l]}var u=new RegExp(o.join(""));try{if(n=t.match(u),!n)return}catch(e){return}var c,h,d="undefined"!=typeof s.date,p="undefined"!=typeof s.year,f="undefined"!=typeof s.dayY,m="undefined"!=typeof s.day,g="undefined"!=typeof s.month,_=g&&m,v=!g&&m,y="undefined"!=typeof s.dayW,b="undefined"!=typeof s.week,k=b&&y,w=!b&&y,C=f||_||!p&&v||k||!p&&w,I=!(p||f||m||g||y||b),x="undefined"!=typeof s.hourD&&"undefined"!=typeof s.ampm,E="undefined"!=typeof s.hour,S=x||E,D="undefined"!=typeof s.min,T="undefined"!=typeof s.sec,N="undefined"!=typeof s.msec,O=!I||S,A=O||D,M="undefined"!=typeof s.diffM,P="undefined"!=typeof s.diffH;if(d){if("U"===i[s.date.original])return new Date(1e3*+n[s.date.match+1]);var L=n[s.date.match+1].match(/\w{3}, (\d{1,2}) (\w{3}) (\d{4}) (\d{2}):(\d{2}):(\d{2}) ([+\-]\d{4})/);return c=+L[4]+ +L[7].slice(0,3),h=+L[5]+(L[7].slice(0,1)+L[7].slice(3))/100*60,new Date(L[3],this._iMonth(L[2]),L[1],c,h,L[6])}var F,U,R,j,B,H,q=new Date;if(C||I){if(C){if(p){var z=q.getFullYear()-50+"";F=n[s.year.match+1],"y"===i[s.year.original]&&(F=+z.slice(0,2)+(F>=z.slice(2)?0:1)+F)}else F=q.getFullYear();if(f)U=0,R=n[s.dayY.match+1];else if(m)U=g?this._iMonth(n[s.month.match+1]):q.getMonth(),R=n[s.day.match+1];else{U=0;var W;W=b?n[s.week.match+1]:this.get("W",q),R=7*(W-2)+(8-(new Date(F,0,1).getDay()||7))+this._iWeek(n[s.week.match+1])}if(0===U&&R>31){var $=new Date(F,U,R);U=$.getMonth(),R=$.getDate()}}else F=q.getFullYear(),U=q.getMonth(),R=q.getDate();return c=x?+n[s.hourD.match+1]+("pm"===n[s.ampm.match+1]?12:0):E?n[s.hour.match+1]:I?q.getHours():"00",h=D?n[s.min.match+1]:O?"00":q.getMinutes(),j=T?n[s.sec.match+1]:A?"00":q.getSeconds(),B=N?n[s.msec.match+1]:"000",H=P?n[s.diffH.match+1]:M?String(-1*n[s.diffM.match+1]/60*100).replace(/^(\d)/,"+$1").replace(/(^[\-+])(\d{3}$)/,"$10$2"):"+0000",new Date(F,U,R,c,h,j)}}}};return e}),Ink.createModule("Ink.Util.Dumper","1",[],function(){"use strict";var e={_tab:"",_formatParam:function(e){var t="";switch(typeof e){case"string":t="(string) "+e;break;case"number":t="(number) "+e;break;case"boolean":t="(boolean) "+e;break;case"object":t=null!==e?e.constructor===Array?"Array \n{\n"+this._outputFormat(e,0)+"\n}":"Object \n{\n"+this._outputFormat(e,0)+"\n}":"null";break;default:t=!1}return t},_getTabs:function(e){for(var t="",n=0;n<e;n++)t+=this._tab;return t},_outputFormat:function(e,t){var n="",i=!1;for(var o in e)if(null!==e[o])if("object"!=typeof e[o]||e[o].constructor!==Array&&e[o].constructor!==Object){if(e[o].constructor===Function)continue;n=n+this._tab+this._getTabs(t)+"["+o+"] => "+e[o]+"\n"}else e[o].constructor===Array?i="Array":e[o].constructor===Object&&(i="Object"),n+=this._tab+this._getTabs(t)+"["+o+"] => <b>"+i+"</b>\n",n+=this._tab+this._getTabs(t)+"{\n",n+=this._outputFormat(e[o],t+1)+this._tab+this._getTabs(t)+"}\n";else n=n+this._tab+this._getTabs(t)+"["+o+"] => null \n";return n},printDump:function(e,t){if(t&&"undefined"!=typeof t)if("string"==typeof t)document.getElementById(t).innerHTML="<pre>"+this._formatParam(e)+"</pre>";else{if("object"!=typeof t)throw"TARGET must be an element or an element ID";t.innerHTML="<pre>"+this._formatParam(e)+"</pre>"}else document.write("<pre>"+this._formatParam(e)+"</pre>")},returnDump:function(e){return this._formatParam(e)},alertDump:function(e){window.alert(this._formatParam(e).replace(/(<b>)(Array|Object)(<\/b>)/g,"$2"))},windowDump:function(e){var t="dumperwindow_"+1e4*Math.random(),n=window.open("",t,"width=400,height=300,left=50,top=50,status,menubar,scrollbars,resizable");n.document.open(),n.document.write("<pre>"+this._formatParam(e)+"</pre>"),n.document.close(),n.focus()}};return e}),Ink.createModule("Ink.Util.I18n","1",[],function(){"use strict";var e=/\{(?:(\{.*?})|(?:%s:)?(\d+)|(?:%s)?|([\w-]+))}/g,t=function(e,t){return"function"==typeof e?e.apply(this,t):"undefined"!=typeof e?e:""},n=function(e,t,i){return this instanceof n?void this.reset().lang(t).testMode(i).append(e||{},t):new n(e,t,i)};return n.prototype={reset:function(){return this._dicts=[],this._dict={},this._testMode=!1,this._lang=this._gLang,this},clone:function(){for(var e=new n,t=0,i=this._dicts.length;t<i;t++)e.append(this._dicts[t]);return e.testMode(this.testMode()),e.lang(this.lang()),e},append:function(e){return this._dicts.push(e),this._dict=Ink.extendObj(this._dict,e[this._lang]),this},lang:function(e){if(!arguments.length)return this._lang;if(e&&this._lang!==e){this._lang=e,this._dict={};for(var t=0,n=this._dicts.length;t<n;t++)this._dict=Ink.extendObj(this._dict,this._dicts[t][e]||{})}return this},testMode:function(e){return arguments.length?(void 0!==e&&(this._testMode=!!e),this):!!this._testMode},getKey:function(e){var t,i=this._gLang,o=this._lang;return e in this._dict?t=this._dict[e]:(n.langGlobal(o),t=this._gDict[e],n.langGlobal(i)),t},text:function(n){if("string"==typeof n){var i=Array.prototype.slice.call(arguments,1),o=0,r="object"==typeof i[0],s=this.getKey(n);return void 0===s&&(s=this._testMode?"["+n+"]":n),"number"==typeof s&&(s+=""),"string"==typeof s?s=s.replace(e,function(e,n,s,a){var l=n?n:s?i[s-(r?0:1)]:a&&i[0]?i[0][a]||"":i[o++ +(r?1:0)];return t(l,[o].concat(i))}):"function"==typeof s?s.apply(this,i):s instanceof Array?t(s[i[0]],i):"object"==typeof s?t(s[i[0]],i):""}},ntext:function(e,t,n){var i,o=Array.prototype.slice.apply(arguments);if(2===o.length&&"number"==typeof t){if(i=this.getKey(e),!(i instanceof Array))return"";o.splice(0,1),i=i[1===t?0:1]}else o.splice(0,2),i=1===n?e:t;return this.text.apply(this,[i].concat(o))},ordinal:function(e){if(void 0===e)return"";var n=+e.toString().slice(-1),i=this.getKey("_ordinals");if(void 0===i)return"";if("string"==typeof i)return i;var o;return"function"==typeof i&&(o=i(e,n),"string"==typeof o)?o:"exceptions"in i&&(o="function"==typeof i.exceptions?i.exceptions(e,n):e in i.exceptions?t(i.exceptions[e],[e,n]):void 0,"string"==typeof o)?o:"byLastDigit"in i&&(o="function"==typeof i.byLastDigit?i.byLastDigit(n,e):n in i.byLastDigit?t(i.byLastDigit[n],[n,e]):void 0,"string"==typeof o)?o:"default"in i&&(o=t(i.default,[e,n]),"string"==typeof o)?o:""},alias:function(){var e=Ink.bind(n.prototype.text,this);return e.ntext=Ink.bind(n.prototype.ntext,this),e.append=Ink.bind(n.prototype.append,this),e.ordinal=Ink.bind(n.prototype.ordinal,this),
e.testMode=Ink.bind(n.prototype.testMode,this),e}},n.reset=function(){n.prototype._gDicts=[],n.prototype._gDict={},n.prototype._gLang="pt_PT"},n.reset(),n.appendGlobal=function(e,t){if(t){if(!(t in e)){var i={};i[t]=e,e=i}t!==n.prototype._gLang&&n.langGlobal(t)}n.prototype._gDicts.push(e),Ink.extendObj(n.prototype._gDict,e[n.prototype._gLang])},n.langGlobal=function(e){if(!arguments.length)return n.prototype._gLang;if(e&&n.prototype._gLang!==e){n.prototype._gLang=e,n.prototype._gDict={};for(var t=0,i=n.prototype._gDicts.length;t<i;t++)Ink.extendObj(n.prototype._gDict,n.prototype._gDicts[t][e]||{})}},n}),Ink.createModule("Ink.Util.Json","1",[],function(){"use strict";function twoDigits(e){var t=""+e;return 1===t.length?"0"+t:t}var function_call=Function.prototype.call,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,dateToISOString=Date.prototype.toISOString?Ink.bind(function_call,Date.prototype.toISOString):function(e){return e.getUTCFullYear()+"-"+twoDigits(e.getUTCMonth()+1)+"-"+twoDigits(e.getUTCDate())+"T"+twoDigits(e.getUTCHours())+":"+twoDigits(e.getUTCMinutes())+":"+twoDigits(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},InkJson={_nativeJSON:window.JSON||null,_convertToUnicode:!1,_escape:function(e){var t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(e)&&(e=e.replace(/([\x00-\x1f\\"])/g,function(e,n){var i=t[n];return i?i:(i=n.charCodeAt(),"\\u00"+Math.floor(i/16).toString(16)+(i%16).toString(16))})),e},_toUnicode:function(e){if(this._convertToUnicode){for(var t="",n=!1,i=!1,o=0,r=e.length;o<r;){if(n=e.charCodeAt(o),n>=32&&n<=126||8===n||9===n||10===n||12===n||13===n||32===n||34===n||47===n||58===n||92===n)i=34===n||92===n||47===n?"\\"+e.charAt(o):8===n?"\\b":9===n?"\\t":10===n?"\\n":12===n?"\\f":13===n?"\\r":e.charAt(o);else if(this._convertToUnicode){for(i=e.charCodeAt(o).toString(16)+"".toUpperCase();i.length<4;)i="0"+i;i="\\u"+i}else i=e.charAt(o);t+=i,o++}return t}return this._escape(e)},_stringifyValue:function(e){if("string"==typeof e)return'"'+this._toUnicode(e)+'"';if("number"!=typeof e||!isNaN(e)&&isFinite(e)){if("undefined"==typeof e||null===e)return"null";if("function"==typeof e.toJSON){var t=e.toJSON();return"string"==typeof t?'"'+this._escape(t)+'"':this._escape(t.toString())}if("number"==typeof e||"boolean"==typeof e)return""+e;if("function"==typeof e)return"null";if(e.constructor===Date)return'"'+this._escape(dateToISOString(e))+'"';if(e.constructor===Array){for(var n="",i=0,o=e.length;i<o;i++)i>0&&(n+=","),n+=this._stringifyValue(e[i]);return"["+n+"]"}var r="";for(var s in e)({}).hasOwnProperty.call(e,s)&&(""!==r&&(r+=","),r+='"'+this._escape(s)+'": '+this._stringifyValue(e[s]));return"{"+r+"}"}return"null"},stringify:function(e,t){return this._convertToUnicode=!!t,!this._convertToUnicode&&this._nativeJSON?this._nativeJSON.stringify(e):this._stringifyValue(e)},parse:function(text,reviver){function walk(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i=walk(o,n),void 0!==i?o[n]=i:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}};return InkJson}),Ink.createModule("Ink.Util.String","1",[],function(){"use strict";var InkUtilString={_chars:["&","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",'"',"","<",">","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_entities:["amp","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","euro","quot","szlig","lt","gt","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34"],_accentedChars:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_accentedRemovedChars:["a","a","a","a","a","a","e","e","e","e","i","i","i","i","o","o","o","o","o","u","u","u","u","c","n","A","A","A","A","A","A","E","E","E","E","I","I","I","I","O","O","O","O","O","U","U","U","U","C","N"],_htmlUnsafeChars:{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"},ucFirst:function(e,t){var n=t?/(^|\s)(\w)(\S{2,})/:/(^|\s)(\w)(\S{2,})/g;return e?String(e).replace(n,function(e,t,n,i){return t+n.toUpperCase()+i.toLowerCase()}):e},trim:function(e){return"string"==typeof e?e.replace(/^\s+|\s+$|\n+$/g,""):e},stripTags:function(e,t){if(t&&"string"==typeof t){for(var n=InkUtilString.trim(t).split(","),i=[],o=!1,r=0;r<n.length;r++)""!==InkUtilString.trim(n[r])&&(o=InkUtilString.trim(n[r].replace(/(<|\>)/g,"").replace(/\s/,"")),i.push("(<"+o+"\\s[^>]+>|<(\\s|\\/)?(\\s|\\/)?"+o+">)"));for(var s=i.join("|"),a=new RegExp(s,"i"),l=e.match(new RegExp("<[^>]*>","g")),u=0;u<l.length;u++)l[u].match(a)||(e=e.replace(new RegExp(l[u],"gm"),""));return e}return e.replace(/<[^\>]+\>/g,"")},htmlEntitiesEncode:function(e){if(e&&e.replace)for(var t=!1,n=0;n<InkUtilString._chars.length;n++)t=new RegExp(InkUtilString._chars[n],"gm"),e=e.replace(t,"&"+InkUtilString._entities[n]+";");return e},htmlEntitiesDecode:function(e){if(e&&e.replace){for(var t=!1,n=0;n<InkUtilString._entities.length;n++)t=new RegExp("&"+InkUtilString._entities[n]+";","gm"),e=e.replace(t,InkUtilString._chars[n]);e=e.replace(/&#[^;]+;?/g,function(e){return"x"===e.charAt(2)?String.fromCharCode(parseInt(e.substring(3),16)):String.fromCharCode(parseInt(e.substring(2),10))})}return e},utf8Encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},shortString:function(e,t){for(var n=e.split(" "),i="",o=0;o<n.length;o++){if((i+n[o]+" ").length>=t){i+="&hellip;";break}i+=n[o]+" "}return i},truncateString:function(e,t){return e.length-1>t?e.substr(0,t-1)+"":e},utf8Decode:function(e){for(var t="",n=0,i=0,o=0,r=0;n<e.length;)i=e.charCodeAt(n),i<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),r=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&r),n+=3);return t},removeAccentedChars:function(e){for(var t=e,n=!1,i=0;i<InkUtilString._accentedChars.length;i++)n=new RegExp(InkUtilString._accentedChars[i],"gm"),t=t.replace(n,""+InkUtilString._accentedRemovedChars[i]);return t},substrCount:function(e,t){return e?e.split(t).length-1:0},evalJSON:function(strJSON,sanitize){if("undefined"==typeof sanitize||null===sanitize||InkUtilString.isJSON(strJSON))try{return"undefined"!=typeof JSON&&"undefined"!=typeof JSON.parse?JSON.parse(strJSON):eval("("+strJSON+")")}catch(e){throw new Error("ERROR: Bad JSON string...")}},isJSON:function(e){return e=e.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(e)},htmlEscapeUnsafe:function(e){var t=InkUtilString._htmlUnsafeChars;return null!==e?String(e).replace(/[<>&'"]/g,function(e){return t[e]}):e},normalizeWhitespace:function(e){return null!==e?InkUtilString.trim(String(e).replace(/\s+/g," ")):e},toUnicode:function(e){if("string"==typeof e){for(var t="",n=!1,i=!1,o=e.length,r=0;r<o;){if(n=e.charCodeAt(r),n>=32&&n<=126||8===n||9===n||10===n||12===n||13===n||32===n||34===n||47===n||58===n||92===n)i=8===n?"\\b":9===n?"\\t":10===n?"\\n":12===n?"\\f":13===n?"\\r":e.charAt(r);else{for(i=e.charCodeAt(r).toString(16)+"".toUpperCase();i.length<4;)i="0"+i;i="\\u"+i}t+=i,r++}return t}},escape:function(e){var t=e.charCodeAt(0).toString(16).split("");if(t.length<3){for(;t.length<2;)t.unshift("0");t.unshift("x")}else{for(;t.length<4;)t.unshift("0");t.unshift("u")}return t.unshift("\\"),t.join("")},unescape:function(e){var t=e.lastIndexOf("0");t=t===-1?2:Math.min(t,2);var n=e.substring(t),i=parseInt(n,16);return String.fromCharCode(i)},escapeText:function(e,t){void 0===t&&(t=["[","]","'",","]);for(var n,i,o=[],r=0,s=e.length;r<s;++r)n=e[r],i=n.charCodeAt(0),(i<32||i>126&&t.indexOf(n)===-1)&&(n=InkUtilString.escape(n)),o.push(n);return o.join("")},escapedCharRegex:/(\\x[0-9a-fA-F]{2})|(\\u[0-9a-fA-F]{4})/g,unescapeText:function(e){for(var t;t=InkUtilString.escapedCharRegex.exec(e);)t=t[0],e=e.replace(t,InkUtilString.unescape(t)),InkUtilString.escapedCharRegex.lastIndex=0;return e},strcmp:function(e,t){return e===t?0:e>t?1:-1},packetize:function(e,t){for(var n,i=e.length,o=new Array(Math.ceil(i/t)),r=e.split(""),s=0;i;)n=Math.min(t,i),o[s++]=r.splice(0,n).join(""),i-=n;return o}};return InkUtilString}),Ink.createModule("Ink.Util.Url","1",[],function(){"use strict";var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",getUrl:function(){return window.location.href},genQueryString:function(e,t){var n,i,o,r=e.indexOf("?")!==-1,s=[e];for(i in t)t.hasOwnProperty(i)&&(r?n="&":(n="?",r=!0),o=t[i],"number"==typeof o||o||(o=""),s=s.concat([n,encodeURIComponent(i),"=",encodeURIComponent(o)]));return s.join("")},getQueryString:function(e){var t;t=e&&"undefined"!=typeof e?e:this.getUrl();var n={};if(t.match(/\?(.+)/i)){var i=t.replace(/^(.*)\?([^\#]+)(\#(.*))?/g,"$2");if(i.length>0)for(var o=i.split(/[;&]/),r=0;r<o.length;r++){var s=o[r].split("=");n[decodeURIComponent(s[0])]=!("undefined"==typeof s[1]||!s[1])&&decodeURIComponent(s[1])}}return n},getAnchor:function(e){var t;t=e&&"undefined"!=typeof e?e:this.getUrl();var n=!1;return t.match(/#(.+)/)&&(n=t.replace(/([^#]+)#(.*)/,"$2")),n},getAnchorString:function(e){var t;t=e&&"undefined"!=typeof e?e:this.getUrl();var n={};if(t.match(/#(.+)/i)){var i=t.replace(/^([^#]+)#(.*)?/g,"$2");if(i.length>0)for(var o=i.split(/[;&]/),r=0;r<o.length;r++){var s=o[r].split("=");n[decodeURIComponent(s[0])]=!("undefined"==typeof s[1]||!s[1])&&decodeURIComponent(s[1])}}return n},parseUrl:function(e){var t={};if(e&&"string"==typeof e){if(e.match(/^([^:]+):\/\//i)){var n=/^([^:]+):\/\/([^\/]*)\/?([^\?#]*)\??([^#]*)#?(.*)/i;e.match(n)&&(t.scheme=e.replace(n,"$1"),t.host=e.replace(n,"$2"),t.path="/"+e.replace(n,"$3"),t.query=e.replace(n,"$4")||!1,t.fragment=e.replace(n,"$5")||!1)}else{var i=new RegExp("^([^\\?]+)\\?([^#]+)#(.*)","i"),o=new RegExp("^([^\\?]+)\\?([^#]+)#?","i"),r=new RegExp("^([^\\?]+)\\??","i");e.match(i)?(t.scheme=!1,t.host=!1,t.path=e.replace(i,"$1"),t.query=e.replace(i,"$2"),t.fragment=e.replace(i,"$3")):e.match(o)?(t.scheme=!1,t.host=!1,t.path=e.replace(o,"$1"),t.query=e.replace(o,"$2"),t.fragment=!1):e.match(r)&&(t.scheme=!1,t.host=!1,t.path=e.replace(r,"$1"),t.query=!1,t.fragment=!1)}if(t.host){var s=/^(.*?)\\:(\\d+)$/i;if(t.host.match(s)){var a=t.host;t.host=a.replace(s,"$1"),t.port=a.replace(s,"$2")}else t.port=!1;if(t.host.match(/@/i)){var l=t.host;t.host=l.split("@")[1];var u=l.split("@")[0];u.match(/\:/)?(t.user=u.split(":")[0],t.pass=u.split(":")[1]):(t.user=u,t.pass=!1)}}}return t},format:function(e){var t="",n="",i="",o="",r="";return"string"==typeof e.protocol?t=e.protocol+"//":"string"==typeof e.scheme&&(t=e.scheme+"://"),n=e.host||e.hostname||"",i=e.path||"","string"==typeof e.query?r=e.query:"string"==typeof e.search&&(r=e.search.replace(/^\?/,"")),"string"==typeof e.fragment?o=e.fragment:"string"==typeof e.hash&&(o=e.hash.replace(/#$/,"")),[t,n,i,r&&"?"+r,o&&"#"+o].join("")},currentScriptElement:function(e){var t=document.getElementsByTagName("script");if("undefined"==typeof e)return t.length>0&&t[t.length-1];for(var n=!1,i=new RegExp(""+e,"i"),o=0,r=t.length;o<r;o++)if(n=t[o],i.test(n.src))return n;return!1}};return e}),Ink.createModule("Ink.Util.Validator","1",[],function(){"use strict";var e={_countryCodes:["AO","CV","MZ","TL","PT"],_internacionalPT:351,_indicativosPT:{21:"lisboa",22:"porto",231:"mealhada",232:"viseu",233:"figueira da foz",234:"aveiro",235:"arganil",236:"pombal",238:"seia",239:"coimbra",241:"abrantes",242:"ponte de sr",243:"santarm",244:"leiria",245:"portalegre",249:"torres novas",251:"valena",252:"vila nova de famalico",253:"braga",254:"peso da rgua",255:"penafiel",256:"so joo da madeira",258:"viana do castelo",259:"vila real",261:"torres vedras",262:"caldas da ranha",263:"vila franca de xira",265:"setbal",266:"vora",268:"estremoz",269:"santiago do cacm",271:"guarda",272:"castelo branco",273:"bragana",274:"proena-a-nova",275:"covilh",276:"chaves",277:"idanha-a-nova",278:"mirandela",279:"moncorvo",281:"tavira",282:"portimo",283:"odemira",284:"beja",285:"moura",286:"castro verde",289:"faro",291:"funchal, porto santo",292:"corvo, faial, flores, horta, pico",295:"angra do herosmo, graciosa, so jorge, terceira",296:"ponta delgada, so miguel, santa maria",91:"rede mvel 91 (Vodafone / Yorn)",93:"rede mvel 93 (Optimus)",96:"rede mvel 96 (TMN)",92:"rede mvel 92 (TODOS)",707:"nmero nico",760:"nmero nico",800:"nmero grtis",808:"chamada local",30:"voip"},_internacionalCV:238,_indicativosCV:{2:"fixo",91:"mvel 91",95:"mvel 95",97:"mvel 97",98:"mvel 98",99:"mvel 99"},_internacionalAO:244,_indicativosAO:{2:"fixo",91:"mvel 91",92:"mvel 92"},_internacionalMZ:258,_indicativosMZ:{2:"fixo",82:"mvel 82",84:"mvel 84"},_internacionalTL:670,_indicativosTL:{3:"fixo",7:"mvel 7"},_characterGroups:{numbers:["0-9"],asciiAlpha:["a-zA-Z"],latin1Alpha:["a-zA-Z","-"],unicodeAlpha:["a-zA-Z","-","-","-"],space:[" "],dash:["-"],underscore:["_"],nicknamePunctuation:["_.-"],singleLineWhitespace:["\t "],newline:["\n"],whitespace:["\t\n\v\f\r "],asciiPunctuation:["!-/",":-@","[-`","{-~"],latin1Punctuation:["!-/",":-@","[-`","{-~","-","",""],unicodePunctuation:["!-/",":-@","[-`","{-~","-","","","-","-","-"]},createRegExp:function(t){var n="^[";for(var i in t)if(t.hasOwnProperty(i)){if(!(i in e._characterGroups))throw new Error("group "+i+" is not a valid character group");t[i]&&(n+=e._characterGroups[i].join(""))}return"^["===n?new RegExp("$^"):new RegExp(n+"]*?$")},checkCharacterGroups:function(t,n){return e.createRegExp(n).test(t)},unicode:function(t,n){return e.checkCharacterGroups(t,Ink.extendObj({unicodeAlpha:!0},n))},latin1:function(t,n){return e.checkCharacterGroups(t,Ink.extendObj({latin1Alpha:!0},n))},ascii:function(t,n){return e.checkCharacterGroups(t,Ink.extendObj({asciiAlpha:!0},n))},number:function(t,n){if(t+="",n=Ink.extendObj({decimalSep:".",thousandSep:"",negative:!0,decimalPlaces:null,maxDigits:null,max:null,min:null,returnNumber:!1},n||{}),n.thousandSep)return t=t.replace(new RegExp("\\"+n.thousandSep,"g"),""),n.thousandSep="",e.number(t,n);if(n.negative===!1)return n.min=0,n.negative=!0,e.number(t,n);if("."!==n.decimalSep&&(t=t.replace(new RegExp("\\"+n.decimalSep,"g"),".")),!/^(-)?(\d+)?(\.\d+)?$/.test(t)||""===t)return!1;var i;if(n.decimalSep&&t.indexOf(n.decimalSep)!==-1){if(i=t.split(n.decimalSep),null!==n.decimalPlaces&&i[1].length>n.decimalPlaces)return!1}else i=[""+t,""];if(null!==n.maxDigits&&i[0].replace(/-/g,"").length>n.maxDigits)return i;var o=parseFloat(t);return!(null!==n.maxExcl&&o>=n.maxExcl||null!==n.minExcl&&o<=n.minExcl)&&!(null!==n.max&&o>n.max||null!==n.min&&o<n.min)&&(!n.returnNumber||o)},_isLeapYear:function(e){var t=/^\d{4}$/;return!(!t.test(e)||e%4||!(e%100)&&e%400)},_dateParsers:{"yyyy-mm-dd":{day:5,month:3,year:1,sep:"-",parser:/^(\d{4})(\-)(\d{1,2})(\-)(\d{1,2})$/},"yyyy/mm/dd":{day:5,month:3,year:1,sep:"/",parser:/^(\d{4})(\/)(\d{1,2})(\/)(\d{1,2})$/},"yy-mm-dd":{day:5,month:3,year:1,sep:"-",parser:/^(\d{2})(\-)(\d{1,2})(\-)(\d{1,2})$/},"yy/mm/dd":{day:5,month:3,year:1,sep:"/",parser:/^(\d{2})(\/)(\d{1,2})(\/)(\d{1,2})$/},"dd-mm-yyyy":{day:1,month:3,year:5,sep:"-",parser:/^(\d{1,2})(\-)(\d{1,2})(\-)(\d{4})$/},"dd/mm/yyyy":{day:1,month:3,year:5,sep:"/",parser:/^(\d{1,2})(\/)(\d{1,2})(\/)(\d{4})$/},"dd-mm-yy":{day:1,month:3,year:5,sep:"-",parser:/^(\d{1,2})(\-)(\d{1,2})(\-)(\d{2})$/},"dd/mm/yy":{day:1,month:3,year:5,sep:"/",parser:/^(\d{1,2})(\/)(\d{1,2})(\/)(\d{2})$/}},_daysInMonth:function(e,t){var n=0;return e=parseInt(e,10),t=parseInt(t,10),1===e||3===e||5===e||7===e||8===e||10===e||12===e?n=31:4===e||6===e||9===e||11===e?n=30:2===e&&(n=t%400===0||t%4===0&&t%100!==0?29:28),n},_isValidDate:function(e,t,n){var i=/^\d{4}$/,o=/^\d{1,2}$/;return!!(i.test(e)&&o.test(t)&&o.test(n)&&t>=1&&t<=12&&n>=1&&this._daysInMonth(t,e)>=n)},email:function(e){var t=new RegExp("^[_a-z0-9-]+((\\.|\\+)[_a-z0-9-]+)*@([\\w]*-?[\\w]*\\.)+[a-z]{2,4}$","i");return!!t.test(e)},mail:function(t){return e.email(t)},url:function(e,t){if("undefined"==typeof t||t===!1){var n=new RegExp("(^(http\\:\\/\\/|https\\:\\/\\/)(.+))","i");n.test(e)===!1&&(e="http://"+e)}var i=new RegExp("^(http:\\/\\/|https:\\/\\/)([\\w]*(-?[\\w]*)*\\.)+[a-z]{2,4}","i");return i.test(e)!==!1},isPTPhone:function(e){e=e.toString();var t=[];for(var n in this._indicativosPT)"string"==typeof this._indicativosPT[n]&&t.push(n);var i=t.join("|"),o=/^(00351|\+351)/;o.test(e)&&(e=e.replace(o,""));var r=/(\s|\-|\.)+/g;e=e.replace(r,"");var s=/[\d]{9}/i;if(9===e.length&&s.test(e)){var a=new RegExp("^("+i+")");if(a.test(e))return!0}return!1},isPortuguesePhone:function(e){return this.isPTPhone(e)},isCVPhone:function(e){e=e.toString();var t=[];for(var n in this._indicativosCV)"string"==typeof this._indicativosCV[n]&&t.push(n);var i=t.join("|"),o=/^(00238|\+238)/;o.test(e)&&(e=e.replace(o,""));var r=/(\s|\-|\.)+/g;e=e.replace(r,"");var s=/[\d]{7}/i;if(7===e.length&&s.test(e)){var a=new RegExp("^("+i+")");if(a.test(e))return!0}return!1},isAOPhone:function(e){e=e.toString();var t=[];for(var n in this._indicativosAO)"string"==typeof this._indicativosAO[n]&&t.push(n);var i=t.join("|"),o=/^(00244|\+244)/;o.test(e)&&(e=e.replace(o,""));var r=/(\s|\-|\.)+/g;e=e.replace(r,"");var s=/[\d]{9}/i;if(9===e.length&&s.test(e)){var a=new RegExp("^("+i+")");if(a.test(e))return!0}return!1},isMZPhone:function(e){e=e.toString();var t=[];for(var n in this._indicativosMZ)"string"==typeof this._indicativosMZ[n]&&t.push(n);var i=t.join("|"),o=/^(00258|\+258)/;o.test(e)&&(e=e.replace(o,""));var r=/(\s|\-|\.)+/g;e=e.replace(r,"");var s=/[\d]{8,9}/i;if((9===e.length||8===e.length)&&s.test(e)){var a=new RegExp("^("+i+")");if(a.test(e)){if(0===e.indexOf("2")&&8===e.length)return!0;if(0===e.indexOf("8")&&9===e.length)return!0}}return!1},isTLPhone:function(e){e=e.toString();var t=[];for(var n in this._indicativosTL)"string"==typeof this._indicativosTL[n]&&t.push(n);var i=t.join("|"),o=/^(00670|\+670)/;o.test(e)&&(e=e.replace(o,""));var r=/(\s|\-|\.)+/g;e=e.replace(r,"");var s=/[\d]{7}/i;if(7===e.length&&s.test(e)){var a=new RegExp("^("+i+")");if(a.test(e))return!0}return!1},isPhone:function(){var e;if(0===arguments.length)return!1;var t=arguments[0];if(arguments.length>1){if(arguments[1].constructor!==Array){if("function"==typeof this["is"+arguments[1].toUpperCase()+"Phone"])return this["is"+arguments[1].toUpperCase()+"Phone"](t);throw"Invalid Country Code!"}var n;for(e=0;e<arguments[1].length;e++){if("function"!=typeof(n=this["is"+arguments[1][e].toUpperCase()+"Phone"]))throw"Invalid Country Code!";if(n(t))return!0}}else for(e=0;e<this._countryCodes.length;e++)if(this["is"+this._countryCodes[e]+"Phone"](t))return!0;return!1},codPostal:function(e,t,n){var i=/^(\s*\-\s*|\s+)$/,o=/^\s+|\s+$/g,r=/^[1-9]\d{3}$/,s=/^\d{3}$/,a=/^(.{4})(.*)(.{3})$/;if(e=e.replace(o,""),"undefined"!=typeof t){if(t=t.replace(o,""),r.test(e)&&s.test(t))return!n||[!0,!0]}else{if(r.test(e))return!n||[!0,!1];var l=e.match(a);if(null!==l&&r.test(l[1])&&i.test(l[2])&&s.test(l[3]))return!n||[!0,!1]}return!!n&&[!1,!1]},isDate:function(e,t){if("undefined"==typeof this._dateParsers[e])return!1;var n=this._dateParsers[e].year,i=this._dateParsers[e].month,o=this._dateParsers[e].day,r=this._dateParsers[e].parser,s=this._dateParsers[e].sep,a=t.match(r);if(null!==a&&a[2]===a[4]&&a[2]===s){var l=2===a[n].length?"20"+a[n].toString():a[n];if(this._isValidDate(l,a[i].toString(),a[o].toString()))return!0}return!1},isColor:function(e){var t,n=!1,i=/^[a-zA-Z]+$/,o=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,r=/^rgb\(\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*\)$/,s=/^rgba\(\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*(1(\.0)?|0(\.[0-9])?)\s*\)$/,a=/^hsl\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*\)$/,l=/^hsla\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*(1(\.0)?|0(\.[0-9])?)\s*\)$/;if(i.test(e)||o.test(e))return!0;var u;if(null!==(t=r.exec(e))||null!==(t=s.exec(e)))for(u=t.length;u--;){if((2===u||4===u||6===u)&&"undefined"!=typeof t[u]&&""!==t[u]){if(!("undefined"!=typeof t[u-1]&&t[u-1]>=0&&t[u-1]<=100))return!1;n=!0}if(1===u||3===u||5===u&&("undefined"==typeof t[u+1]||""===t[u+1])){if(!("undefined"!=typeof t[u]&&t[u]>=0&&t[u]<=255))return!1;n=!0}}if(null!==(t=a.exec(e))||null!==(t=l.exec(e)))for(u=t.length;u--;){if(3===u||5===u){if(!("undefined"!=typeof t[u-1]&&"undefined"!=typeof t[u]&&""!==t[u]&&t[u-1]>=0&&t[u-1]<=100))return!1;n=!0}if(1===u){if(!("undefined"!=typeof t[u]&&t[u]>=0&&t[u]<=360))return!1;n=!0}}return n},isIP:function(e,t){if("string"!=typeof e)return!1;switch(t=(t||"ipv4").toLowerCase()){case"ipv4":return/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e);case"ipv6":return/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(e);default:return!1}},_creditCardSpecs:{default:{length:"13,14,15,16,17,18,19",prefix:/^.+/,luhn:!0},"american express":{length:"15",prefix:/^3[47]/,luhn:!0},"diners club":{length:"14,16",prefix:/^36|55|30[0-5]/,luhn:!0},discover:{length:"16",prefix:/^6(?:5|011)/,luhn:!0},jcb:{length:"15,16",prefix:/^3|1800|2131/,luhn:!0},maestro:{length:"16,18",prefix:/^50(?:20|38)|6(?:304|759)/,luhn:!0},mastercard:{length:"16",prefix:/^5[1-5]/,luhn:!0},visa:{length:"13,16",prefix:/^4/,luhn:!0}},_luhn:function(e){if(e=parseInt(e,10),"number"!=typeof e&&e%1!==0)return!1;e+="";var t,n=e.length,i=0;for(t=n-1;t>=0;t-=2)i+=parseInt(e.substr(t,1),10);for(t=n-2;t>=0;t-=2){var o=parseInt(2*e.substr(t,1),10);i+=o>=10?o-9:o}return i%10===0},isCreditCard:function(e,t){if(/\d+/.test(e)===!1)return!1;if("undefined"==typeof t)t="default";else if(t instanceof Array){var n,i=t.length;for(n=0;n<i;n++)if(this.isCreditCard(e,t[n]))return!0;return!1}if(t=t.toLowerCase(),"undefined"==typeof this._creditCardSpecs[t])return!1;var o=e.length+"";return this._creditCardSpecs[t].length.split(",").indexOf(o)!==-1&&!!this._creditCardSpecs[t].prefix.test(e)&&(this._creditCardSpecs[t].luhn===!1||this._luhn(e))},getEANCheckDigit:function(e){var t,n,i=0;for(e=String(e);e.length<12;)e="00000"+e;for(t=e.length,n=t-1;n>=0;n--)i+=(n%2*2+1)*Number(e.charAt(n));return 10-i%10},isEAN:function(t,n){switch(void 0===n&&(n="ean-13"),n){case"ean-13":if(13!==t.length)return!1;break;case"ean-8":if(8!==t.length)return!1;break;default:return!1}var i=t.substr(0,t.length-1),o=t.charAt(t.length-1),r=e.getEANCheckDigit(i);return String(r)===o}};return e}),Ink.createModule("Ink.UI.Animate",1,["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1"],function(e,t,n){"use strict";function i(){e.BaseUIComponent.apply(this,arguments)}var o=function(e){return"animationName"in e.style?"animation":"webkitAnimationName"in e.style?"webkitAnimation":null}(document.createElement("div")),r={animation:"animationend",webkitAnimation:"webkitAnimationEnd"}[o];return i._name="Animate_1",i._optionDefinition={trigger:["Element",null],duration:["String","slow"],animation:["String"],removeClass:["Boolean",!0],onEnd:["Function",function(){}]},i.prototype._init=function(){isNaN(parseInt(this._options.duration,10))||(this._options.duration=parseInt(this._options.duration,10)),this._options.trigger?t.observe(this._options.trigger,"click",Ink.bind(function(){this.animate()},this)):this.animate()},i.prototype.animate=function(){i.animate(this._element,this._options.animation,this._options)},Ink.extendObj(i,{_animationPrefix:o,animationSupported:!!o,animationEndEventName:r,animate:function(t,s,a){function l(e){e.target===t&&e.animationName===s&&(a.onEnd&&a.onEnd(e),a.removeClass&&n.removeClassName(t,s),"string"==typeof a.duration&&n.removeClassName(t,a.duration),t.removeEventListener(r,l,!1))}return t=e.elOrSelector(t),"number"==typeof a||"string"==typeof a?a={duration:a}:a||(a={}),"function"==typeof arguments[3]&&(a.onEnd=arguments[3]),"number"!=typeof a.duration&&"string"!=typeof a.duration&&(a.duration=400),i.animationSupported?("number"==typeof a.duration?t.style[o+"Duration"]=a.duration+"ms":"string"==typeof a.duration&&n.addClassName(t,a.duration),n.addClassName(t,["animated",s]),void t.addEventListener(r,l,!1)):void(a.onEnd&&setTimeout(function(){a.onEnd(null)},0))}}),e.createUIComponent(i),i}),Ink.createModule("Ink.UI.Carousel","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.UI.Pagination_1","Ink.Dom.Browser_1","Ink.Dom.Selector_1"],function(e,t,n,i,o,r){"use strict";function s(e,t,n){return Math.min(n,Math.max(t,e))}function a(){e.BaseUIComponent.apply(this,arguments)}function l(e,t){e.style.transitionProperty=e.style.oTransitionProperty=e.style.msTransitionProperty=e.style.mozTransitionProperty=e.style.webkitTransitionProperty=t}var u=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/30)};return a._name="Carousel_1",a._optionDefinition={autoAdvance:["Integer",0],axis:["String","x"],initialPage:["Integer",0],spaceAfterLastSlide:["Boolean",!0],keyboardSupport:["Boolean",!1],pagination:["String",null],onChange:["Function",null],onInit:["Function",function(){}],swipe:["Boolean",!0]},a.prototype={_validate:function(){var e=Ink.s("ul.stage",this._element);if(!e)return new Error("Carousel must contain a ul.stage element!")},_init:function(){this._handlers={paginationChange:Ink.bindMethod(this,"_onPaginationChange"),windowResize:t.throttle(Ink.bindMethod(this,"refit"),200)},t.observe(window,"resize",this._handlers.windowResize),this._isY="y"===this._options.axis;var e=Ink.s("ul.stage",this._element);e.style.width="100%",this._ulEl=e,i.removeTextNodeChildren(e),null==this._options.pagination&&(this._currentPage=this._options.initialPage),this.refit(),this._isY&&(this._ulEl.style.whiteSpace="normal"),this._options.swipe&&(t.observe(this._element,"touchstart",Ink.bindMethod(this,"_onTouchStart")),t.observe(this._element,"touchmove",Ink.bindMethod(this,"_onTouchMove")),t.observe(this._element,"touchend",Ink.bindMethod(this,"_onTouchEnd"))),this._setUpPagination(),this._setUpAutoAdvance(),this._options.onInit.call(this,this)},refit:function(){var e=this._isY,t=function(t,n){return t?n?i.outerDimensions(t)[e?0:1]:i.outerDimensions(t)[e?1:0]:0};this._liEls=Ink.ss("li.slide",this._ulEl);var n=this._liEls.length,o=this._ulEl.getBoundingClientRect();this._ctnLength=e?o.bottom-o.top:o.right-o.left,this._elLength=t(this._liEls[0]),this._slidesPerPage=Math.floor(this._ctnLength/this._elLength)||1,isFinite(this._slidesPerPage)||(this._slidesPerPage=1);var r=Math.ceil(n/this._slidesPerPage),a=this._numPages!==r;this._numPages=r,this._deltaLength=this._slidesPerPage*this._elLength,this._IE7(),this._pagination&&a&&this._pagination.setSize(this._numPages),this.setPage(s(this.getPage(),0,this._numPages-1))},_setUpPagination:function(){this._options.pagination?(e.isDOMElement(this._options.pagination)||"string"==typeof this._options.pagination?this._pagination=new o(this._options.pagination,{size:this._numPages,onChange:this._handlers.paginationChange}):(this._pagination=this._options.pagination,this._pagination.setOnChange(this._handlers.paginationChange),this._pagination.setSize(this._numPages)),this._pagination.setCurrent(this._options.initialPage||0)):this._currentPage=this._options.initialPage||0},_setUpAutoAdvance:function(){this._options.autoAdvance&&this.autoAdvance(this._options.autoAdvance)},autoAdvance:function(e){function t(){n.nextPage(!0),n._autoAdvanceSto=setTimeout(t,e)}if(!this._autoAdvanceSto){var n=this;this._autoAdvanceSto=setTimeout(t,e)}},stopAutoAdvance:function(){this._autoAdvanceSto&&(clearTimeout(this._autoAdvanceSto),this._autoAdvanceSto=null)},_IE7:function(){if(r.IE&&""+r.version.split(".")[0]=="7")for(var e=Ink.ss("li.slide",this._ulEl),t=function(t,i){e[n].style[t]=i},n=0,i=e.length;n<i;n++)t("position","absolute"),t(this._isY?"top":"left",n*this._elLength+"px")},_onTouchStart:function(e){if(!(e.touches.length>1)){this._swipeData={x:t.pointerX(e),y:t.pointerY(e)};var n=this._ulEl.getBoundingClientRect();this._swipeData.firstUlPos=n[this._isY?"top":"left"],this._swipeData.inUlX=this._swipeData.x-n.left,this._swipeData.inUlY=this._swipeData.y-n.top,l(this._ulEl,"none"),this._touchMoveIsFirstTouchMove=!0}},_onTouchMove:function(e){if(!(e.touches.length>1)){var n=t.pointerX(e),i=t.pointerY(e),o=this._swipeData.y-i,r=this._swipeData.x-n;if(this._touchMoveIsFirstTouchMove){var s=Math.abs(o),a=Math.abs(r);this._touchMoveIsFirstTouchMove=void 0,this._scrolling=this._isY?a>s:s>a,this._scrolling||this._onAnimationFrame()}!this._scrolling&&this._swipeData&&(t.stopDefault(e),this._swipeData.pointerDelta=this._isY?o:r,this._swipeData.pointerPos=this._isY?i:n)}},_onAnimationFrame:function(){var e=this._swipeData;if(e&&!this._scrolling&&!this._touchMoveIsFirstTouchMove){var t,n=this._element.getBoundingClientRect();t=this._isY?e.pointerPos-e.inUlY-n.top:e.pointerPos-e.inUlX-n.left,this._ulEl.style[this._isY?"top":"left"]=t+"px",u(Ink.bindMethod(this,"_onAnimationFrame"))}},_onTouchEnd:function(e){if(this._swipeData&&this._swipeData.pointerPos&&!this._scrolling&&!this._touchMoveIsFirstTouchMove){var n=.1,i=this._swipeData.pointerDelta,o=this.getPage(),r=i/this._elLength/this._slidesPerPage;Math.abs(r)>n&&(o+=Math[i<0?"floor":"ceil"](r)),o=s(o,0,this._numPages-1),isNaN(o)||this.setPage(o),t.stopDefault(e);
}l(this._ulEl,null),this._swipeData=null,this._touchMoveIsFirstTouchMove=void 0,this._scrolling=void 0},_onPaginationChange:function(e){this._setPage(e.getCurrent())},getPage:function(){return this._pagination?this._pagination.getCurrent():this._currentPage||0},getPagination:function(){return this._pagination||null},setPage:function(e,t){return t&&(e%=this._numPages,e<0&&(e=this._numPages-e)),e=s(e,0,this._numPages-1),e===this._currentPage?void(this._swipeData&&this._setPage(e)):void(this._pagination?this._pagination.setCurrent(e):this._setPage(e))},_setPage:function(e){var t=e*this._deltaLength,n=e===this._numPages-1;if(!this._options.spaceAfterLastSlide&&n&&e>0){var i=this._liEls.length-e*this._slidesPerPage;i<this._slidesPerPage&&(t=(e-1)*this._deltaLength+i*this._elLength)}this._ulEl.style[this._isY?"top":"left"]=["-",t/this._ctnLength*100,"%"].join(""),this._options.onChange&&this._options.onChange.call(this,e),this._currentPage=e},nextPage:function(e){this.setPage(this.getPage()+1,e)},previousPage:function(e){this.setPage(this.getPage()-1,e)},getSlidesPerPage:function(){return this._slidesPerPage},getTotalPages:function(){return this._numPages},getStageElm:function(){return this._ulEl},getSlidesList:function(){return this._liEls},getTotalSlides:function(){return this.getSlidesList().length}},e.createUIComponent(a),a}),Ink.createModule("Ink.UI.Close","1",["Ink.Dom.Event_1","Ink.Dom.Element_1"],function(e,t){"use strict";function n(){e.observe(document.body,"click",function(n){var i=e.element(n);if(i=t.findUpwardsByClass(i,"ink-close")||t.findUpwardsByClass(i,"ink-dismiss")){var o=t.findUpwardsByClass(i,"ink-alert")||t.findUpwardsByClass(i,"ink-alert-block")||i;o&&(e.stopDefault(n),t.remove(o))}})}return n._name="Close_1",n}),Ink.createModule("Ink.UI.Common","1",["Ink.Dom.Element_1","Ink.Net.Ajax_1","Ink.Dom.Css_1","Ink.Dom.Selector_1","Ink.Util.Url_1"],function(e,t,n,i,o){"use strict";function r(){this&&this!==window&&"function"==typeof this.constructor&&Ink.warn("You called a method on an incorrectly instantiated "+this.constructor._name+" component. Check the warnings above to see what went wrong.")}function s(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("constructor"===n)continue;"function"==typeof t[n]&&(t[n]=r)}}function a(e,t){var n=this.constructor,i=n._name;if(!this||this===window)throw new Error('Use "new InkComponent()" instead of "InkComponent()"');if(this&&!(this instanceof a))throw new Error("You forgot to call Ink.UI.Common.createUIComponent() on this module!");if(!e&&!n._componentOptions.elementIsOptional)return void Ink.error(new Error(i+': You need to pass an element or a selector as the first argument to "new '+i+'()"'));this._element=f.elsOrSelector(e,i+': An element with the selector "'+e+'" was not found!')[0],this._element||n._componentOptions.elementIsOptional||(o=!1,Ink.error(new Error(e+' does not match an element on the page. You need to pass a valid selector to "new '+i+'".'))),this._options=f.options(i,n._optionDefinition,t,this._element);var o=a._validateInstance(this)===!0;if(o&&"function"==typeof this._init)try{this._init.apply(this,arguments)}catch(e){o=!1,Ink.error(e)}o?this._element&&f.registerInstance(this):a._stubInstance(this,n,i)}var l={},u=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},c="WeakMap"in window,h=c?new WeakMap:null,d=[],p={get:function(e){return c?h.get(e):d[e.getAttribute("__InkInstance")]},set:function(e,t){c?h.set(e,t):e.setAttribute("__InkInstance",d.push(t)-1)}},f={Layouts:{TINY:"tiny",SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"},isDOMElement:e.isDOMElement,isInteger:function(e){return"number"==typeof e&&e%1===0},elOrSelector:function(e,t){if(!f.isDOMElement(e)){var n=i.select(e);return 0===n.length?(Ink.warn(t+" must either be a DOM Element or a selector expression!\nThe script element must also be after the DOM Element itself."),null):n[0]}return e},elsOrSelector:function(e,t,n){var o;if("string"==typeof e?o=i.select(e):f.isDOMElement(e)?o=[e]:e&&"object"==typeof e&&"number"==typeof e.length&&(o=e),o&&o.length)return o;if(n)throw new TypeError(t+" must either be a DOM Element, an Array of elements, or a selector expression!\nThe script element must also be after the DOM Element itself.");return[]},options:function(t,n,i,o){function r(e){return a=n[e][0],c=a.toLowerCase(),h=2===n[e].length?n[e][1]:l,a||_("Ink.UI.Common.options: Always specify a type!"),c in f._coerce_funcs||_("Ink.UI.Common.options: "+n[e][0]+" is not a valid type. Use one of "+u(f._coerce_funcs).join(", ")),(!n[e].length||n[e].length>2)&&_('the "defaults" argument must be an object mapping option names to [typestring, optional] arrays.'),s=e in p?f._coerce_from_string(c,p[e],e,t):l,s!==l?f._options_validate(s,c)?s:(v("("+e+" option) Invalid "+c+" "+g(s)),h):e in i?i[e]:h!==l?h:void _("Option "+e+" is required!")}"string"!=typeof t&&(o=i,i=n,n=t,t=""),i=i||{};var s,a,c,h,d={},p=o?e.data(o):{},m=function(e){return t&&(e=t+': "'+(""+e).replace(/"/,'\\"')+'"'),e},g=function(e){return'"'+(""+e).replace(/"/,'\\"')+'"'},_=function(e){throw new Error(m(e))},v=function(e){Ink.error(m(e)+". Ignoring option.")};for(var y in n)n.hasOwnProperty(y)&&(d[y]=r(y));return d},_coerce_from_string:function(e,t,n,i){return e in f._coerce_funcs?f._coerce_funcs[e](t,n,i):t},_options_validate:function(e,t){return t in f._options_validate_types&&f._options_validate_types[t].call(f,e)},_coerce_funcs:function(){var e={element:function(e){return f.elOrSelector(e,"")},elements:function(e){return f.elsOrSelector(e,"",!1)},object:function(e){return e},number:function(e){return parseFloat(e)},boolean:function(e){return!("false"===e||""===e||null===e)},string:function(e){return e},function:function(e,t,n){return Ink.error(n+': You cannot specify the option "'+t+"\" through data-attributes because it's a function"),l}};return e.float=e.integer=e.number,e}(),_options_validate_types:function(){var e={string:function(e){return"string"==typeof e},number:function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},integer:function(e){return e===Math.round(e)},element:function(e){return f.isDOMElement(e)},elements:function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&e.length},boolean:function(e){return"boolean"==typeof e},object:function(){return!0}};return e.float=e.number,e}(),clone:function(e){try{return JSON.parse(JSON.stringify(e))}catch(e){throw new Error("Given object cannot have loops!")}},childIndex:e.parentIndexOf,ajaxJSON:function(e,n,i){new t(e,{evalJS:"force",method:"POST",parameters:n,onSuccess:function(e){try{if(e=e.responseJSON,"ok"!==e.status)throw"server error: "+e.message;i(null,e)}catch(e){i(e)}},onFailure:function(){i("communication failure")}})},currentLayout:function(){var e,t,o,r,s,a=i.select("#ink-layout-detector")[0];if(!a){a=document.createElement("div"),a.id="ink-layout-detector";for(o in f.Layouts)f.Layouts.hasOwnProperty(o)&&(r=f.Layouts[o],s=document.createElement("div"),s.className="show-"+r+" hide-all",s.setAttribute("data-ink-layout",r),a.appendChild(s));document.body.appendChild(a)}for(e=0,t=a.children.length;e<t;++e)if(s=a.children[e],"block"===n.getStyle(s,"display"))return s.getAttribute("data-ink-layout");return"large"},hashSet:function(e){if("object"!=typeof e)throw new TypeError("o should be an object!");var t=o.getAnchorString();t=Ink.extendObj(t,e),window.location.hash=o.genQueryString("",t).substring(1)},cleanChildren:function(t){if(!f.isDOMElement(t))throw new Error("Please provide a valid DOMElement");e.clear(t)},storeIdAndClasses:function(e,t){if(!f.isDOMElement(e))throw"Please provide a valid Element as first parameter";var n=e.id;n&&(t._id=n);var i=e.className;i&&(t._classes=i)},restoreIdAndClasses:function(e,t){if(!f.isDOMElement(e))throw"Please provide a valid Element as first parameter";t._id&&e.id!==t._id&&(e.id=t._id),t._classes&&e.className.indexOf(t._classes)===-1&&(e.className?e.className+=" "+t._classes:e.className=t._classes),t._instanceId&&!e.getAttribute("data-instance")&&e.setAttribute("data-instance",t._instanceId)},_warnDoubleInstantiation:function(e,t){function n(e){return(e.constructor&&e.constructor._name||e._name||"").replace(/_.*?$/,"")}var i=f.getInstance(e);if(""!==n(t)&&i){var o=n(t);if(o){for(var r=0,s=i.length;r<s;r++)if(o===n(i[r]))return Ink.warn("Creating more than one "+o+" for the same element.","(Was creating a "+o+" on:",e,")."),!1;return!0}}},registerInstance:function(e,t){if(e){if(t||(t=e._element),!f.isDOMElement(t))throw new TypeError("Ink.UI.Common.registerInstance: The element passed in is not a DOM element!");if(f._warnDoubleInstantiation(t,e)===!1)return!1;var n=p.get(t);return n||(n=[],p.set(t,n)),n.push(e),!0}},unregisterInstance:function(e){if(e&&e._element)for(var t=p.get(e._element),n=0,i=t.length;n<i;n++)t[n]===e&&t.splice(n,1)},getInstance:function(e,t){var n=e;if(e=f.elOrSelector(e),!f.isDOMElement(e))return Ink.warn("Ink.UI.Common: getInstance called on non-element ("+n+")"),[];var i=p.get(e);if(i||(i=[]),"function"!=typeof t)return i;for(var o=0,r=i.length;o<r;o++)if(i[o]instanceof t)return i[o];return null},getInstanceFromSelector:function(e){return f.getInstance(e)},getInstanceIds:function(){if(d.length>0)return d;var e=[];for(var t in h)h.hasOwnProperty(t)&&e.push(t);return e},getInstances:function(){if(d.length>0)return d;var e=[];for(var t in h)h.hasOwnProperty(t)&&e.push(h[t]);return e},destroyComponent:function(){f.unregisterInstance(this),this._element.parentNode.removeChild(this._element)}};return a._validateInstance=function(e){var t;if("function"!=typeof e._validate)return!0;try{t=e._validate()}catch(e){t=e}return!(t instanceof Error&&(e._validationError=t,1))},a._stubInstance=function(e,t,n){s(t.prototype,e),s(a.prototype,e),Ink.warn(n+" was not correctly created. "+(e._validationError||""))},a.getInstance=function(e){return e=f.elOrSelector(e),f.getInstance(e,this)},Ink.extendObj(a.prototype,{getOption:function(e){return!this.constructor||e in this.constructor._optionDefinition?this._options[e]:void Ink.error('"'+e+'" is not an option for '+this.constructor._name)},setOption:function(e,t){return!this.constructor||e in this.constructor._optionDefinition?void(this._options[e]=t):void Ink.error('"'+e+" is not an option for "+this.constructor._name)},getElement:function(){return this._element}}),f.BaseUIComponent=a,f.createUIComponent=function(e,t){function n(e,t){if(!e)throw new Error("Ink.UI_1.createUIComponent: "+t)}function i(t,i,o){var r=e[t];n("undefined"!=typeof r,e+" doesn't have a \""+t+'" property. '+o),n(i&&typeof r===i,"typeof "+e+"."+t+' is not "'+i+'". '+o)}e._componentOptions=t||{},n("function"==typeof e,"constructor argument is not a function!"),i("_name","string","This property is used for error messages. Set it to the full module path and version (Ink.My.Module_1)."),i("_optionDefinition","object","This property contains the option names, types and defaults. See Ink.UI.Common.options() for reference.");var o=e.prototype;"function"==typeof Object.create?e.prototype=Object.create(a.prototype):e.prototype=function(){function e(){}return e.prototype=a.prototype,new e}(),Ink.extendObj(e.prototype,o),e.prototype.constructor=e,Ink.extendObj(e,a)},f}),Ink.createModule("Ink.UI.DatePicker","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1","Ink.Util.Date_1","Ink.Util.I18n_1"],function(e,t,n,i,o,r,s,a){"use strict";function l(e,t,n){return e>n&&(e=n),e<t&&(e=t),e}function u(e){var t=e.split("-");return h(+t[0],+t[1]-1,+t[2])}function c(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function h(e,t,n){return{_year:e,_month:t,_day:n}}function d(e){return{_year:e.getFullYear(),_month:e.getMonth(),_day:e.getDate()}}function p(e){return 10*Math.floor(e/10)}function f(){e.BaseUIComponent.apply(this,arguments)}var m=new a({pt_PT:{"datepicker.clean":"Limpar","datepicker.close":"Fechar","datepicker.format":"dd-mm-yyyy","datepicker.of":" de ","datepicker.next_button":"","datepicker.prev_button":"","datepicker.months":{1:"Janeiro",2:"Fevereiro",3:"Maro",4:"Abril",5:"Maio",6:"Junho",7:"Julho",8:"Agosto",9:"Setembro",10:"Outubro",11:"Novembro",12:"Dezembro"},"datepicker.week_days":{0:"Domingo",1:"Segunda-feira",2:"Tera-feira",3:"Quarta-feira",4:"Quinta-feira",5:"Sexta-feira",6:"Sbado"}},en_US:{"datepicker.clean":"Clear","datepicker.close":"Close","datepicker.format":"dd-mm-yyyy","datepicker.of":" of ","datepicker.next_button":"","datepicker.prev_button":"","datepicker.months":{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},"datepicker.week_days":{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}}},"en_US");return f._name="DatePicker_1",f._optionDefinition={autoOpen:["Boolean",!1],pickerField:["Element",null],containerElement:["Element",null],cssClass:["String","ink-calendar bottom"],dateRange:["String",null],displayInSelect:["Boolean",!1],dayField:["Element",null],monthField:["Element",null],yearField:["Element",null],createSelectOptions:["Boolean",!1],format:["String","yyyy-mm-dd"],onFocus:["Boolean",!0],onMonthSelected:["Function",null],onSetDate:["Function",null],onYearSelected:["Function",null],position:["String","right"],showClean:["Boolean",!0],showClose:["Boolean",!0],shy:["Boolean",!0],startDate:["String",null],startWeekDay:["Number",1],validDayFn:["Function",null],validMonthFn:["Function",null],validYearFn:["Function",null],nextValidDateFn:["Function",null],prevValidDateFn:["Function",null],yearRange:["String",null],lang:["String",null],month:["Object",null],wDay:["Object",null],nextLinkText:["String",null],prevLinkText:["String",null],ofText:["String",null],cleanText:["String",null],closeText:["String",null]},f.prototype={_init:function(){this.i18n=m.clone(),this._options.lang&&this.i18n.lang(this._options.lang);var e=this._options.lang||m.lang(),t={};t[e]={},this._options.month&&(t[e]["datepicker.months"]=this._options.month),this._options.wDay&&(t[e]["datepicker.week_days"]=this._options.wDay),this._options.nextLinkText&&(t[e]["datepicker.next_button"]=this._options.nextLinkText),this._options.prevLinkText&&(t[e]["datepicker.prev_button"]=this._options.prevLinkText),this._options.ofText&&(t[e]["datepicker.of"]=this._options.ofText),this._options.cleanText&&(t[e]["datepicker.clean"]=this._options.cleanText),this._options.closeText&&(t[e]["datepicker.close"]=this._options.closeText),c(t[e]).length&&this.i18n.append(t),this._options.format=this._dateParsers[this._options.format]||this._options.format,this._hoverPicker=!1,this._picker=this._options.pickerField||null,this._setMinMax(this._options.dateRange||this._options.yearRange),this._options.startDate?this.setDate(this._options.startDate):this._element&&this._element.value?this.setDate(this._element.value):this.setDate(new Date),(this._options.startWeekDay<0||this._options.startWeekDay>6)&&(Ink.warn('Ink.UI.DatePicker_1: option "startWeekDay" must be between 0 (sunday) and 6 (saturday)'),this._options.startWeekDay=l(this._options.startWeekDay,0,6)),this._options.displayInSelect&&this._options.createSelectOptions&&this._createSelectOptions(),Ink.extendObj(this._options,this._lang||{}),this._render(),this._listenToContainerObjectEvents()},_validate:function(){if(this._options.displayInSelect&&!(this._options.dayField&&this._options.monthField&&this._options.yearField))throw new Error("Ink.UI.DatePicker: displayInSelect option enabled.Please specify dayField, monthField and yearField selectors.")},_render:function(){this._containerObject=document.createElement("div"),this._containerObject.className=this._options.cssClass+" ink-datepicker-calendar hide-all",this._renderSuperTopBar();var t=document.createElement("div");t.className="ink-calendar-top",this._monthDescContainer=document.createElement("div"),this._monthDescContainer.className="ink-calendar-month_desc",this._monthPrev=document.createElement("div"),this._monthPrev.className="ink-calendar-prev",this._monthPrev.appendChild(i.create("a",{href:"#prev",className:"change_month_prev",setHTML:this.i18n.text("datepicker.prev_button")})),this._monthNext=document.createElement("div"),this._monthNext.className="ink-calendar-next",this._monthNext.appendChild(i.create("a",{href:"#next",className:"change_month_next",setHTML:this.i18n.text("datepicker.next_button")})),t.appendChild(this._monthPrev),t.appendChild(this._monthDescContainer),t.appendChild(this._monthNext),this._monthContainer=document.createElement("div"),this._monthContainer.className="ink-calendar-month",this._containerObject.appendChild(t),this._containerObject.appendChild(this._monthContainer),this._monthSelector=this._renderMonthSelector(),this._containerObject.appendChild(this._monthSelector),this._yearSelector=document.createElement("ul"),this._yearSelector.className="ink-calendar-year-selector",this._containerObject.appendChild(this._yearSelector),this._options.onFocus&&!this._options.displayInSelect||(this._options.pickerField?this._picker=e.elOrSelector(this._options.pickerField,"pickerField"):this._picker=i.create("a",{href:"#open_cal",setHTML:"open",insertBottom:this._element.parentNode,className:"ink-datepicker-picker-field"})),this._appendDatePickerToDom(),this._renderMonth(),this._monthChanger=i.create("a",{href:"#monthchanger",className:"ink-calendar-link-month",setTextContent:this.i18n.getKey("datepicker.months")[this._month+1]}),this._ofText=i.create("span",{className:"ink-calendar-of-text",setTextContent:this.i18n.text("datepicker.of")}),this._yearChanger=i.create("a",{href:"#yearchanger",className:"ink-calendar-link-year",setTextContent:this._year}),this._monthDescContainer.appendChild(this._monthChanger),this._monthDescContainer.appendChild(this._ofText),this._monthDescContainer.appendChild(this._yearChanger),this._options.inline?this.show():this._addOpenCloseEvents(),this._addDateChangeHandlersToInputs()},_addDateChangeHandlersToInputs:function(){var e=this._element;this._options.displayInSelect&&(e=[this._options.dayField,this._options.monthField,this._options.yearField]),t.observeMulti(e,"change",Ink.bindEvent(function(){this._updateDate(),this._showDefaultView(),this.setDate(),this._options.onSetDate&&this._options.onSetDate(this,{date:this.getDate()}),this._inline||this._hoverPicker||this._hide(!0)},this))},show:function(){this._updateDate(),this._renderMonth(),n.removeClassName(this._containerObject,"hide-all")},_addOpenCloseEvents:function(){var e=this._picker||this._element;t.observe(e,"click",Ink.bindEvent(function(e){t.stopDefault(e),this.show()},this)),this._options.autoOpen&&this.show(),this._options.displayInSelect||t.observe(e,"blur",Ink.bindEvent(function(){this._hoverPicker||this._hide(!0)},this)),this._options.shy&&t.observe(document,"click",Ink.bindEvent(function(e){for(var n=t.element(e),o=[this._options.dayField,this._options.monthField,this._options.yearField,this._picker,this._containerObject,this._element],r=0,s=o.length;r<s;r++)if(o[r]&&(i.descendantOf(o[r],n)||o[r]===n))return;this._hide(!0)},this))},_renderMonthSelector:function(){var e=document.createElement("ul");e.className="ink-calendar-month-selector";for(var t=document.createElement("ul"),n=1;n<=12;n++)t.appendChild(this._renderMonthButton(n)),n%4===0&&(e.appendChild(t),t=document.createElement("ul"));return e},_renderMonthButton:function(e){var t=document.createElement("li");return t.appendChild(i.create("a",{"data-cal-month":e,setTextContent:this.i18n.getKey("datepicker.months")[e].substring(0,3)})),t},_appendDatePickerToDom:function(){if(this._options.containerElement){var t=e.elOrSelector(this._options.containerElement);t.appendChild(this._containerObject)}var n=o.matchesSelector(this._element.parentNode,".ink-form .control-group .control, .ink-form .control-group .control > *");n?(this._wrapper=this._element.parentNode,this._wrapperIsControl=!0):(this._wrapper=i.create("div",{className:"ink-datepicker-wrapper"}),i.wrap(this._element,this._wrapper)),i.insertAfter(this._containerObject,this._element)},_renderSuperTopBar:function(){this._options.showClose&&this._options.showClean&&(this._superTopBar=document.createElement("div"),this._superTopBar.className="ink-calendar-top-options",this._options.showClean&&this._superTopBar.appendChild(i.create("a",{className:"clean",setHTML:this.i18n.text("datepicker.clean")})),this._options.showClose&&this._superTopBar.appendChild(i.create("a",{className:"close",setHTML:this.i18n.text("datepicker.close")})),this._containerObject.appendChild(this._superTopBar))},_listenToContainerObjectEvents:function(){t.observe(this._containerObject,"mouseover",Ink.bindEvent(function(e){t.stopDefault(e),this._hoverPicker=!0},this)),t.observe(this._containerObject,"mouseout",Ink.bindEvent(function(e){t.stopDefault(e),this._hoverPicker=!1},this)),t.observe(this._containerObject,"click",Ink.bindEvent(this._onClick,this))},_onClick:function(e){var i=t.element(e);return n.hasClassName(i,"ink-calendar-off")?(t.stopDefault(e),null):(t.stopDefault(e),this._onRelativeChangerClick(i),this._onAbsoluteChangerClick(i),n.hasClassName(i,"ink-calendar-link-month")?this._showMonthSelector():n.hasClassName(i,"ink-calendar-link-year")?this._showYearSelector():n.hasClassName(i,"clean")?this._clean():n.hasClassName(i,"close")&&this._hide(!1),void this._updateDescription())},_onRelativeChangerClick:function(e){var t={change_year_next:1,change_year_prev:-1},n={change_month_next:1,change_month_prev:-1};e.className in n?this._updateCal(n[e.className]):e.className in t&&this._showYearSelector(t[e.className])},_onAbsoluteChangerClick:function(e){var t=i.data(e);Number(t.calDay)?(this.setDate(new Date(this._year,this._month,t.calDay),e),this._options.shy?this._hide():this._updateCal()):Number(t.calMonth)?(this._month=Number(t.calMonth)-1,this._showDefaultView(),this._updateCal()):Number(t.calYear)&&this._changeYear(Number(t.calYear))},_changeYear:function(e){e=+e,isNaN(e)||(this._year=e,"function"==typeof this._options.onYearSelected&&this._options.onYearSelected(this,{year:this._year}),this._showMonthSelector())},_clean:function(){this._options.displayInSelect?(this._options.yearField.selectedIndex=0,this._options.monthField.selectedIndex=0,this._options.dayField.selectedIndex=0):this._element.value=""},_hide:function(e){e=void 0===e||e,(e===!1||e&&this._options.shy)&&n.addClassName(this._containerObject,"hide-all")},_setMinMax:function(e){function t(){n._min=i,n._max=o}var n=this,i={_year:-Number.MAX_VALUE,_month:0,_day:1},o={_year:Number.MAX_VALUE,_month:11,_day:31};if(!e)return t();var s=e.split(":"),a=/^(\d{4})((\-)(\d{1,2})((\-)(\d{1,2}))?)?$/;r.each([{name:"_min",date:s[0],noLim:i},{name:"_max",date:s[1],noLim:o}],Ink.bind(function(e){var t=e.noLim;if("NOW"===e.date.toUpperCase()){var n=new Date;t=d(n)}else"EVER"===e.date.toUpperCase()?t=e.noLim:a.test(e.date)&&(t=u(e.date),t._month=l(t._month,0,11),t._day=l(t._day,1,this._daysInMonth(t._year,t._month+1)));this[e.name]=t},this));var c=this._dateCmp(this._max,this._min)!==-1;c||t()},_fitDateToRange:function(e){return this._isValidDate(e)||(e=d(new Date)),this._dateCmp(e,this._min)===-1?Ink.extendObj({},this._min):1===this._dateCmp(e,this._max)?Ink.extendObj({},this._max):Ink.extendObj({},e)},_dateWithinRange:function(e){return arguments.length||(e=this),!this._dateAboveMax(e)&&!this._dateBelowMin(e)},_dateAboveMax:function(e){return 1===this._dateCmp(e,this._max)},_dateBelowMin:function(e){return this._dateCmp(e,this._min)===-1},_dateCmp:function(e,t){return this._dateCmpUntil(e,t,"_day")},_dateCmpUntil:function(e,t,n){var i=["_year","_month","_day"],o=-1;do{if(o++,e[i[o]]>t[i[o]])return 1;if(e[i[o]]<t[i[o]])return-1}while(i[o]!==n&&void 0!==e[i[o+1]]&&void 0!==t[i[o+1]]);return 0},_createSelectOptions:function(){function e(){var e=new Date(+s.value,o.value-1+1,0).getDate();i.setHTML(n,""),i.fillSelect(n,r.range(1,e+1),!0)}var n=this._options.dayField,o=this._options.monthField,s=this._options.yearField;i.setHTML(o,""),i.setHTML(s,""),i.fillSelect(o,r.map(["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],function(e,t){return[t+1,e]}),!0),i.fillSelect(s,r.range(1900,2e3),!0),t.observeMulti([o,s],"change",e),e()},_showDefaultView:function(){this._yearSelector.style.display="none",this._monthSelector.style.display="none",this._monthPrev.childNodes[0].className="change_month_prev",this._monthNext.childNodes[0].className="change_month_next",this._getPrevMonth()||(this._monthPrev.childNodes[0].className="action_inactive"),this._getNextMonth()||(this._monthNext.childNodes[0].className="action_inactive"),this._monthContainer.style.display="block"},_updateDate:function(){var e;!this._options.displayInSelect&&this._element.value?e=this._parseDate(this._element.value):this._options.displayInSelect&&(e={_year:this._options.yearField[this._options.yearField.selectedIndex].value,_month:this._options.monthField[this._options.monthField.selectedIndex].value-1,_day:this._options.dayField[this._options.dayField.selectedIndex].value}),e&&(e=this._fitDateToRange(e),this._year=e._year,this._month=e._month,this._day=e._day),this._setDate(),this._updateDescription(),this._renderMonth()},_updateDescription:function(){i.setTextContent(this._monthChanger,this.i18n.getKey("datepicker.months")[this._month+1]),i.setTextContent(this._ofText,this.i18n.text("datepicker.of")),i.setTextContent(this._yearChanger,this._year)},_showYearSelector:function(e){this._incrementViewingYear(e);var t=this._year-this._year%10,n=t-1;i.setHTML(this._yearSelector,"");var o=i.create("ul");if(this._yearSelector.appendChild(o),n>this._min._year){var r=i.create("li");r.appendChild(i.create("a",{href:"#year_prev",className:"change_year_prev",setHTML:this.i18n.text("datepicker.prev_button")})),o.appendChild(r)}else o.appendChild(i.create("li",{setHTML:"&nbsp;"}));for(var s=1;s<11;s++)s%4===0&&(o=i.create("ul"),this._yearSelector.appendChild(o)),n=t+s-1,o.appendChild(this._getYearButton(n));if(n<this._max._year){var a=i.create("li");a.appendChild(i.create("a",{href:"#year_next",className:"change_year_next",setHTML:this.i18n.text("datepicker.next_button")})),o.appendChild(a)}else o.appendChild(i.create("li",{setHTML:"&nbsp;"}));this._monthPrev.childNodes[0].className="action_inactive",this._monthNext.childNodes[0].className="action_inactive",this._monthSelector.style.display="none",this._monthContainer.style.display="none",this._yearSelector.style.display="block"},_incrementViewingYear:function(e){if(e){var t=+this._year+10*e;t-=t%10,t>this._max._year||t+9<this._min._year||(this._year=+this._year+10*e)}},_getYearButton:function(e){var t="";this._acceptableYear({_year:e})?e===this._year&&(t="ink-calendar-on"):t="ink-calendar-off";var n=i.create("li");return n.appendChild(i.create("a",{href:"#","data-cal-year":e,className:t,setTextContent:e})),n},_showMonthSelector:function(){this._yearSelector.style.display="none",this._monthContainer.style.display="none",this._monthPrev.childNodes[0].className="action_inactive",this._monthNext.childNodes[0].className="action_inactive",this._addMonthClassNames(),this._monthSelector.style.display="block"},_parseDate:function(e){var t=s.set(this._options.format,e);return t?d(t):null},_isValidDate:function(e){var t=/^\d{4}$/,n=/^\d{1,2}$/;return t.test(e._year)&&n.test(e._month)&&n.test(e._day)&&+e._month+1>=1&&+e._month+1<=12&&+e._day>=1&&+e._day<=this._daysInMonth(e._year,e._month+1)},_isDate:function(e,t){try{if("undefined"==typeof e)return!1;var n=s.set(e,t);if(n&&this._isValidDate(d(n)))return!0}catch(e){}return!1},_acceptableDay:function(e){return this._acceptableDateComponent(e,"validDayFn")},_acceptableMonth:function(e){return this._acceptableDateComponent(e,"validMonthFn")},_acceptableYear:function(e){return this._acceptableDateComponent(e,"validYearFn")},_acceptableDateComponent:function(e,t){return this._options[t]?this._callUserCallbackBool(this._options[t],e):this._dateWithinRange(e)},_writeDateInFormat:function(){return s.get(this._options.format,this.getDate())},setDate:function(e,t){if(e&&"function"==typeof e.getDate&&(e=[e.getFullYear(),e.getMonth()+1,e.getDate()].join("-")),/\d{4}-\d{1,2}-\d{1,2}/.test(e)){var n=e.split("-");this._year=+n[0],this._month=+n[1]-1,this._day=+n[2]}this._setDate(t)},getDate:function(){if(!this._day)throw"Ink.UI.DatePicker: Still picking a date. Cannot getDate now!";return new Date(this._year,this._month,this._day)},_setDate:function(e){if(e){var t=i.data(e);this._day=+t.calDay||this._day,this._options.onSetDate&&this._options.onSetDate(this,{date:this.getDate()})}var n=this._fitDateToRange(this);if(this._year=n._year,this._month=n._month,this._day=n._day,this._options.displayInSelect)this._options.dayField.value=this._day,this._options.monthField.value=this._month+1,this._options.yearField.value=this._year;else{var o=this._writeDateInFormat();o!==this._element.value&&(this._element.value=o)}},_updateCal:function(e){"function"==typeof this._options.onMonthSelected&&this._options.onMonthSelected(this,{year:this._year,month:this._month}),e&&null===this._updateMonth(e)||this._renderMonth()},_daysInMonth:function(e,t){var n={2:e%400===0||e%4===0&&e%100!==0?29:28,4:30,6:30,9:30,11:30};return n[t]||31},_updateMonth:function(e){var t;return e>0?t=this._getNextMonth():e<0&&(t=this._getPrevMonth()),t?(this._year=t._year,this._month=t._month,void(this._day=t._day)):null},_getNextMonth:function(e){return this._tryLeap(e,"Month","next",function(e){return e._month+=1,e._month>11&&(e._month=0,e._year+=1),e})},_getPrevMonth:function(e){return this._tryLeap(e,"Month","prev",function(e){return e._month-=1,e._month<0&&(e._month=11,e._year-=1),e})},_getPrevYear:function(e){return this._tryLeap(e,"Year","prev",function(e){return e._year-=1,e})},_getNextYear:function(e){return this._tryLeap(e,"Year","next",function(e){return e._year+=1,e})},_tryLeap:function(e,t,n,i){e=e||{_year:this._year,_month:this._month,_day:this._day};var o="prev"===n?"_min":"_max",r=this[o];if(0===this._dateCmpUntil(e,r,t))return null;var s=this._options[n+"ValidDateFn"];if(s)return this._callUserCallbackDate(s,e);e=i(e);var a=this._daysInMonth(e._year,e._month+1);return e._day>a&&(e._day=a),e=this._fitDateToRange(e),this["_acceptable"+t](e)?e:null},_getNextDecade:function(e){e=e||{_year:this._year,_month:this._month,_day:this._day};var t=this._getCurrentDecade(e);return t+10>this._max._year?null:t+10},_getPrevDecade:function(e){e=e||{_year:this._year,_month:this._month,_day:this._day};var t=this._getCurrentDecade(e);return p(t-10)<p(this._min._year)?null:t-10},_getCurrentDecade:function(e){return e=e?e._year||e:this._year,p(this._year)},_callUserCallbackBase:function(e,t){return e.call(this,t._year,t._month+1,t._day)},_callUserCallbackBool:function(e,t){return!!this._callUserCallbackBase(e,t)},_callUserCallbackDate:function(e,t){var n=this._callUserCallbackBase(e,t);return n?d(n):null},_dateParsers:{"yyyy-mm-dd":"Y-m-d","yyyy/mm/dd":"Y/m/d","yy-mm-dd":"y-m-d","yy/mm/dd":"y/m/d","dd-mm-yyyy":"d-m-Y","dd/mm/yyyy":"d/m/Y","dd-mm-yy":"d-m-y","dd/mm/yy":"d/m/y","mm/dd/yyyy":"m/d/Y","mm-dd-yyyy":"m-d-Y"},_renderMonth:function(){var e=this._month,t=this._year;this._showDefaultView(),i.setHTML(this._monthContainer,""),this._monthContainer.appendChild(this._getMonthCalendarHeader(this._options.startWeekDay)),this._monthContainer.appendChild(this._getDayButtons(t,e))},_getFirstDayIndex:function(e,t){var n=new Date(e,t,1).getDay(),i=this._options.startWeekDay||0,o=n-i;return o%=7,o<0&&(o+=7),o},_getDayButtons:function(e,t){var n=this._daysInMonth(e,t+1),o=document.createDocumentFragment(),r=i.create("ul");o.appendChild(r);for(var s=this._getFirstDayIndex(e,t),a=0;a<s;a++)r.appendChild(i.create("li",{className:"ink-calendar-empty",setHTML:"&nbsp;"}));for(var l=1;l<=n;l++)(l-1+s)%7===0&&(r=i.create("ul"),o.appendChild(r)),r.appendChild(this._getDayButton(e,t,l));
return o},_getDayButton:function(e,t,n){var o={},r=h(e,t,n);this._acceptableDay(r)?(o["data-cal-day"]=n,this._day&&0===this._dateCmp(r,this)&&(o.className="ink-calendar-on")):o.className="ink-calendar-off",o.setTextContent=n;var s=i.create("li");return s.appendChild(i.create("a",o)),s},_getMonthCalendarHeader:function(e){for(var t,n=i.create("ul",{className:"ink-calendar-header"}),o=0;o<7;o++)t=(e+o)%7,n.appendChild(i.create("li",{setTextContent:this.i18n.getKey("datepicker.week_days")[t].substring(0,1)}));return n},_addMonthClassNames:function(e){r.forEach((e||this._monthSelector).getElementsByTagName("a"),Ink.bindMethod(this,"_addMonthButtonClassNames"))},_addMonthButtonClassNames:function(e){var t=i.data(e);if(!t.calMonth)throw"not a calendar month button!";var o=+t.calMonth-1;if(o===this._month)n.addClassName(e,"ink-calendar-on"),n.removeClassName(e,"ink-calendar-off");else{n.removeClassName(e,"ink-calendar-on");var r=!this._acceptableMonth({_year:this._year,_month:o});n.addRemoveClassName(e,"ink-calendar-off",r)}},setI18n:function(e){e.clone&&(e=e.clone()),this.i18n=e},getI18n:function(){return this.i18n||m},setLanguage:function(e){this.i18n||this.setI18n(m),this.i18n.lang(e)},getLanguage:function(){return this.i18n?this.i18n.lang():m.lang()},showMonth:function(){this._renderMonth()},isMonthRendered:function(){var e=o.select(".ink-calendar-header",this._containerObject)[0];return"none"!==n.getStyle(e.parentNode,"display")&&"none"!==n.getStyle(e.parentNode.parentNode,"display")},destroy:function(){i.unwrap(this._element),i.remove(this._wrapper),i.remove(this._containerObject),e.unregisterInstance.call(this)}},e.createUIComponent(f),f}),Ink.createModule("Ink.UI.DragDrop",1,["Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Util.Array_1","Ink.UI.Common_1","Ink.Dom.Selector_1"],function(e,t,n,i,o,r){"use strict";function s(e){e.exceptFor.style.display="none";var t=document.elementFromPoint(e.x,e.y);return e.exceptFor.style.display="",t}function a(){o.BaseUIComponent.apply(this,arguments)}return a._name="DragDrop_1",a._optionDefinition={dragItem:["String",".drag-item"],dragHandle:["String",".drag-handle"],dropZone:["String",".drop-zone"],ignoreDrag:["String",".drag-ignore"],draggedCloneClass:["String","drag-cloned-item"],placeholderClass:["String","drag-placeholder-item"],onDrag:["Function",null],onDrop:["Function",null]},a.prototype={_init:function(){this._dragActive=!1,this._draggedElm=null,this._clonedElm=null,this._placeholderElm=null,this._originalDrop=null,this._mouseDelta=[0,0],this._addEvents()},_addEvents:function(){t.on(this._element,"mousedown touchstart",Ink.bindEvent(this._onMouseDown,this))},_onMouseDown:function(n){var i=t.element(n),o=e.findUpwardsBySelector(i,this._options.dragItem),r=e.findUpwardsBySelector(i,this._options.ignoreDrag);if(o&&!r){var s=Ink.s(this._options.dragHandle,o);s&&e.findUpwardsBySelector(i,this._options.dragHandle)?this._dragActive=!0:s||(this._dragActive=!0),this._dragActive&&(t.stopDefault(n),this._startDrag(n,o))}},_startDrag:function(i,o){this._clonedElm=o.cloneNode(!0),this._placeholderElm=o.cloneNode(!1),n.addClassName(this._clonedElm,this._options.draggedCloneClass),this._clonedElm.removeAttribute("id"),n.addClassName(this._placeholderElm,this._options.placeholderClass),this._placeholderElm.removeAttribute("id");var r=o.getBoundingClientRect(),s=[r.right-r.left,r.bottom-r.top];this._clonedElm.style.width=s[0]+"px",this._clonedElm.style.height=s[1]+"px",this._placeholderElm.style.width=s[0]+"px",this._placeholderElm.style.height=s[1]+"px",this._placeholderElm.style.visibility="hidden",this._clonedElm.style.position="fixed",this._clonedElm.style.zIndex="1000",this._clonedElm.style.left=r.left+"px",this._clonedElm.style.top=r.top+"px";var a=t.pointer(i),l=e.offset(o);this._mouseDelta=[a.x-l[0],a.y-l[1]],this._clonedElm.style.opacity="0.6",o.parentNode.insertBefore(this._clonedElm,o),this._draggedElm=o,o.parentNode.insertBefore(this._placeholderElm,o),n.addClassName(o,"hide-all");var u="function"==typeof this._options.onDrag,c="function"==typeof this._options.onDrop;if(u||c){var h={dragItem:this._draggedElm,dropZone:this.getDropZone(this._draggedElm)};u&&this._options.onDrag.call(this,h),c&&(this._originalDrop=h.dropZone)}var d=t.throttle(this._onMouseMove,50,{preventDefault:!0,bind:this});t.on(document,"mousemove.inkdraggable touchmove.inkdraggable",d),t.on(document,"mouseup.inkdraggable touchend.inkdraggable",Ink.bindEvent(this._onMouseUp,this))},_onMouseMove:function(n){if(this._dragActive){var i=t.pointer(n),o=e.scrollWidth(),r=e.scrollHeight();this._clonedElm.style.left=i.x-this._mouseDelta[0]-o+"px",this._clonedElm.style.top=i.y-this._mouseDelta[1]-r+"px";var a=s({x:i.x-o,y:i.y-r,exceptFor:this._clonedElm}),l=this.getDropZone(a),u=l&&(e.isAncestorOf(this._element,l)||this._element===l);if(l&&u){var c=e.findUpwardsBySelector(a,this._options.dragItem);c&&this.isDragItem(c)?this._insertPlaceholder(c):this._dropZoneIsEmpty(l)&&l.appendChild(this._placeholderElm)}}},isDragItem:function(e){return r.matchesSelector(e,this._options.dragItem)&&e!==this._draggedElm&&e!==this._placeholderElm&&e!==this._clonedElm},_dropZoneIsEmpty:function(e){var t=Ink.ss(this._options.dragItem,e);return!i.some(t,Ink.bindMethod(this,"isDragItem"))},_onMouseUp:function(){this._dragActive&&(e.insertBefore(this._draggedElm,this._placeholderElm),e.remove(this._placeholderElm),e.remove(this._clonedElm),n.removeClassName(this._draggedElm,"hide-all"),t.off(document,".inkdraggable"),this._dragActive=!1,"function"==typeof this._options.onDrop&&this._options.onDrop.call(this,{origin:this._originalDrop,dragItem:this._draggedElm,dropZone:this.getDropZone(this._draggedElm)}),this._placeholderElm=null,this._clonedElm=null,this._draggedElm=null,this._originalDrop=null)},getDropZone:function(t){var n=e.findUpwardsBySelector(t,this._options.dropZone)||this._element;return e.isAncestorOf(this._element,n)||n===this._element?n:null},getDraggedElement:function(){return this.dragActive?this._draggedElm:null},_insertPlaceholder:function(t){var n=!0;i.inArray(this._placeholderElm,e.previousSiblings(t))||(n=!1),n?e.insertAfter(this._placeholderElm,t):e.insertBefore(this._placeholderElm,t)},destroy:function(){this._dragActive&&t.off(document,".inkdraggable"),o.destroyComponent.call(this)}},o.createUIComponent(a),a}),Ink.createModule("Ink.UI.Draggable","1",["Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Browser_1","Ink.Dom.Selector_1","Ink.UI.Common_1"],function(e,t,n,i,o,r){"use strict";function s(e,t,n){return e=Math.min(e,n),e=Math.max(e,t)}function a(){r.BaseUIComponent.apply(this,arguments)}var l=0,u=1;return a._name="Draggable_1",a._optionDefinition={constraint:["String",!1],constraintElm:["Element",!1],top:["Number",!1],right:["Number",!1],bottom:["Number",!1],left:["Number",!1],handle:["Element",!1],revert:["Boolean",!1],cursor:["String","move"],zIndex:["Number",9999],fps:["Number",0],droppableProxy:["Element",!1],mouseAnchor:["String",void 0],dragClass:["String","drag"],skipChildren:["Boolean",!0],onStart:["Function",!1],onEnd:["Function",!1],onDrag:["Function",!1],onChange:["Function",!1]},a.prototype={_init:function(){var e=this._options;this.constraintElm=e.constraintElm&&r.elOrSelector(e.constraintElm),this.handle=!1,this.elmStartPosition=!1,this.active=!1,this.dragged=!1,this.prevCoords=!1,this.placeholder=!1,this.position=!1,this.zindex=!1,this.firstDrag=!0,e.fps&&(this.deltaMs=1e3/e.fps,this.lastRunAt=0),this.handlers={},this.handlers.start=Ink.bindEvent(this._onStart,this),this.handlers.dragFacade=Ink.bindEvent(this._onDragFacade,this),this.handlers.drag=Ink.bindEvent(this._onDrag,this),this.handlers.end=Ink.bindEvent(this._onEnd,this),this.handlers.selectStart=function(e){return t.stop(e),!1},this.handle=this._options.handle?r.elOrSelector(this._options.handle):this._element,this.handle.style.cursor=e.cursor,t.observe(this.handle,"touchstart",this.handlers.start),t.observe(this.handle,"mousedown",this.handlers.start),i.IE&&t.observe(this._element,"selectstart",this.handlers.selectStart)},destroy:function(){t.stopObserving(this.handle,"touchstart",this.handlers.start),t.stopObserving(this.handle,"mousedown",this.handlers.start),i.IE&&t.stopObserving(this._element,"selectstart",this.handlers.selectStart)},_getCoords:function(t){var n=[e.scrollWidth(),e.scrollHeight()];return{x:(t.touches?t.touches[0].clientX:t.clientX)+n[l],y:(t.touches?t.touches[0].clientY:t.clientY)+n[u]}},_cloneStyle:function(t,i){i.className=t.className,i.style.borderWidth="0",i.style.padding="0",i.style.position="absolute",i.style.width=e.elementWidth(t)+"px",i.style.height=e.elementHeight(t)+"px",i.style.left=e.elementLeft(t)+"px",i.style.top=e.elementTop(t)+"px",i.style.cssFloat=n.getStyle(t,"float"),i.style.display=n.getStyle(t,"display")},_onStart:function(i){if(!this.active&&t.isLeftClick(i)||"undefined"==typeof i.button){var o=t.element(i);if(this._options.skipChildren&&o!==this.handle)return;t.stop(i),n.addClassName(this._element,this._options.dragClass),this.elmStartPosition=[e.elementLeft(this._element),e.elementTop(this._element)];var r=[parseInt(n.getStyle(this._element,"left"),10),parseInt(n.getStyle(this._element,"top"),10)],s=e.elementDimensions(this._element);this.originalPosition=[r[l]?r[l]:null,r[u]?r[u]:null],this.delta=this._getCoords(i),this.active=!0,this.position=n.getStyle(this._element,"position"),this.zindex=n.getStyle(this._element,"zIndex");var a=document.createElement("div");if(a.style.position=this.position,a.style.width=s[l]+"px",a.style.height=s[u]+"px",a.style.marginTop=n.getStyle(this._element,"margin-top"),a.style.marginBottom=n.getStyle(this._element,"margin-bottom"),a.style.marginLeft=n.getStyle(this._element,"margin-left"),a.style.marginRight=n.getStyle(this._element,"margin-right"),a.style.borderWidth="0",a.style.padding="0",a.style.cssFloat=n.getStyle(this._element,"float"),a.style.display=n.getStyle(this._element,"display"),a.style.visibility="hidden",this.delta2=[this.delta.x-this.elmStartPosition[l],this.delta.y-this.elmStartPosition[u]],this._options.mouseAnchor){var c=this._options.mouseAnchor.split(" "),h=[s[l],s[u]];"left"===c[0]?h[l]=0:"center"===c[0]&&(h[l]=parseInt(h[l]/2,10)),"top"===c[1]?h[u]=0:"center"===c[1]&&(h[u]=parseInt(h[u]/2,10)),this.applyDelta=[this.delta2[l]-h[l],this.delta2[u]-h[u]]}var d=this._options.fps?"dragFacade":"drag";if(this.placeholder=a,this._options.onStart&&this._options.onStart(this._element,i),this._options.droppableProxy){this.proxy=document.createElement("div"),s=[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight];var p=this.proxy.style;p.width=s[l]+"px",p.height=s[u]+"px",p.position="fixed",p.left="0",p.top="0",p.zIndex=this._options.zIndex+1,p.backgroundColor="#FF0000",n.setOpacity(this.proxy,0);for(var f=document.body.firstChild;f&&1!==f.nodeType;)f=f.nextSibling;document.body.insertBefore(this.proxy,f),t.observe(this.proxy,"mousemove",this.handlers[d]),t.observe(this.proxy,"touchmove",this.handlers[d])}else t.observe(document,"mousemove",this.handlers[d]);return this._element.style.position="absolute",this._element.style.zIndex=this._options.zIndex,this._element.parentNode.insertBefore(this.placeholder,this._element),this._onDrag(i),t.observe(document,"mouseup",this.handlers.end),t.observe(document,"touchend",this.handlers.end),!1}},_onDragFacade:function(e){var t=+new Date;(!this.lastRunAt||t>this.lastRunAt+this.deltaMs)&&(this.lastRunAt=t,this._onDrag(e))},_onDrag:function(n){if(this.active){t.stop(n),this.dragged=!0;var i=this._getCoords(n),o=i.x,r=i.y,a=this._options,c=!1,h=!1;if(this.prevCoords&&o!==this.prevCoords.x||r!==this.prevCoords.y){a.onDrag&&a.onDrag(this._element,n),this.prevCoords=i,c=this.elmStartPosition[l]+o-this.delta.x,h=this.elmStartPosition[u]+r-this.delta.y;var d=e.elementDimensions(this._element);if(this.constraintElm){var p=e.offset(this.constraintElm),f=e.elementDimensions(this.constraintElm),m=p[u]+(a.top||0),g=p[u]+f[u]-(a.bottom||0),_=p[l]+(a.left||0),v=p[l]+f[l]-(a.right||0);h=s(h,m,g-d[u]),c=s(c,_,v-d[l])}else if(a.constraint){var y=a.right===!1?e.pageWidth()-d[l]:a.right,b=a.left===!1?0:a.left,k=a.top===!1?0:a.top,w=a.bottom===!1?e.pageHeight()-d[u]:a.bottom;"horizontal"!==a.constraint&&"both"!==a.constraint||(c=s(c,b,y)),"vertical"!==a.constraint&&"both"!==a.constraint||(h=s(h,k,w))}var C=Ink.getModule("Ink.UI.Droppable_1");if(this.firstDrag&&(C&&C.updateAll(),this.firstDrag=!1),c&&(this._element.style.left=c+"px"),h&&(this._element.style.top=h+"px"),C){var I=this._options.mouseAnchor?{x:o-this.applyDelta[l],y:r-this.applyDelta[u]}:i;C.action(I,"drag",n,this._element)}a.onChange&&a.onChange(this)}}},_onEnd:function(i){if(t.stopObserving(document,"mousemove",this.handlers.drag),t.stopObserving(document,"touchmove",this.handlers.drag),this._options.fps&&this._onDrag(i),n.removeClassName(this._element,this._options.dragClass),this.active&&this.dragged){this._options.droppableProxy&&document.body.removeChild(this.proxy),this.pt&&(e.remove(this.pt),this.pt=void 0),this.placeholder&&e.remove(this.placeholder),this._options.revert&&(this._element.style.position=this.position,null!==this.zindex?this._element.style.zIndex=this.zindex:this._element.style.zIndex="auto",this._element.style.left=this.originalPosition[l]?this.originalPosition[l]+"px":"",this._element.style.top=this.originalPosition[u]?this.originalPosition[u]+"px":""),this._options.onEnd&&this._options.onEnd(this._element,i);var o=Ink.getModule("Ink.UI.Droppable_1");o&&o.action(this._getCoords(i),"drop",i,this._element),this.position=!1,this.zindex=!1,this.firstDrag=!0}this.active=!1,this.dragged=!1}},r.createUIComponent(a),a}),Ink.createModule("Ink.UI.Drawer","1",["Ink.UI.Common_1","Ink.Dom.Loaded_1","Ink.Dom.Selector_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1"],function(e,t,n,i,o,r){"use strict";function s(e){if(document.addEventListener){d&&a();var t=!1;d=function(n){return"mousedown"===n.type||"mouseup"===n.type?void(t="mousedown"===n.type):void(t||e(n.target))},document.addEventListener("focus",d,!0),document.addEventListener("mousedown",d,!0),document.addEventListener("mouseup",d,!0)}}function a(){document.addEventListener&&d&&(document.removeEventListener("focus",d,!0),document.removeEventListener("mousedown",d,!0),document.removeEventListener("mouseup",d,!0),d=null)}function l(e){for(var t=Ink.ss("[tabindex]",e),n=null,i=null,o=0;o<t.length;o++){var r=+t[o].tabIndex;r||t.splice(o,1),(null===n||r<n)&&(n=r,i=t[o])}if(i)return i.focus(),!0;var s=Ink.s(h,e);return!!s&&(s.focus(),!0)}function u(e){return'Ink.UI.Drawer_1: Could not find the "'+e+'" element on this page. Please make sure it exists.'}function c(t,n){e.isDOMElement(t)||(n=t),e.BaseUIComponent.apply(this,[document.body,n])}var h=['[tabindex]:not([tabindex="-1"])',"input","select","textarea","button","object","a[href]","area"].join(","),d=null,p=function(e){var t={WebkitTransitionProperty:"webkitTransitionEnd",transitionProperty:"transitionend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return{styleProp:n,eventName:t[n]};return!1}(document.createElement("div"));return c.transitionSupport=p,c._name="Drawer_1",c._optionDefinition={parentSelector:["String",".ink-drawer"],leftDrawer:["String",".left-drawer"],leftTrigger:["String",".left-drawer-trigger"],rightDrawer:["String",".right-drawer"],rightTrigger:["String",".right-drawer-trigger"],contentDrawer:["String",".content-drawer"],mode:["String","push"],sides:["String","both"]},c.prototype={_init:function(){function e(e){e.drawer&&e.triggers.length?t=!0:n=u(e.drawer?e.drawerOption:e.triggerOption)}if(this._contentDrawers=Ink.ss(this._options.contentDrawer),this._leftDrawer=Ink.s(this._options.leftDrawer),this._leftTriggers=Ink.ss(this._options.leftTrigger),this._rightDrawer=Ink.s(this._options.rightDrawer),this._rightTriggers=Ink.ss(this._options.rightTrigger),r.addClassName(document.body,"ink-drawer"),0===this._contentDrawers.length)throw new Error('Ink.UI.Drawer_1: Could not find any "'+this._options.contentDrawer+'" elements on this page. Please make sure you have at least one.');switch(this._options.sides){case"both":this._triggers=this._options.leftTrigger+", "+this._options.rightTrigger+", "+this._options.contentDrawer;break;case"left":this._triggers=this._options.leftTrigger+", "+this._options.contentDrawer;break;case"right":this._triggers=this._options.rightTrigger+", "+this._options.contentDrawer}var t=!1,n=null;"left"!==this._options.sides&&"both"!==this._options.sides||e({name:"left",drawer:this._leftDrawer,drawerOption:this._options.leftDrawer,triggers:this._leftTriggers,triggerOption:this._options.leftTrigger}),"right"!==this._options.sides&&"both"!==this._options.sides||e({name:"right",drawer:this._rightDrawer,drawerOption:this._options.rightDrawer,triggers:this._rightTriggers,triggerOption:this._options.rightTrigger}),t||Ink.warn(n),this._isOpen=!1,this._direction=void 0,this._handlers={click:Ink.bindEvent(this._onClick,this),afterTransition:Ink.bindEvent(this._afterTransition,this)},this._addEvents()},_onClick:function(e){var t=i.findUpwardsBySelector(e.currentTarget,this._options.leftTrigger)?"left":i.findUpwardsBySelector(e.currentTarget,this._options.rightTrigger)?"right":null;if(t)return void this._onTriggerClicked(e,t);if(this._isOpen){var n=i.findUpwardsBySelector(e.currentTarget,this._options.contentDrawer),o=i.isLink(e.target);(n||o)&&this.close(),n&&e.preventDefault()}},_onTriggerClicked:function(e,t){this._isOpen?this.close():this.open(t),e.preventDefault()},_afterTransition:function(){this._isOpen||r.removeClassName(this._getRecentDrawer(),"show")},_addEvents:function(){o.on(document.body,"click",this._triggers+', a[href*="#"]',this._handlers.click)},_getRecentDrawer:function(){return"left"===this._direction?this._leftDrawer:"right"===this._direction?this._rightDrawer:null},open:function(e){this._isOpen=!0,this._direction=e;var t=this._getRecentDrawer();r.addClassName(t,"show"),setTimeout(Ink.bind(function(){r.addClassName(document.body,[this._options.mode,e])},this),0),p&&this._transitionWillOccur(t)&&o.one(t,p.eventName,function(){r.removeClassName(t,"show"),+t.offsetWidth,r.addClassName(t,"show")});var n=document.activeElement,u=l(t);s(Ink.bind(function(e){var o=i.isAncestorOf(t,e);o||(this.close(),a(),u&&n&&n.focus())},this))},_transitionWillOccur:function(e){return!(!p||!r.getStyle(e,p.styleProp))},close:function(){if(this._isOpen!==!1){var e=this._getRecentDrawer();if(e){a(),this._isOpen=!1;var t=null;p&&(t=this._transitionWillOccur(this._getRecentDrawer())),r.removeClassName(document.body,[this._options.mode,this._direction]),t?o.one(document.body,p.eventName,this._handlers.afterTransition):this._handlers.afterTransition()}}}},e.createUIComponent(c),c}),Ink.createModule("Ink.UI.Dropdown","1",["Ink.UI.Common_1","Ink.UI.Toggle_1","Ink.Dom.Event_1","Ink.Dom.Element_1"],function(e,t,n,i){"use strict";function o(){e.BaseUIComponent.apply(this,arguments)}return o._name="Dropdown_1",o._optionDefinition={target:["Element",null],hoverOpen:["Number",null],dismissOnInsideClick:["Boolean",!1],dismissOnOutsideClick:["Boolean",!0],dismissAfter:["Number",null],onInsideClick:["Function",null],onOutsideClick:["Function",null],onOpen:["Function",null],onDismiss:["Function",null]},o.prototype={_init:function(){if(null===this._options.target&&(this._options.target=Ink.s(".dropdown-menu",this._element),!this._options.target))throw new Error('Dropdown: You did not specify a "target" option, and cannot find an element with the .dropdown-menu class!');this._toggle=new t(this._element,{target:this._options.target,closeOnInsideClick:null,closeOnClick:!1,onChangeState:Ink.bind(function(e){return this._openOrDismiss(e,!0,!0)},this)}),n.observeMulti([this._options.target,this._element],"mouseout",Ink.bindMethod(this,"_onMouseOut")),n.observeMulti([this._options.target,this._element],"mouseover",Ink.bindMethod(this,"_onMouseOver")),n.observe(this._options.target,"click",Ink.bindMethod(this,"_onInsideClick")),n.observe(document,"click",Ink.bindMethod(this,"_onOutsideClick"))},_onMouseOver:function(){"number"==typeof this._options.hoverOpen&&this._toggle.getState()===!1&&(clearTimeout(this._openTimeout),this._openTimeout=setTimeout(Ink.bindMethod(this,"open",!0),1e3*this._options.hoverOpen)),"number"==typeof this._options.dismissAfter&&clearTimeout(this._dismissTimeout)},_onMouseOut:function(){"number"==typeof this._options.dismissAfter&&this._toggle.getState()===!0&&(clearTimeout(this._dismissTimeout),this._dismissTimeout=setTimeout(Ink.bindMethod(this,"dismiss",!0),1e3*this._options.dismissAfter)),"number"==typeof this._options.hoverOpen&&clearTimeout(this._openTimeout)},_onInsideClick:function(e){var t=this._handlerCall("onInsideClick",n.element(e));t!==!1&&this._options.dismissOnInsideClick&&this.dismiss(!0)},_onOutsideClick:function(e){var t=n.element(e),o=i.findUpwardsHaving(t,Ink.bind(function(e){return e===this._element},this)),r=i.findUpwardsHaving(t,Ink.bind(function(e){return e===this._options.target},this));if(!o&&!r){var s=this._handlerCall("onOutsideClick",t);if(s===!1)return;this._options.dismissOnOutsideClick&&this.dismiss(!0)}},dismiss:function(e){this._openOrDismiss(!1,e,arguments[1])},open:function(e){this._openOrDismiss(!0,e,arguments[1])},_openOrDismiss:function(e,t,n){if(!this._toggle||this._toggle.getState()!==e){if(t&&this._handlerCall(e?"onOpen":"onDismiss")===!1)return!1;n||this._toggle.setState(e),clearTimeout(this._dismissTimeout),clearTimeout(this._openTimeout)}},_handlerCall:function(e){if(this._options[e])return this._options[e].call(this,[].slice.call(arguments,1))}},e.createUIComponent(o),o}),Ink.createModule("Ink.UI.Droppable","1",["Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.UI.Common_1","Ink.Util.Array_1","Ink.Dom.Selector_1"],function(e,t,n,i,o,r){"use strict";var s=function(e){return function(t){return n.addClassName(e,t)}},a=function(e){return function(t){return n.removeClassName(e,t)}},l={debug:!1,_droppables:[],_draggables:[],add:function(t,n){function o(e){e.style.position="inherit"}t=i.elOrSelector(t,"Droppable.add target element");var r=Ink.extendObj({hoverClass:n.hoverclass||!1,accept:!1,onHover:!1,onDrop:!1,onDropOut:!1},n||{},e.data(t));"string"==typeof r.hoverClass&&(r.hoverClass=r.hoverClass.split(/\s+/));var s,a=this,l={move:function(e,t){o(e),t.appendChild(e)},copy:function(e,t){o(e),t.appendChild(e.cloneNode(!0))},revert:function(e){a._findDraggable(e).originalParent.appendChild(e),o(e)}};if("string"==typeof r.onHover&&(s=r.onHover,r.onHover=l[s],void 0===r.onHover))throw new Error("Unknown hover event handler: "+s);if("string"==typeof r.onDrop&&(s=r.onDrop,r.onDrop=l[s],void 0===r.onDrop))throw new Error("Unknown drop event handler: "+s);if("string"==typeof r.onDropOut&&(s=r.onDropOut,r.onDropOut=l[s],void 0===r.onDropOut))throw new Error("Unknown dropOut event handler: "+s);var u={element:t,data:{},options:r};this._droppables.push(u),this._update(u)},_findData:function(e){for(var t=this._droppables,n=0,i=t.length;n<i;n++)if(t[n].element===e)return t[n]},_findDraggable:function(e){for(var t=this._draggables,n=0,i=t.length;n<i;n++)if(t[n].element===e)return t[n]},updateAll:function(){o.each(this._droppables,l._update)},update:function(e){this._update(this._findData(e))},_update:function(t){var n=t.data,i=t.element;n.left=e.offsetLeft(i),n.top=e.offsetTop(i),n.right=n.left+e.elementWidth(i),n.bottom=n.top+e.elementHeight(i)},remove:function(e){e=i.elOrSelector(e);for(var t=this._droppables.length,n=0;n<t;n++)if(this._droppables[n].element===e){this._droppables.splice(n,1);break}return t!==this._droppables.length},action:function(e,t,n,i){o.each(this._droppables,Ink.bind(function(l){var u=l.data,c=l.options,h=l.element;c.accept&&!r.matches(c.accept,[i]).length||("drag"!==t||this._findDraggable(i)||this._draggables.push({element:i,originalParent:i.parentNode}),e.x>=u.left&&e.x<=u.right&&e.y>=u.top&&e.y<=u.bottom?"drag"===t?(c.hoverClass&&o.each(c.hoverClass,s(h)),c.onHover&&c.onHover(i,h)):"drop"===t&&(c.hoverClass&&o.each(c.hoverClass,a(h)),c.onDrop&&c.onDrop(i,h,n)):"drag"===t&&c.hoverClass?o.each(c.hoverClass,a(h)):"drop"===t&&c.onDropOut&&c.onDropOut(i,h,n))},this))}};return l}),Ink.createModule("Ink.UI.FormValidator","1",["Ink.Dom.Element_1","Ink.Dom.Css_1","Ink.Util.Validator_1","Ink.Dom.Selector_1"],function(e,t,n,i){"use strict";function o(e){if(!e.name)return[];if(!e.form)return i.select('[name="'+e.name+'"]');var t=e.form[e.name];return t?("undefined"==typeof t.length&&(t=[t]),t):function(){for(var t=[],n=Ink.ss("*",e.form),i=0;i<n.length;i++)n[i].name===e.name&&t.push(n[i]);return t}()}var r={version:"1",_flagMap:{"ink-fv-required":{msg:"Required field"},"ink-fv-email":{msg:"Invalid e-mail address"},"ink-fv-url":{msg:"Invalid URL"},"ink-fv-number":{msg:"Invalid number"},"ink-fv-phone_pt":{msg:"Invalid phone number"},"ink-fv-phone_cv":{msg:"Invalid phone number"},"ink-fv-phone_mz":{msg:"Invalid phone number"},"ink-fv-phone_ao":{msg:"Invalid phone number"},"ink-fv-date":{msg:"Invalid date"},"ink-fv-confirm":{msg:"Confirmation does not match"},"ink-fv-custom":{msg:""}},elements:{},confirmElms:{},hasConfirm:{},_errorClassName:"tip error",_errorValidationClassName:"validaton",_errorTypeWarningClassName:"warning",_errorTypeErrorClassName:"error",validate:function(e,t){if(this._free(),t=Ink.extendObj({onSuccess:!1,onError:!1,customFlag:!1,confirmGroup:[]},t||{}),"string"==typeof e&&(e=document.getElementById(e)),null===e)return!1;this.element=e,"undefined"!=typeof this.element.id&&null!==this.element.id&&""!==this.element.id||(this.element.id="ink-fv_randomid_"+Math.round(99999*Math.random())),this.custom=t.customFlag,this.confirmGroup=t.confirmGroup;var n=this._validateElements();return n.length>0?(t.onError?t.onError(n):this._showError(e,n),!1):(t.onError||this._clearError(e),this._clearCache(),t.onSuccess&&t.onSuccess(),!0)},reset:function(){this._clearError(),this._clearCache()},_free:function(){this.element=null,this.custom=!1,this.confirmGroup=!1},_clearCache:function(){this.element=null,this.elements=[],this.custom=!1,this.confirmGroup=!1},_getElements:function(){var e=this.elements[this.element.id]=[];this.confirmElms[this.element.id]=[];for(var n=i.select(":input",this.element),o=!1,r=0,s=n.length;r<s;r++){o=n[r];var a=(o.getAttribute("type")+"").toLowerCase();if("radio"===a||"checkbox"===a){if(0===e.length||o.getAttribute("type")!==e[e.length-1].getAttribute("type")&&o.getAttribute("name")!==e[e.length-1].getAttribute("name"))for(var l in this._flagMap)if(t.hasClassName(o,l)){e.push(o);break}}else{for(var u in this._flagMap)if(t.hasClassName(o,u)&&"ink-fv-confirm"!==u){e.push(o);break}t.hasClassName(o,"ink-fv-confirm")&&(this.confirmElms[this.element.id].push(o),this.hasConfirm[this.element.id]=!0)}}},_validateElements:function(){var e;this._getElements(),this.hasConfirm[this.element.id]===!0&&(e=this._makeConfirmGroups());for(var n,i=[],o=!1,r=!1,s=0,a=this.elements[this.element.id].length;s<a;s++)if(n=!1,o=this.elements[this.element.id][s],!o.disabled)for(var l in this._flagMap)if(t.hasClassName(o,l))if("ink-fv-custom"!==l&&"ink-fv-confirm"!==l)this._isValid(o,l)||(n?i[i.length-1].errors.push(l):(i.push({elm:o,errors:[l]}),n=!0));else if("ink-fv-confirm"!==l)r=this._isCustomValid(o),r.length>0&&i.push({elm:o,errors:[l],custom:r});else if("ink-fv-confirm"===l)continue;return i=this._validateConfirmGroups(e,i)},_validateConfirmGroups:function(e,t){var n=!1;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],2===n.length&&n[0].value!==n[1].value&&t.push({elm:n[1],errors:["ink-fv-confirm"]}));return t},_makeConfirmGroups:function(){var e;if(this.confirmGroup&&this.confirmGroup.length>0){e={};for(var n=!1,i=!1,o=0,r=this.confirmElms[this.element.id].length;o<r;o++){n=this.confirmElms[this.element.id][o];for(var s=0,a=this.confirmGroup.length;s<a;s++)i=this.confirmGroup[s],t.hasClassName(n,i)&&("undefined"==typeof e[i]?e[i]=[n]:e[i].push(n))}return e}return 2===this.confirmElms[this.element.id].length&&(e={"ink-fv-confirm":[this.confirmElms[this.element.id][0],this.confirmElms[this.element.id][1]]}),e},_isCustomValid:function(e){for(var n=[],i=!1,o=0,r=this.custom.length;o<r;o++)i=this.custom[o],t.hasClassName(e,i.flag)&&(i.callback(e,i.msg)||n.push({flag:i.flag,msg:i.msg}));return n},_isValid:function(e,i){var r=e.nodeName.toLowerCase(),s=(e.getAttribute("type")||"").toLowerCase(),a=this._trim(e.value);if("ink-fv-required"!==i&&"checkbox"!==s&&"radio"!==s&&""===a)return!t.hasClassName(e,"ink-fv-required");switch(i){case"ink-fv-required":if("select"===r)return e.selectedIndex>0;if("checkbox"!==s&&"radio"!==s)return""!==a;if("checkbox"===s||"radio"===s){for(var l=o(e),u=0,c=l.length;u<c;u++)if(l[u].checked===!0)return!0;return!1}return!1;case"ink-fv-email":return n.mail(e.value);case"ink-fv-url":return n.url(e.value);case"ink-fv-number":return!isNaN(Number(e.value))&&isFinite(Number(e.value));case"ink-fv-phone_pt":return n.isPTPhone(e.value);case"ink-fv-phone_cv":return n.isCVPhone(e.value);case"ink-fv-phone_ao":return n.isAOPhone(e.value);case"ink-fv-phone_mz":return n.isMZPhone(e.value);case"ink-fv-date":var h=Ink.getModule("Ink.Dom.Element",1),d=h.data(e),p="yyyy-mm-dd";if(t.hasClassName(e,"ink-datepicker")&&"format"in d?p=d.format:"validFormat"in d&&(p=d.validFormat),!(p in n._dateParsers)){var f=[];for(var m in n._dateParsers)n._dateParsers.hasOwnProperty(m)&&f.push(m);throw new Error("The attribute data-valid-format must be one of the following values: "+f.join(", "))}return n.isDate(p,e.value);case"ink-fv-custom":}return!1},_showError:function(e,t){this._clearError(e);for(var n=!1,i=0,o=t.length;i<o;i++)n=t[i].elm,n&&this._showAnErrorOnElement(n,t[i])},_showAnErrorOnElement:function(n,i){var o=e.findUpwardsByClass(n,"control-group"),r=e.findUpwardsByClass(n,"control"),s=[this._errorClassName,this._errorTypeClassName].join(" "),a=e.create("p",{className:s});"ink-fv-custom"!==i.errors[0]?a.innerHTML=this._flagMap[i.errors[0]].msg:a.innerHTML=i.custom[0].msg;var l=r||o;l?l.appendChild(a):e.insertAfter(a,n),r&&("ink-fv-required"===i.errors[0]?t.addClassName(o,"validation error"):t.addClassName(o,"validation warning"))},_clearError:function(n){for(var i,o,r=n.getElementsByTagName("p"),s=r.length-1;s>=0;s--)i=r[s],t.hasClassName(i,this._errorClassName)&&(o=e.findUpwardsBySelector(i,".control-group"),o&&t.removeClassName(o,["validation","error","warning"]),t.hasClassName(i,this._errorClassName,!0)&&e.remove(i));var a=n.getElementsByTagName("ul");for(s=a.length-1;s>=0;s--)i=a[s],t.hasClassName(i,"control-group")&&t.removeClassName(i,"validation error")},_trim:function(e){if("string"==typeof e)return e.replace(/^\s+|\s+$|\n+$/g,"")}};return r}),Ink.createModule("Ink.UI.FormValidator","2",["Ink.UI.Common_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Selector_1","Ink.Dom.Css_1","Ink.Util.Array_1","Ink.Util.I18n_1","Ink.Util.Validator_1"],function(e,t,n,i,o,r,s,a){"use strict";function l(e){switch(e.nodeName.toLowerCase()){case"select":var t=Ink.s("option:checked",e);return t?t.value:"";case"textarea":return e.value;case"input":if(!("type"in e))return e.value;if("radio"===e.type||"checkbox"===e.type){if(e.checked)return e.value}else if("file"!==e.type)return e.value;return;default:return e.innerHTML}}function u(){e.BaseUIComponent.apply(this,arguments)}function c(){e.BaseUIComponent.apply(this,arguments)}var h={required:function(e){return"undefined"!=typeof e&&!/^\s*$/.test(e)},min_length:function(e,t){return"string"==typeof e&&e.length>=parseInt(t,10)},max_length:function(e,t){return"string"==typeof e&&e.length<=parseInt(t,10)},exact_length:function(e,t){return"string"==typeof e&&e.length===parseInt(t,10)},email:function(e){return"string"==typeof e&&a.mail(e)},url:function(e,t){return t=t||!1,"string"==typeof e&&a.url(e,t)},ip:function(e,t){return"string"==typeof e&&a.isIP(e,t)},phone:function(e,t){
if("string"!=typeof e)return!1;var n=t?t.toUpperCase():"";return a["is"+n+"Phone"](e)},credit_card:function(e,t){return"string"==typeof e&&a.isCreditCard(e,t||"default")},date:function(e,t){return"string"==typeof e&&a.isDate(t,e)},alpha:function(e,t){return a.ascii(e,{singleLineWhitespace:t})},text:function(e,t,n){return a.unicode(e,{singleLineWhitespace:t,numbers:!0,unicodePunctuation:n})},latin:function(e,t,n){return"string"==typeof e&&a.latin1(e,{latin1Punctuation:t,singleLineWhitespace:n,numbers:!0})},alpha_numeric:function(e){return a.ascii(e,{numbers:!0})},alpha_dash:function(e){return a.ascii(e,{dash:!0,underscore:!0})},digit:function(e){return"string"==typeof e&&/^[0-9]{1}$/.test(e)},integer:function(e,t){return a.number(e,{negative:!t,decimalPlaces:0})},decimal:function(e,t,n,i){return a.number(e,{decimalSep:t||".",decimalPlaces:+n||null,maxDigits:+i})},numeric:function(e,t,n,i){return t=t||".",e.indexOf(t)!==-1?h.decimal(e,t,n,i):h.integer(e)},range:function(e,t,n,i){return e=+e,t=+t,n=+n,!(isNaN(e)||isNaN(t)||isNaN(n)||e<t||e>n||i&&(e-t)%i!==0)},color:function(e){return a.isColor(e)},matches:function(e,t){var n=this.getFormElements()[t];if(!n){for(var i=Ink.ss("input, select, textarea, .control-group",this._options.form._element),o=0;o<i.length;o++)if((i[o].name||i[o].id)===t)return l(i[o])===e;return!1}n=n[0];var r=n.getValue();return(!n._rules.required||""!==r)&&e===r},ean:function(e){return a.isEAN(e.replace(/[^\d]/g,""),"ean-13")}},d=new s({en_US:{"formvalidator.generic_error":"{field} is invalid","formvalidator.required":"Filling {field} is mandatory","formvalidator.min_length":"The {field} must have a minimum size of {param1} characters","formvalidator.max_length":"The {field} must have a maximum size of {param1} characters","formvalidator.exact_length":"The {field} must have an exact size of {param1} characters","formvalidator.email":"The {field} must have a valid e-mail address","formvalidator.url":"The {field} must have a valid URL","formvalidator.ip":"The {field} does not contain a valid {param1} IP address","formvalidator.phone":"The {field} does not contain a valid {param1} phone number","formvalidator.credit_card":"The {field} does not contain a valid {param1} credit card","formvalidator.date":"The {field} should contain a date in the {param1} format","formvalidator.alpha":"The {field} should only contain letters","formvalidator.text":"The {field} should only contain alphabetic characters","formvalidator.latin":"The {field} should only contain alphabetic characters","formvalidator.alpha_numeric":"The {field} should only contain letters or numbers","formvalidator.alpha_dash":"The {field} should only contain letters or dashes","formvalidator.digit":"The {field} should only contain a digit","formvalidator.integer":"The {field} should only contain an integer","formvalidator.decimal":"The {field} should contain a valid decimal number","formvalidator.numeric":"The {field} should contain a number","formvalidator.range":"The {field} should contain a number between {param1} and {param2}","formvalidator.color":"The {field} should contain a valid color","formvalidator.matches":"The {field} should match the field {param1}"},pt_PT:{"formvalidator.generic_error":"{field} invlido","formvalidator.required":"Preencher {field}  obrigatrio","formvalidator.min_length":"{field} deve ter no mnimo {param1} caracteres","formvalidator.max_length":"{field} tem um tamanho mximo de {param1} caracteres","formvalidator.exact_length":"{field} devia ter exactamente {param1} caracteres","formvalidator.email":"{field} deve ser um e-mail vlido","formvalidator.url":"O {field} deve ser um URL vlido","formvalidator.ip":"{field} no tem um endereo IP {param1} vlido","formvalidator.phone":"{field} deve ser preenchido com um nmero de telefone {param1} vlido.","formvalidator.credit_card":"{field} no tem um carto de crdito {param1} vlido","formvalidator.date":"{field} deve conter uma data no formato {param1}","formvalidator.alpha":"O campo {field} deve conter apenas caracteres alfabticos","formvalidator.text":"O campo {field} deve conter apenas caracteres alfabticos","formvalidator.latin":"O campo {field} deve conter apenas caracteres alfabticos","formvalidator.alpha_numeric":"{field} deve conter apenas letras e nmeros","formvalidator.alpha_dash":"{field} deve conter apenas letras e traos","formvalidator.digit":"{field} destina-se a ser preenchido com apenas um dgito","formvalidator.integer":"{field} deve conter um nmero inteiro","formvalidator.decimal":"{field} deve conter um nmero vlido","formvalidator.numeric":"{field} deve conter um nmero vlido","formvalidator.range":"{field} deve conter um nmero entre {param1} e {param2}","formvalidator.color":"{field} deve conter uma cor vlida","formvalidator.matches":"{field} deve corresponder ao campo {param1}"}},"en_US");return u._name="FormElement_1",u._optionDefinition={label:["String",null],rules:["String",null],error:["String",null],autoReparse:["Boolean",!1],form:["Object"]},u.prototype={_init:function(){this._errors={},this._rules={},this._value=null,this._forceInvalid=null,this._forceValid=null,this._errorParagraph=null,null===this._options.label&&(this._options.label=this._getLabel()),this._elementHadDataRules=this._element.hasAttribute("data-rules")},_getLabel:function(){var e=t.findUpwardsBySelector(this._element,".control-group label");return e?t.textContent(e):this._element.name||this._element.id||""},_parseRules:function(e){this._rules={},e=e.split("|");var t,n,i,o,r=e.length;if(r>0)for(t=0;t<r;t++)if(n=e[t])if((o=n.indexOf("["))!==-1){i=n.substr(o+1),i=i.split("]"),i=i[0],i=i.split(",");for(var s=0,a=i.length;s<a;s++)i[s]="true"===i[s]||"false"!==i[s]&&i[s];i.splice(0,0,this.getValue()),n=n.substr(0,o),this._rules[n]=i}else this._rules[n]=[this.getValue()]},_addError:function(e){"string"==typeof e&&(e={rule:e});var t=e.rule,n=e.message;if(!n&&!t)throw new Error("FormElement#_addError: Please pass an error message, or a rule that was broken");if(!n){for(var i=this._rules[t]||[],o={field:this._options.label,value:this.getValue()},r=1;r<i.length;r++)o["param"+r]=i[r];var s="formvalidator."+t;this._options.error?n=this._options.error:(n=this._options.form.getI18n().text(s,o),n===s&&(n="[Validation message not found for rule ]"+t))}this._errors[t]=n},getValue:function(){return l(this._element)},getLabel:function(){return this._options.label},getErrors:function(){return this._errors},getElement:function(){return this._element},getFormElements:function(){return this._options.form._formElements},setRules:function(e){this._options.rules=e},forceInvalid:function(e){this._forceInvalid=e?e:this._options.form.getI18n().text("formvalidator.generic_error",{field:this.getLabel()})},unforceInvalid:function(){this._forceInvalid=null},forceValid:function(){this._forceValid=!0},unforceValid:function(){this._forceValid=!1},getControlGroup:function(){return o.hasClassName(this._element,"control-group")?this._element:t.findUpwardsByClass(this._element,"control-group")},getControl:function(){return o.hasClassName(this._element,"control-group")?Ink.s(".control",this._element)||void 0:t.findUpwardsByClass(this._element,"control")},removeErrors:function(){var e=this.getControlGroup();e&&o.removeClassName(e,["validation","error"]),this._errorParagraph&&t.remove(this._errorParagraph)},displayErrors:function(){this.validate(),this.removeErrors();var e=this.getErrors(),n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(e[i]);if(n.length){var r=this.getControlGroup(),s=this.getControl();r&&o.addClassName(r,["validation","error"]);var a=document.createElement("p");o.addClassName(a,"tip"),s||r?(s||r).appendChild(a):t.insertAfter(a,this._element),a.innerHTML=n.join("<br/>"),this._errorParagraph=a}},validate:function(){if(this._forceValid)return this._errors={},!0;if(this._element.disabled)return!0;if(this._forceInvalid)return this._addError({message:this._forceInvalid}),!1;if(this._errors={},this._options.autoReparse){var e=this._element.getAttribute("data-rules");if(e)this._options.rules=e;else if(this._elementHadDataRules&&!this._element.hasAttribute("data-rules"))return!0}this._parseRules(this._options.rules);var t=""!==this.getValue()||"required"in this._rules||"matches"in this._rules;if(t)for(var n in this._rules)if(this._rules.hasOwnProperty(n)){if("function"!=typeof h[n])return Ink.warn('Rule "'+n+'" not found. Used in element:',this._element),this._addError({message:this._options.form.getI18n().text("formvalidator.generic_error",{field:this.getLabel()})}),!1;if(h[n].apply(this,this._rules[n])===!1)return this._addError({rule:n}),!1}return!0}},e.createUIComponent(u),c._name="FormValidator_1",c._optionDefinition={lang:["String",null],eventTrigger:["String","submit"],neverSubmit:["Boolean",!1],autoReparse:["Boolean",!1],searchFor:["String","input, select, textarea, .control-group"],beforeValidation:["Function",void 0],onError:["Function",void 0],onSuccess:["Function",void 0],extraValidation:["Function",void 0]},c.setRule=function(e,t,n){if(h[e]=n,d.getKey("formvalidator."+e)!==t){var i={};i["formvalidator."+e]=t;var o={};o[d.lang()]=i,d.append(o)}},c.getI18n=function(){return d},c.setI18n=function(e){d=e},c.appendI18n=function(){d.append.apply(d,[].slice.call(arguments))},c.setLanguage=function(e){d.lang(e)},c.getRules=function(){return h},c.prototype={_init:function(){this._rootElement=this._element,this._formElements={},this._errorMessages=[],this._markedErrorElements=[],"string"==typeof this._options.eventTrigger&&n.observe(this._rootElement,this._options.eventTrigger,Ink.bindEvent(this.validate,this)),this._options.lang&&this.setLanguage(this._options.lang)},getElements:function(){this._formElements||(this._formElements={});var e;for(var n in this._formElements)if(this._formElements.hasOwnProperty(n)){for(e=this._formElements[n].length;e--;)t.isAncestorOf(document.documentElement,this._formElements[n][e]._element)||(this._formElements[n][e].removeErrors(),this._formElements[n].splice(e,1));0===this._formElements[n].length&&delete this._formElements[n]}var o=i.select(this._options.searchFor,this._rootElement);for(e=0;e<o.length;e+=1){var r=o[e],s=t.data(r);if("rules"in s){var a,l={form:this};"name"in r&&r.name?a=r.name:"id"in r&&r.id?a=r.id:(a="element_"+Math.floor(100*Math.random()),r.id=a),a in this._formElements||(this._formElements[a]=[]);var u=this._getOrCreateFormElementInstance(a,r,l);u&&this._formElements[a].push(u)}}return this._formElements},_getOrCreateFormElementInstance:function(e,t,n){for(var i=0;i<this._formElements[e].length;i++)if(this._formElements[e][i].getElement()===t)return null;return t.getAttribute("data-auto-reparse")||(n.autoReparse=this._options.autoReparse),new u(t,n)},setI18n:function(e){e.clone&&(e=e.clone()),this.i18n=e},getI18n:function(){return this.i18n||d},setLanguage:function(e){this.i18n||this.setI18n(d),this.i18n.lang(e)},getLanguage:function(){return this.i18n?this.i18n.lang():d.lang()},validate:function(e){this._options.neverSubmit&&e&&n.stopDefault(e),this.getElements(),"function"==typeof this._options.beforeValidation&&this._options.beforeValidation.call(this,{event:e,validator:this,elements:this._formElements}),o.removeClassName(this._element,"form-error");var t=[];for(var i in this._formElements)if(this._formElements.hasOwnProperty(i))for(var r=0;r<this._formElements[i].length;r+=1)this._formElements[i][r].removeErrors(),this._formElements[i][r].validate()||t.push(this._formElements[i][r]);var s=0===t.length;if("function"==typeof this._options.extraValidation){var a={event:e,validator:this,elements:this._formElements,errorCount:t.length},l=this._options.extraValidation.call(this,a);l===!1&&(s=!1)}return s?"function"==typeof this._options.onSuccess&&this._options.onSuccess():(e&&n.stopDefault(e),"function"==typeof this._options.onError&&this._options.onError(t),this._invalid(t)),s},_invalid:function(e){e=e||[],this._errorMessages=[],o.addClassName(this._element,"form-error");for(var t=0;t<e.length;t++)e[t].displayErrors()}},e.createUIComponent(c),c.FormElement=u,c.validationFunctions=h,c}),Ink.createModule("Ink.UI.ImageQuery","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Util.Array_1"],function(e,t,n,i){"use strict";function o(){e.BaseUIComponent.apply(this,arguments)}return o._name="ImageQuery_1",o._optionDefinition={src:["String"],retina:["String",void 0],queries:["Object"],onLoad:["Function",null]},o.prototype={_init:function(){var e;if((e=this._element.src.lastIndexOf("?"))!==-1){var n=this._element.src.substr(e);this._filename=this._element.src.replace(n,"").split("/").pop()+n}else this._filename=this._element.src.split("/").pop();this._options.queries||(this._options.queries=[]),this._options.queries=i.sortMulti(this._options.queries,"width").reverse(),"function"==typeof this._options.onLoad&&t.observe(this._element,"load",Ink.bindEvent(this._onLoad,this)),this._onResize(),t.observe(window,"resize",t.throttle(Ink.bindMethod(this,"_onResize"),400))},_onResize:function(){if(this._options.queries.length){var e=this._findCurrentQuery();this._element.src=this.getQuerySrc(e)}},_findCurrentQuery:function(){for(var e=n.viewportWidth(),t=this._options.queries,i=t.length-1,o=0;o<i;o+=1)if(t[o].width<=e)return t[o];return t[i]},getQuerySrc:function(e){var t=e.src||this._options.src;if(window.devicePixelRatio>1&&void 0!==this._options.retina&&(t=e.retina||this._options.retina),e.file=this._filename,"function"==typeof t&&(t=t.apply(this,[this._element,e]),"string"!=typeof t))throw'[ImageQuery] :: "src" callback does not return a string';return t=t.replace(/{:(.*?)}/g,function(t,n){return e[n]}),delete e.file,t},_onLoad:function(){this._options.onLoad.call(this)}},e.createUIComponent(o),o}),Ink.createModule("Ink.UI.LazyLoad","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1"],function(e,t,n,i){"use strict";function o(){e.BaseUIComponent.apply(this,arguments)}var r="onscroll"in document&&"undefined"==typeof operamini;return o._name="LazyLoad_1",o._optionDefinition={item:["String",".lazyload-item"],placeholder:["String",null],loadedClass:["String",null],source:["String","data-src"],destination:["String","src"],delay:["Number",100],delta:["Number",0],image:["Boolean",!0],scrollElement:["Element",window],touchEvents:["Boolean",!0],onInsideViewport:["Function",!1],onAfterAttributeChange:["Function",!1],autoInit:["Boolean",!0]},o.prototype={_init:function(){this._aData=[],this._hasEvents=!1,this._options.autoInit&&this._activate()},_activate:function(){if(this._getData(),!r)for(var e=0;e<this._aData.length;e++)this._elInViewport(this._aData[e]);this._hasEvents||this._addEvents(),this._onScrollThrottled()},_getData:function(){for(var e=Ink.ss(this._options.item,this._element),t=null,i=0,o=e.length;i<o;i++)null==this._options.placeholder||n.hasAttribute(e[i],this._options.destination)||e[i].setAttribute(this._options.destination,this._options.placeholder),t=e[i].getAttribute(this._options.source),null===t&&this._options.image||this._aData.push({elm:e[i],original:t})},_addEvents:function(){r&&(this._onScrollThrottled=t.throttle(Ink.bindEvent(this._onScroll,this),this._options.delay),"ontouchmove"in document.documentElement&&this._options.touchEvents&&t.observe(document.documentElement,"touchmove",this._onScrollThrottled),t.observe(this._options.scrollElement,"scroll",this._onScrollThrottled),this._hasEvents=!0)},_removeEvents:function(){"ontouchmove"in document.documentElement&&this._options.touchEvents&&t.stopObserving(document.documentElement,"touchmove",this._onScrollThrottled),t.stopObserving(this._options.scrollElement,"scroll",this._onScrollThrottled),this._hasEvents=!1},_onScroll:function(){for(var e,t=0;t<this._aData.length;t++)e=this._aData[t],n.inViewport(e.elm,{partial:!0,margin:this._options.delta})&&(this._elInViewport(e),this._aData.splice(t,1),t-=1);0===this._aData.length&&this._removeEvents()},_elInViewport:function(e){this._userCallback("onInsideViewport",{element:e.elm}),this._options.image&&(e.elm.setAttribute(this._options.destination,e.original),this._options.loadedClass&&i.addClassName(e.elm,this._options.loadedClass),e.elm.removeAttribute(this._options.source)),this._userCallback("onAfterAttributeChange",{element:e.elm})},_userCallback:function(e){"function"==typeof this._options[e]&&this._options[e].apply(this,[].slice.call(arguments,1))},reload:function(){this._activate()},destroy:function(){this._hasEvents&&this._removeEvents(),e.destroyComponent.call(this)}},e.createUIComponent(o),o}),Ink.createModule("Ink.UI.Modal","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1"],function(e,t,n,i,o,r){"use strict";function s(){e.BaseUIComponent.apply(this,arguments)}var a=function(e){return e.style.opacity="invalid","invalid"!==e.style.opacity}(i.create("div",{style:"opacity: 1"})),l=function(e){var t=parseInt(window.innerHeight/2,10),n=parseInt((window.getComputedStyle?getComputedStyle(e,null):e.currentStyle).height,10),i=parseInt(window.innerWidth/2,10),o=parseInt((window.getComputedStyle?getComputedStyle(e,null):e.currentStyle).width,10);return n===t&&o===i}(i.create("div",{style:"height:50vh;width:50vw"})),u=function(e){return""!==e.style.display}(i.create("div",{style:"display: flex"})),c=function(e){e=e.replace(/^\s+|\s+$/g,"");var t=e.indexOf("%")!==-1,n=e.indexOf("px")!==-1;return t||n?!t&&n?e:!n&&t?e:e+"px":e+"%"},h=function(e,t){for(var n,i=e.split(/\s+/g),o=0;o<i.length;o++){var r=i[o].split("-"),s=r[0].replace(/^\s+|\s+$/g,"");if(s===t)return c(r[1]);"all"===s&&(n=c(r[1]))}return n},d=[];return s._name="Modal_1",s._optionDefinition={width:["String","90%"],height:["String","90%"],shadeClass:["String",void 0],modalClass:["String",void 0],trigger:["String",void 0],triggerEvent:["String","click"],autoDisplay:["Boolean",!0],markup:["String",void 0],onShow:["Function",void 0],onDismiss:["Function",void 0],closeOnClick:["Boolean",!1],closeOnEscape:["Boolean",!0],responsive:["Boolean",!0]},s.prototype={_init:function(){if(this._handlers={click:Ink.bindEvent(this._onShadeClick,this),keyDown:Ink.bindEvent(this._onKeyDown,this),resize:null},this._dimensionIsVariant={width:(""+this._options.width).indexOf(" ")!==-1,height:(""+this._options.height).indexOf(" ")!==-1},this._isOpen=!1,this._element?this._markupMode=n.hasClassName(this._element,"ink-modal"):this._markupMode=!1,this._markupMode){if(this._modalDiv=this._element,this._modalShadow=this._modalDiv.parentNode,this._contentContainer=o.select(".modal-body",this._modalDiv)[0],!this._contentContainer)throw new Error('Ink.UI.Modal: Missing div with class "modal-body"');this._options.markup=this._contentContainer.innerHTML}else this._modalShadow=i.create("div",{className:"ink-shade"}),this._modalDiv=i.create("div",{className:"ink-modal ink-space"}),this._element&&(this._options.markup=this._element.innerHTML),this._modalShadow.appendChild(this._modalDiv),document.body.appendChild(this._modalShadow);if(this._markupMode||this.setContentMarkup(this._options.markup),"string"==typeof this._options.shadeClass&&n.addClassName(this._modalShadow,this._options.shadeClass),"string"==typeof this._options.modalClass&&n.addClassName(this._modalDiv,this._options.modalClass),this._options.trigger){var r=e.elsOrSelector(this._options.trigger,"");t.observeMulti(r,this._options.triggerEvent,Ink.bindEvent(this.open,this))}else this._options.autoDisplay&&this.open()},_dimensionIsPercentage:function(){var e=this._getDimensions();return{width:(""+e.width).indexOf("%")!==-1,height:(""+e.height).indexOf("%")!==-1}},_getDimensions:function(t){t=t||{};var n,o={width:this._options.width,height:this._options.height};if((this._dimensionIsVariant.width||this._dimensionIsVariant.height)&&(n=e.currentLayout()),this._dimensionIsVariant.width&&(o.width=h(o.width,n)),this._dimensionIsVariant.height&&(o.height=h(o.height,n)),t.dynamic){var r=this._dimensionIsPercentage();if(!r.width){var s=.9*i.viewportWidth();parseFloat(o.width)>=s&&(o.width=s+"px")}if(!r.height){var a=.9*i.viewportHeight();parseFloat(o.height)>=a&&(o.height=a+"px")}}return o},_reposition:function(){var e,t=this._dimensionIsPercentage(),n=this._getDimensions();l&&t.height?this._modalDiv.style.marginTop=-parseFloat(n.height)/2+"vh":l?(e=parseFloat(n.height)>.9*i.viewportHeight(),e===this._heightWasLargerThan90Percent&&e&&!this._dimensionIsVariant.height||(this._heightWasLargerThan90Percent=e,e?(this._modalDiv.style.marginTop="0",this._modalDiv.style.top="5vh"):(this._modalDiv.style.marginTop=-parseFloat(n.height)/2+"px",this._modalDiv.style.top=""))):this._modalDiv.style.marginTop=-i.elementHeight(this._modalDiv)/2+"px",l&&t.width?this._modalDiv.style.marginLeft=-parseFloat(n.width)/2+"vw":l?(e=parseFloat(n.width)>.9*i.viewportWidth(),e===this._widthWasLargerThan90Percent&&e&&!this._dimensionIsVariant.width||(this._widthWasLargerThan90Percent=e,e?(this._modalDiv.style.marginLeft="0",this._modalDiv.style.left="5vw"):(this._modalDiv.style.marginLeft=-parseFloat(n.width)/2+"px",this._modalDiv.style.left=""))):this._modalDiv.style.marginLeft=-i.elementWidth(this._modalDiv)/2+"px"},_onResize:function(){var e=this._dimensionIsVariant.height||this._dimensionIsVariant.width,t=this._dimensionIsPercentage(),n=!t.height||!t.width;e&&this._resize(),l&&!e||this._avoidModalLargerThanScreen(),(!l||n||e)&&this._reposition(),u||this._resizeContainer()},_onShadeClick:function(e){if(this._isOpen){var r=t.element(e);if(r===this._modalShadow&&this._options.closeOnClick)this.dismiss();else if(n.hasClassName(r,"ink-close")||n.hasClassName(r,"ink-dismiss")||i.findUpwardsBySelector(r,".ink-close,.ink-dismiss")||this._options.closeOnClick&&(!i.descendantOf(this._shadeElement,r)||r===this._shadeElement)){for(var s=o.select(".ink-alert",this._shadeElement),a=s.length,l=0;l<a;l++)if(i.descendantOf(s[l],r))return;this.dismiss(),this._isOpen||t.stop(e)}}},_onKeyDown:function(e){27===e.keyCode&&this._isOpen&&this._options.closeOnEscape&&d[d.length-1]===this&&(this.dismiss(),this._isOpen||t.stopDefault(e))},_resize:function(){var e=this._getDimensions();this._modalDiv.style.width=e.width,this._modalDiv.style.height=e.height},_resizeContainer:function(){var e=i.elementHeight(this._modalDiv);this._modalHeader=o.select(".modal-header",this._modalDiv)[0],this._modalHeader&&(e-=i.elementHeight(this._modalHeader)),this._modalFooter=o.select(".modal-footer",this._modalDiv)[0],this._modalFooter&&(e-=i.elementHeight(this._modalFooter)),this._contentContainer.style.height=e+"px",this._markupMode},_resizeContainerFlex:function(){this._contentContainer.style.flex="1",this._modalDiv.style.display="flex",this._modalDiv.style.flexDirection="column"},_avoidModalLargerThanScreen:function(){var e=this._dimensionIsPercentage();if(l)e.width||(this._modalDiv.style.maxWidth="90vw"),e.height||(this._modalDiv.style.maxHeight="90vh");else{var t={height:i.viewportHeight(),width:i.viewportWidth()},n=this._getDimensions();r.forEach(["height","width"],Ink.bind(function(i){if(!e[i]){var o=Math.round(.9*t[i]);if(parseFloat(n[i])>o)this._modalDiv.style[i]=o+"px";else{if(isNaN(parseFloat(n[i])))return;this._modalDiv.style[i]=parseFloat(n[i])+"px"}}},this))}},open:function(e){if(this.isOpen())return!1;if(e&&t.stopDefault(e),n.addClassName(this._modalShadow,"ink-shade"),this._modalShadow.style.display=this._modalDiv.style.display="block",this._modalShadow.offsetHeight,n.addClassName(this._modalShadow,"visible"),n.addClassName(this._modalDiv,"visible"),this._contentElement=this._modalDiv,this._shadeElement=this._modalShadow,this._markupMode||this.setContentMarkup(this._options.markup),this._resize(),this._avoidModalLargerThanScreen(),this._reposition(),u?this._resizeContainerFlex():this._resizeContainer(),this._options.responsive){var o=this._dimensionIsPercentage(),r=!(l&&u&&o.height&&o.width&&!this._dimensionIsVariant.height&&!this._dimensionIsVariant.width);r&&(this._handlers.resize=t.throttle(Ink.bind(this._onResize,this),500),t.observe(window,"resize",this._handlers.resize))}if(this._options.onShow){if(e)var s=i.findUpwardsBySelector(t.element(e),this._options.trigger);this._options.onShow.call(this,this,{trigger:s})}t.observe(this._shadeElement,"click",this._handlers.click),this._options.closeOnEscape&&t.observe(document,"keydown",this._handlers.keyDown),this._isOpen=!0,d.push(this),n.addClassName(document.documentElement,"ink-modal-open")},isOpen:function(){return this._isOpen},dismiss:function(){if(this._isOpen){if(this._options.onDismiss){var e=this._options.onDismiss(this);if(e===!1)return}if(this._isOpen=!1,this._handlers.resize&&t.stopObserving(window,"resize",this._handlers.resize),this._markupMode?(n.removeClassName(this._modalDiv,"visible"),n.removeClassName(this._modalShadow,"visible"),this._waitForFade(this._modalShadow,Ink.bind(function(){this._modalShadow.style.display="none"},this))):(this._modalShadow.parentNode.removeChild(this._modalShadow),this.destroy()),d=r.remove(d,r.keyValue(this,d),1),0===d.length){var i=document.documentElement;n.removeClassName(i,"ink-modal-open")}}},_waitForFade:function(e,t){if(!a)return t();var i=5,o=function(){+n.getStyle(e,"opacity")>0&&i>0?(i--,setTimeout(o,250)):t()};setTimeout(o,500)},destroy:function(){e.unregisterInstance(this._instanceId)},getContentElement:function(){return this._contentContainer||null},getModalElement:function(){return this._modalDiv||null},getShadeElement:function(){return this._modalShadow||null},setContentMarkup:function(e){if(this._markupMode)this._contentContainer.innerHTML=e;else{if(this._modalDiv.innerHTML=[e].join(""),this._contentContainer=o.select(".modal-body",this._modalDiv),!this._contentContainer.length){var t=o.select(".modal-header",this._modalDiv),s=o.select(".modal-footer",this._modalDiv);r.each(t,i.remove),r.each(s,i.remove);var a=document.createElement("div");n.addClassName(a,"modal-body"),a.innerHTML=this._modalDiv.innerHTML,this._modalDiv.innerHTML="";var l=t.concat([a]).concat(s);r.each(l,Ink.bindMethod(this._modalDiv,"appendChild")),this._contentContainer=o.select(".modal-body",this._modalDiv)}this._contentContainer=this._contentContainer[0]}this._contentElement=this._modalDiv,this._resizeContainer()}},e.createUIComponent(s,{elementIsOptional:!0}),s._vhVwSupported=l,s._flexSupported=u,s}),Ink.createModule("Ink.UI.Pagination","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],function(e,t,n,i,o){"use strict";function r(){e.BaseUIComponent.apply(this,arguments)}var s=function(e,t,n){var i=document.createElement("a");if(i.setAttribute("href","#"),"number"==typeof t&&i.setAttribute("data-index",t),n&&n.wrapText){var o=document.createElement("span");i.appendChild(o),o.innerHTML=e}else i.innerHTML=e;return i};return r._name="Pagination_1",r._optionDefinition={size:["Integer",null],totalItemCount:["Integer",null],itemsPerPage:["Integer",null],maxSize:["Integer",null],start:["Integer",1],sideButtons:["Boolean",1],firstLabel:["String","First"],lastLabel:["String","Last"],previousLabel:["String","Previous"],nextLabel:["String","Next"],previousPageLabel:["String",null],nextPageLabel:["String",null],onChange:["Function",void 0],hashParameter:["String","page"],parentTag:["String","ul"],childTag:["String","li"],wrapperClass:["String","ink-navigation"],paginationClass:["String","pagination"],activeClass:["String","active"],disabledClass:["String","disabled"],hideClass:["String","hide-all"],previousClass:["String","previous"],previousPageClass:["String","previousPage"],nextClass:["String","next"],nextPageClass:["String","nextPage"],firstClass:["String","first"],lastClass:["String","last"],numberFormatter:["Function",function(e){return e+1}],autoWrap:["Boolean",!1]},r.prototype={_init:function(){this._options.previousPageLabel||(this._options.previousPageLabel=this._options.previousLabel+" "+this._options.maxSize),this._options.nextPageLabel||(this._options.nextPageLabel=this._options.nextLabel+" "+this._options.maxSize),this._handlers={click:Ink.bindEvent(this._onClick,this)},e.isInteger(this._options.totalItemCount)&&e.isInteger(this._options.itemsPerPage)?this._size=this._calculateSize(this._options.totalItemCount,this._options.itemsPerPage):e.isInteger(this._options.size)?this._size=this._options.size:(Ink.error("Ink.UI.Pagination: Please supply a size option or totalItemCount and itemsPerPage options."),this._size=0),this._current=this._options.start-1,this._itemLiEls=[],this._generateMarkup(this._element),this._updateItems(),this._observe()},_observe:function(){t.observeDelegated(this._element,"click","."+this._options.paginationClass+" > "+this._options.childTag,this._handlers.click)},_calculateSize:function(e,t){return Math.ceil(e/t)},_updateItems:function(){var e,t,i,o=this._itemLiEls,r=this._size===o.length;if(r)for(e=0,t=this._size;e<t;++e)n.setClassName(o[e],this._options.activeClass,e===this._current);else{for(e=o.length-1;e>=0;--e)this._ulEl.removeChild(o[e]);for(o=[],e=0,t=this._size;e<t;++e)i=document.createElement(this._options.childTag),i.appendChild(s(this._options.numberFormatter(e,this._size),e)),n.setClassName(i,this._options.activeClass,e===this._current),this._nextEl?this._ulEl.insertBefore(i,this._nextEl):this._ulEl.appendChild(i),o.push(i);this._itemLiEls=o}if(this._options.maxSize){var a=Math.floor(this._current/this._options.maxSize),l=this._options.maxSize*a,u=l+this._options.maxSize-1;for(e=0,t=this._size;e<t;++e)i=o[e],n.setClassName(i,this._options.hideClass,e<l||e>u);this._pageStart=l,this._pageEnd=u,this._page=a,n.setClassName(this._prevPageEl,this._options.disabledClass,!this.hasPreviousPage()),n.setClassName(this._nextPageEl,this._options.disabledClass,!this.hasNextPage()),n.setClassName(this._firstEl,this._options.disabledClass,this.isFirst()),n.setClassName(this._lastEl,this._options.disabledClass,this.isLast())}this._prevEl&&!this._options.autoWrap&&n.setClassName(this._prevEl,this._options.disabledClass,!this.hasPrevious()),this._nextEl&&!this._options.autoWrap&&n.setClassName(this._nextEl,this._options.disabledClass,!this.hasNext())},_generateMarkup:function(e){n.addClassName(e,"ink-navigation");var t=Ink.s("."+this._options.paginationClass,e),i=!1;t?i=!0:(t=document.createElement(this._options.parentTag),n.addClassName(t,this._options.paginationClass));var o=n.hasClassName(t,"chevron"),r=n.hasClassName(t,"dotted"),a=Ink.bind(function(e,i){var o=document.createElement(this._options.childTag),r=s(this._options[e+"Label"],void 0,{wrapText:i&&i.wrapText});return n.addClassName(o,this._options[e+"Class"]),o.appendChild(r),t.appendChild(o),o},this);!r&&this._options.maxSize&&(this._firstEl=a("first"),this._prevPageEl=a("previousPage"));var l=r&&o||r&&!o&&this._options.sideButtons===!0||!r&&!!this._options.sideButtons;l&&(this._prevEl=a("previous",{wrapText:o}),this._nextEl=a("next",{wrapText:o})),!r&&this._options.maxSize&&(this._nextPageEl=a("nextPage"),this._lastEl=a("last")),i||e.appendChild(t),this._ulEl=t},_onClick:function(e){t.stopDefault(e);var i=t.element(e);if(!n.hasClassName(i,this._options.activeClass)&&!n.hasClassName(i,this._options.disabledClass)){var r=n.hasClassName(i,this._options.previousClass),s=n.hasClassName(i,this._options.nextClass),a=n.hasClassName(i,this._options.previousPageClass),l=n.hasClassName(i,this._options.nextPageClass),u=n.hasClassName(i,this._options.firstClass),c=n.hasClassName(i,this._options.lastClass);if(u)this.setCurrent(0);else if(c)this.setCurrent(this._size-1);else if(a||l)this.setCurrent((a?-1:1)*this._options.maxSize,!0,!!this._options.autoWrap);else if(r||s)this.setCurrent(r?-1:1,!0,!!this._options.autoWrap);else{var h=o.select("[data-index]",i)[0],d=h&&parseInt(h.getAttribute("data-index"),10);this.setCurrent(d)}}},setOnChange:function(e){if(e&&"function"!=typeof e)throw new TypeError("onChange option must be a function!");this._options.onChange=e},setSize:function(t){if(!e.isInteger(t))throw new TypeError("1st argument must be an integer number!");this._size=t,this._updateItems(),
this._current=0},setSizeInItems:function(e,t){var n=Math.ceil(e/t);this.setSize(n)},setCurrent:function(t,n,i){if(!e.isInteger(t))throw new TypeError("1st argument must be an integer number!");n&&(t+=this._current),i?(t%=this._size,t<0&&(t+=this._size)):(t>this._size-1&&(t=this._size-1),t<0&&(t=0)),this._current=t,this._updateItems(),this._options.onChange&&this._options.onChange(this,t)},next:function(e){this.setCurrent(1,!0,e)},previous:function(e){this.setCurrent(-1,!0,e)},getSize:function(){return this._size},getCurrent:function(){return this._current},isFirst:function(){return 0===this._current},isLast:function(){return this._current===this._size-1},hasPrevious:function(){return this._current>0},hasNext:function(){return this._current<this._size-1},hasPreviousPage:function(){return this._options.maxSize&&this._current>this._options.maxSize-1},hasNextPage:function(){return this._options.maxSize&&this._size-this._current>=this._options.maxSize+1},destroy:e.destroyComponent},e.createUIComponent(r),r}),Ink.createModule("Ink.UI.ProgressBar","1",["Ink.UI.Common_1","Ink.Dom.Selector_1"],function(e,t){"use strict";function n(){e.BaseUIComponent.apply(this,arguments)}return n._name="ProgressBar_1",n._optionDefinition={startValue:["Number",0],onStart:["Function",function(){}],onEnd:["Function",function(){}]},n.prototype={_init:function(){if(this._value=this._options.startValue,this._elementBar=t.select(".bar",this._element),this._elementBar.length<1)throw new Error("[Ink.UI.ProgressBar] :: Bar element not found");this._elementBar=this._elementBar[0],this.setValue(this._options.startValue)},setValue:function(e){this._options.onStart.call(this,this._value),e=parseInt(e,10),isNaN(e)||e<0?e=0:e>100&&(e=100),this._value=e,this._elementBar.style.width=this._value+"%",this._options.onEnd.call(this,this._value)}},e.createUIComponent(n),n}),Ink.createModule("Ink.UI.SmoothScroller","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Dom.Css_1"],function(e,t,n,i,o){"use strict";var r=window.requestAnimationFrame||function(e){return setTimeout(e,10)},s=window.cancelAnimationFrame||function(e){clearTimeout(e)},a={speed:10,changeHash:!0,margin:0,scroll:function(e,t){var i=Math.round(n.scrollHeight()),o=Math.round(e-(t.margin||0));i+=o>i?Math.ceil((o-i)/t.speed):(o-i)/t.speed,s(a.interval),i!==o&&a.offsetTop!==i?a.interval=r(Ink.bindMethod(a,"scroll",e,t),document.body):a.onDone(t),window.scrollTo(0,i),a.offsetTop=i},init:function(e){t.on(document,"click",e||"a.scrollableLink, a.ink-smooth-scroll",a.onClick)},render:function(){},onClick:function(t){var i=t.currentTarget,r=(location+"").replace(/#.*?$/,""),s=(i.href+"").replace(/#.*?$/,"");if(s===r){var l=i.getAttribute("data-hash")||(i.getAttribute("href")||"").replace(/^.*?#/,"");if(l){t.preventDefault();var u='a[name="'+l+'"],#'+l,c=Ink.s(u),h=n.findUpwardsBySelector(i,"ul");if(h){var d=Ink.s("li.active",h);o.removeClassName(d,"active")}if(c){i.parentNode&&"li"===i.parentNode.tagName.toLowerCase()&&o.addClassName(i.parentNode,"active");var p=e.options("SmoothScroller link options",{margin:["Number",a.margin],speed:["Number",a.speed],changeHash:["Boolean",a.changeHash]},{},i);a.hash=l,a.scroll(n.offsetTop(c),p)}}}},onDone:function(e){e.changeHash===!0&&(window.location.hash=a.hash),a.hash=a.offsetTop=null}};return a}),Ink.createModule("Ink.UI.SortableList","1",["Ink.UI.Common_1","Ink.Dom.Css_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],function(e,t,n,i,o){"use strict";function r(){e.BaseUIComponent.apply(this,arguments)}var s="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;return r._name="SortableList_1",r._optionDefinition={placeholderClass:["String","placeholder"],draggedClass:["String","hide-all"],draggingClass:["String","dragging"],dragSelector:["String","> li"],handleSelector:["String",":not(button, button *, a[href], a[href] *)"],moveSelector:["String",!1],swap:["Boolean",!1],cancelMouseOut:["Boolean",!1],onDrop:["Function",function(){}]},r.prototype={_init:function(){this._handlers={down:Ink.bind(this._onDown,this),move:Ink.bind(this._onMove,this),up:Ink.bind(this._onUp,this)},this._isMoving=!1,this._down=s?"touchstart mousedown":"mousedown",this._move=s?"touchmove mousemove":"mousemove",this._up=s?"touchend mouseup":"mouseup",this._observe()},_observe:function(){n.on(this._element,this._down,this._options.dragSelector,this._handlers.down),n.on(this._element,this._move,this._options.dragSelector,this._handlers.move),this._options.cancelMouseOut&&n.on(this._element,"mouseleave",Ink.bind(this.stopMoving,this)),n.on(document.documentElement,this._up,this._handlers.up)},_onDown:function(e){if(!this._isMoving&&!this._placeholder){var t=e.currentTarget;if(this._options.handleSelector&&Ink.s(this._options.handleSelector,this._currentTarget)){var n=i.findUpwardsBySelector(e.target,this._options.handleSelector);if(!n||!i.isAncestorOf(t,n)&&t!==n)return}return this._isMoving=t,this._placeholder=t.cloneNode(!0),this._movePlaceholder(t),this._addMovingClasses(),!1}},_onMove:function(e){var t=e.currentTarget;if("touchmove"===e.type){var n=e.touches[0];t=document.elementFromPoint(n.clientX,n.clientY),t=i.findUpwardsBySelector(t,this._options.dragSelector)}this.validateMove(t),e.preventDefault()},_onUp:function(e){if(this._isMoving&&this._placeholder&&e.currentTarget!==this._isMoving&&e.currentTarget!==this._placeholder)return i.insertBefore(this._isMoving,this._placeholder),this.stopMoving(),this._options.onDrop.call(this,{droppedElement:e.currentTarget}),!1},_addMovingClasses:function(){t.addClassName(this._placeholder,this._options.placeholderClass),t.addClassName(this._isMoving,this._options.draggedClass),t.addClassName(document.documentElement,this._options.draggingClass)},_removeMovingClasses:function(){this._isMoving&&t.removeClassName(this._isMoving,this._options.draggedClass),this._placeholder&&t.removeClassName(this._placeholder,this._options.placeholderClass),t.removeClassName(document.documentElement,this._options.draggingClass)},_movePlaceholder:function(e){var t,n,o,r,s=this._placeholder;s?this._options.swap?(i.insertAfter(s,e),i.insertBefore(e,this._isMoving),i.insertBefore(this._isMoving,s)):(t=i.offset(e),n=i.offset(this._placeholder),o=t[1]>n[1],r=t[0]>n[0],o&&r||!o&&!r?i.insertBefore(s,e):i.insertAfter(s,e),i.insertBefore(this._isMoving,s)):i.insertAfter(s,e)},destroy:e.destroyComponent,stopMoving:function(){this._removeMovingClasses(),i.remove(this._placeholder),this._placeholder=!1,this._isMoving=!1},validateMove:function(e){e&&this._isMoving&&this._placeholder&&e!==this._placeholder&&e!==this._isMoving&&(!this._options.moveSelector||o.matchesSelector(e,this._options.moveSelector)?this._movePlaceholder(e):this.stopMoving())}},e.createUIComponent(r),r}),Ink.createModule("Ink.UI.Spy","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],function(e,t,n,i,o){"use strict";function r(e){for(var t=0,n=d.length;t<n;t++)if(d[t][0]===e)return t;return null}function s(e,t,n){var i=r(t);null===i?d.push([t,[e],n]):d[i][1].push(e)}function a(){p||(p=!0,t.observe(document,"scroll",t.throttle(l,300)))}function l(){for(var e=0,t=d.length;e<t;e++)u(d[e][0],d[e][1],d[e][2])}function u(e,t,r){for(var s=c(t,r),a=o.select("li.active",e),l=0,u=a.length;l<u;l++)n.removeClassName(a[l],"active");if(null!==s){var h='a[href$="#'+(s.name||s.id)+'"]',d=o.select(h,e);for(l=0,u=d.length;l<u;l++)n.addClassName(i.findUpwardsByTag(d[l],"li"),"active")}}function c(e,t){for(var n,i,o=-(1/0),r=0,s=e.length;r<s;r++)i=e[r].getBoundingClientRect().top,t.margin&&(i-=t.margin),i<=0&&i>o&&(o=i,n=r);return void 0===n?null:e[n]}function h(){e.BaseUIComponent.apply(this,arguments)}var d=[],p=!1;return h._name="Spy_1",h._optionDefinition={target:["Element",void 0],margin:["Number",0]},h.prototype={_init:function(){s(this._element,this._options.target,this._options),a(),l()}},e.createUIComponent(h),h}),Ink.createModule("Ink.UI.Stacker",1,["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1"],function(e,t,n){"use strict";function i(){e.BaseUIComponent.apply(this,arguments)}return i._name="Stacker_1",i._optionDefinition={column:["String",".stacker-column"],item:["String",".stacker-item"],customBreakPoints:["Object",null],largeMax:["Number",Number.MAX_VALUE],largeMin:["Number",961],mediumMax:["Number",960],mediumMin:["Number",651],smallMax:["Number",650],smallMin:["Number",0],largeCols:["Integer",3],mediumCols:["Integer",2],smallCols:["Integer",1],isOrdered:["Boolean",!0],onRunCallback:["Function",null],onResizeCallback:["Function",null],onAPIReloadCallback:["Function",null]},i.prototype={_init:function(){this._aList=[],this._curLayout="large",this._runFirstTime=!1,this._getPageItemsToList(),!this._canApplyLayoutChange()&&this._runFirstTime||(this._runFirstTime=!0,this._applyLayoutChange(),"function"==typeof this._options.onRunCallback&&this._options.onRunCallback(this._curLayout)),this._addEvents()},addItem:function(e){this._aList.push(e)},reloadItems:function(){this._applyLayoutChange(),"function"==typeof this._options.onAPIReloadCallback&&this._options.onAPIReloadCallback(this._curLayout)},_addEvents:function(){t.observe(window,"resize",Ink.bindEvent(this._onResize,this))},_onResize:function(){this._canApplyLayoutChange()&&(this._removeDomItems(),this._applyLayoutChange(),"function"==typeof this._options.onResizeCallback&&this._options.onResizeCallback(this._curLayout))},_setCurLayout:function(){var e=n.viewportWidth();if(this._options.customBreakpoints&&"object"==typeof this._options.customBreakPoints){for(var t in this._options.customBreakPoints)if(this._options.customBreakPoints.hasOwnProperty(t)&&e>=Number(this._options.customBreakPoints[t].min)&&e<=Number(this._options.customBreakPoints[t].max)&&this._curLayout!==t)return void(this._curLayout=t)}else e<=Number(this._options.largeMax)&&e>=Number(this._options.largeMin)&&"large"!==this._curLayout?this._curLayout="large":e>=Number(this._options.mediumMin)&&e<=Number(this._options.mediumMax)&&"medium"!==this._curLayout?this._curLayout="medium":e>=Number(this._options.smallMin)&&e<=Number(this._options.smallMax)&&"small"!==this._curLayout&&(this._curLayout="small")},_getColumnsToShow:function(){return this._options.customBreakPoints&&"object"==typeof this._options.customBreakPoints?Number(this._options.customBreakPoints[this._curLayout].cols):Number(this._options[this._curLayout+"Cols"])},_canApplyLayoutChange:function(){var e=this._curLayout;return this._setCurLayout(),e!==this._curLayout},_getPageItemsToList:function(){this._aColumn=Ink.ss(this._options.column,this._element);var e=this._aColumn.length,t=0;if(e>0){for(var n=0;n<this._aColumn.length;n++)for(var i=Ink.ss(this._options.item,this._aColumn[n]),o=0;o<i.length;o++)this._options.isOrdered&&(t=n+o*e),this._aList[t]=i[o],this._options.isOrdered||t++,i[o].parentNode.removeChild(i[o]);if(this._aList.length>0&&this._options.isOrdered){for(var r=[],s=0;s<this._aList.length;s++)"undefined"!=typeof this._aList[s]&&r.push(this._aList[s]);this._aList=r}}},_removeDomItems:function(){var e=this._aColumn.length;if(e>0)for(var t=0;t<e;t++)for(var n=Ink.ss(this._options.item,this._aColumn[t]),i=n.length-1;i>=0;i--)n[i].parentNode.removeChild(n[i])},_applyLayoutChange:function(){var e=this._getColumnsToShow(),t=this._aList.length,n=0,i=0;if(e>0)for(;i<e;){if(this._aColumn[i].appendChild(this._aList[n]),n++,i++,n===t)return;i===e&&(i=0)}}},e.createUIComponent(i),i}),Ink.createModule("Ink.UI.Sticky","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1"],function(e,t,n,i){"use strict";function o(){e.BaseUIComponent.apply(this,arguments)}return o._name="Sticky_1",o._optionDefinition={offsetBottom:["Integer",0],offsetTop:["Integer",0],topElement:["Element",null],wrapperClass:["String","ink-sticky-wrapper"],stickyClass:["String","ink-sticky-stuck"],inlineDimensions:["Boolean",!0],inlinePosition:["Boolean",!0],bottomElement:["Element",null],activateInLayouts:["String",null]},o.prototype={_init:function(){this._options.activateInLayouts&&(this._options.activateInLayouts=this._options.activateInLayouts.toString()),this._dims=null,this._options.offsetTop=parseInt(this._options.offsetTop,10)||0,this._options.offsetBottom=parseInt(this._options.offsetBottom,10)||0,this._options.topElement&&(this._options.topElement=e.elOrSelector(this._options.topElement,"Top Element")),this._options.bottomElement&&(this._options.bottomElement=e.elOrSelector(this._options.bottomElement,"Sticky bottom Element")),this._wrapper=n.create("div",{className:this._options.wrapperClass}),n.wrap(this._element,this._wrapper);var i=document.addEventListener?document:window;this._onScroll=Ink.bind(t.throttle(this._onScroll,33),this),t.observe(i,"scroll",this._onScroll),t.observe(window,"resize",Ink.bindEvent(t.throttle(this._onResize,100),this)),this._onScroll()},_isDisabledInLayout:function(){if(!this._options.activateInLayouts)return!1;var t=e.currentLayout();return!!t&&this._options.activateInLayouts.indexOf(t)===-1},_onScroll:function(){var e=this._getDims(),t=n.scrollHeight(),i=this._isDisabledInLayout()||t<=e.top-this._options.offsetTop||this._options.topElement&&this._options.topElement.getBoundingClientRect().bottom+this._options.offsetTop>0;if(i)return void this._unstick();var o=this._options.offsetTop+e.height+n.scrollHeight(),r=document.body.scrollHeight;this._options.bottomElement&&(r=this._options.bottomElement.getBoundingClientRect().top+n.scrollHeight()),r-=this._options.offsetBottom,o<r?this._stickTo("screen"):this._stickTo("bottom")},_stickTo:function(e){var t=this._element.style,o=this._getDims();if(i.addClassName(this._element,this._options.stickyClass),this._wrapper.style.height=o.height+"px",this._inlineDimensions(o.height+"px",o.width+"px"),this._options.inlinePosition!==!1)if(t.left=o.left+"px","screen"===e)t.bottom=null,t.top=this._options.offsetTop+"px";else if("bottom"===e){var r=this._getBottomOffset(),s=n.scrollHeight()+n.viewportHeight(),a=n.pageHeight()-s;t.bottom=r-a+"px",t.top="auto"}},_unstick:function(){i.removeClassName(this._element,this._options.stickyClass),this._inlineDimensions(null,null),this._options.inlinePosition&&(this._element.style.left=null,this._element.style.top=null,this._element.style.bottom=null),this._wrapper.style.height=null,this._wrapper.style.width=null,this._dims=null},_onResize:function(){this._dims=null,this._onScroll()},_getDims:function(){if(null!==this._dims)return this._dims;var e=this._element.style,t=e.position,i=e.width;e.position="static",e.width=null;var o=n.outerDimensions(this._element),r=this._wrapper.getBoundingClientRect();return this._dims={height:o[1],width:o[0],left:r.left+n.scrollWidth(),top:r.top+n.scrollHeight()},e.position=t,e.width=i,this._dims},_inlineDimensions:function(e,t){this._options.inlineDimensions&&(this._element.style.height=e,this._element.style.width=t)},_getBottomOffset:function(){var e=this._options.offsetBottom;return this._options.bottomElement&&(e+=n.pageHeight()-n.offsetTop(this._options.bottomElement)),e}},e.createUIComponent(o),o}),Ink.createModule("Ink.UI.Swipe","1",["Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.UI.Common_1"],function(e,t,n){"use strict";function i(){"function"==typeof arguments[1]&&(arguments[1]={onEnd:arguments[1]}),n.BaseUIComponent.apply(this,arguments)}return i._name="Swipe_1",i._optionDefinition={onEnd:["Function",void 0],onStart:["Function",void 0],onMove:["Function",void 0],minDist:["Number",void 0],maxDist:["Number",void 0],minDuration:["Number",void 0],maxDuration:["Number",void 0],axis:["String",void 0],storeGesture:["Boolean",!1],stopEvents:["Boolean",!0]},i.prototype={_supported:"ontouchstart"in document.documentElement,_init:function(){this._handlers={down:Ink.bindEvent(this._onDown,this),move:Ink.bindEvent(this._onMove,this),up:Ink.bindEvent(this._onUp,this)};var t=document.body;e.observe(t,"touchstart",this._handlers.down),(this._options.storeGesture||this._options.onMove)&&e.observe(t,"touchmove",this._handlers.move),e.observe(t,"touchend",this._handlers.up),this._isOn=!1},_isMeOrParent:function(e,t){if(e){do{if(e===t)return!0;e=e.parentNode}while(e);return!1}},_pushGesture:function(e,t){this._options.storeGesture&&(this._gesture.push(e),this._time.push(t))},_onDown:function(t){1===t.changedTouches.length&&this._isMeOrParent(t.target,this._element)&&(this._options.stopEvents===!0&&e.stop(t),t=t.changedTouches[0],this._isOn=!0,this._target=t.target,this._t0=+new Date,this._p0=[t.pageX,t.pageY],this._options.storeGesture&&(this._gesture=[],this._time=[]),this._pushGesture(this._p0,0),this._options.onStart&&this._options.onStart({event:t,element:this._element,instance:this,position:this._p0,dt:0}))},_onMove:function(t){if(this._isOn&&1===t.changedTouches.length){this._options.stopEvents===!0&&e.stop(t),t=t.changedTouches[0];var n=+new Date,i=n-this._t0,o=[t.pageX,t.pageY];this._pushGesture(o,i),this._options.onMove&&this._options.onMove({event:t,element:this._element,instance:this,position:o,dt:i})}},_onUp:function(t){if(this._isOn&&1===t.changedTouches.length){this._options.stopEvents===!0&&e.stop(t),t=t.changedTouches[0],this._isOn=!1;var n=+new Date,i=[t.pageX,t.pageY],o=n-this._t0,r=[i[0]-this._p0[0],i[1]-this._p0[1]],s=Math.sqrt(r[0]*r[0]+r[1]*r[1]),a=Math.abs(r[0])>Math.abs(r[1])?"x":"y",l=this._options;l.minDist&&s<l.minDist||l.maxDist&&s>l.maxDist||l.minDuration&&o<l.minDuration||l.maxDuration&&o>l.maxDuration||l.axis&&a!==l.axis||this._options.onEnd&&this._options.onEnd({event:t,element:this._element,instance:this,gesture:this._gesture,time:this._time,axis:a,overallMovement:r,overallTime:o})}}},n.createUIComponent(i),i}),Ink.createModule("Ink.UI.Table","1",["Ink.Util.Url_1","Ink.UI.Pagination_1","Ink.Net.Ajax_1","Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1","Ink.Util.String_1","Ink.Util.Json_1"],function(e,t,n,i,o,r,s,a,l,u,c){"use strict";function h(e){return!isNaN(e)&&_.test(e)?parseInt(e,10):isNaN(e)?e:parseFloat(e)}function d(e,t){return e===t?0:e>t?1:-1}function p(e,t){var n=h(s.textContent(e)),i=h(s.textContent(t));return typeof n==typeof i?d(n,i):"number"==typeof n?1:-1}function f(e){if("undefined"!=typeof Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function m(){i.BaseUIComponent.apply(this,arguments)}function g(e){return e}var _=/\d/g;return m._name="Table_1",m._optionDefinition={pageSize:["Integer",null],caretUpClass:["String","fa fa-caret-up"],caretDownClass:["String","fa fa-caret-down"],endpoint:["String",null],createEndpointUrl:["Function",null],createEndpointURL:["Function",null],getDataFromEndPoint:["Function",null],getDataFromEndpoint:["Function",null],processJSONRows:["Function",function(e){return"number"==typeof e.length?e:e.rows||null}],processJSONRow:["Function",g],processJSONField:["Function",g],processJSONHeaders:["Function",function(e){return e.fields}],processJSONTotalRows:["Function",function(e){return e.totalRows||e.length}],getSortKey:["Function",null],pagination:["Element",null],allowResetSorting:["Boolean",!1],visibleFields:["String",null],tdClassNames:["Object",{}],paginationOptions:["Object",null]},m.prototype={_validate:function(){if("table"!==this._element.nodeName.toLowerCase())throw new Error("[Ink.UI.Table] :: The element is not a table")},_init:function(){this._options.createEndpointUrl&&(this._options.createEndpointURL=this._options.createEndpointUrl),this._options.getDataFromEndPoint&&(this._options.getDataFromEndpoint=this._options.getDataFromEndpoint),this._markupMode=!(this._options.endpoint||this._options.createEndpointURL),this._options.visibleFields&&(this._options.visibleFields=this._options.visibleFields.toString().split(/[, ]+/g)),this._thead=this._element.tHead||this._element.createTHead(),this._headers=a.select("th",this._thead),this._handlers={thClick:null},this._originalFields=[],this._sortableFields={},this._originalData=this._data=[],this._pagination=null,this._totalRows=0,this._handlers.thClick=o.on(this._element,"click",'thead th[data-sortable="true"]',Ink.bindMethod(this,"_onThClick")),this._markupMode?(this._resetSortOrder(),this._addHeadersClasses(),this._data=a.select("tbody tr",this._element),this._originalData=this._data.slice(0),this._totalRows=this._data.length,this._setPagination()):this._getData()},_addHeadersClasses:function(){for(var e,t,n=0,i=this._headers.length;n<i;n++)e=s.textContent(this._headers[n]),t=this._options.tdClassNames[e],t&&r.addClassName(this._headers[n],t)},_onThClick:function(e){var t=o.element(e),n=void 0!==this._options.pageSize;o.stopDefault(e);var i=l.keyValue(t,this._headers,!0),r=i!==!1&&void 0!==this._sortableFields[i];if(r)if(!this._markupMode&&n)this._invertSortOrder(i,!1);else{"desc"===this._sortableFields[i]&&this._options.allowResetSorting?(this._setSortOrderOfColumn(i,null),this._data=this._originalData.slice(0)):this._invertSortOrder(i,!0);var s=a.select("tbody",this._element)[0];l.each(this._data,function(e){s.appendChild(e)}),this._pagination&&(this._pagination.setCurrent(0),this._paginate(1))}},_invertSortOrder:function(e,t){for(var n="asc"===this._sortableFields[e],i=0,o=this._headers.length;i<o;i++)this._setSortOrderOfColumn(i,null);this._setSortOrderOfColumn(e,!n),t?(this._sort(e),n&&this._data.reverse()):this._getData()},_setSortOrderOfColumn:function(e,t){var n=this._headers[e],i=[""],o="none";t===!0?(i=['<i class="',this._options.caretUpClass,'"></i>'],o="asc"):t===!1&&(i=['<i class="',this._options.caretDownClass,'"></i>'],o="desc"),this._sortableFields[e]=o,n.innerHTML=s.textContent(n)+i.join("")},_paginate:function(e){if(this._pagination){var t=this._options.pageSize,n=(e-1)*t,i=n+t;l.each(this._data,function(e,t){t>=n&&t<i?r.removeClassName(e,"hide-all"):r.addClassName(e,"hide-all")})}},_registerFieldNames:function(e){this._originalFields=[],l.forEach(e,Ink.bind(function(e){this._fieldIsVisible(e)&&this._originalFields.push(e)},this))},_fieldIsVisible:function(e){return!this._options.visibleFields||this._options.visibleFields.indexOf(e)!==-1},_sort:function(e){function t(t){return i.call(o,{columnIndex:e,columnName:n,data:s.textContent(t),element:t})}var n=s.textContent(this._headers[e]),i=this._options.getSortKey;i&&(i="function"==typeof i[n]?i[n]:"function"==typeof i?i:null);var o=this;this._data.sort(function(n,o){var r=Ink.ss("td",n)[e],s=Ink.ss("td",o)[e];return i?d(t(r),t(s)):p(r,s,e)})},_createHeadersFromJson:function(e){if(this._registerFieldNames(f(e)),!this._thead.children.length)for(var t,n=this._thead.insertRow(0),i=0,o=e.length;i<o;i++)this._fieldIsVisible(e[i])&&(t=s.create("th"),t=this._createSingleHeaderFromJson(e[i],t),n.appendChild(t),this._headers.push(t))},_createSingleHeaderFromJson:function(e,t){return e.sortable&&t.setAttribute("data-sortable","true"),e.label&&s.setTextContent(t,e.label),t},_resetSortOrder:function(){for(var e=0,t=this._headers.length;e<t;e++){var n=s.data(this._headers[e]);n.sortable&&"true"===n.sortable.toString()&&(this._sortableFields[e]="none")}},_createRowsFromJSON:function(e){var t=a.select("tbody",this._element)[0];t?s.setHTML(t,""):(t=document.createElement("tbody"),this._element.appendChild(t)),this._data=[];var n;for(var i in e)e.hasOwnProperty(i)&&(n=this._options.processJSONRow(e[i]),this._createSingleRowFromJson(t,n,i));this._originalData=this._data.slice(0)},_createSingleRowFromJson:function(e,t,n){var i=document.createElement("tr");e.appendChild(i);for(var o in t)t.hasOwnProperty(o)&&this._createFieldFromJson(i,t[o],o,n);this._data.push(i)},_createFieldFromJson:function(e,t,n,i){if(this._fieldIsVisible(n)){var o,s=this._options.processJSONField[n]||this._options.processJSONField;o="function"==typeof s?s(t,n,i):t;var a=this._elOrFieldData(o),l=this._options.tdClassNames[n];l&&r.addClassName(a,l),e.appendChild(a)}},_elOrFieldData:function(e){if(i.isDOMElement(e))return e;var t="string"==typeof e,n="number"==typeof e,o=s.create("td");if(t&&/^\s*?</.test(e))s.setHTML(o,e);else{if(!t&&!n)throw new Error("Ink.UI.Table Unknown result from processJSONField: "+e);s.setTextContent(o,e)}return o},setEndpoint:function(e,t){this._markupMode||(this._options.endpoint=e,this._pagination&&this._pagination.setCurrent(t?parseInt(t,10):0))},_setPagination:function(){if(null!=this._options.pageSize){var e=this._options.pagination;if(e instanceof t)return void(this._pagination=e);e||(e=s.create("nav",{className:"ink-navigation",insertAfter:this._element}),s.create("ul",{className:"pagination",insertBottom:e}));var n=Ink.extendObj({totalItemCount:this._totalRows,itemsPerPage:this._options.pageSize,onChange:Ink.bind(function(e,t){this._paginate(t+1)},this)},this._options.paginationOptions||{});this._pagination=new t(e,n),this._paginate(1)}},_getData:function(){var e=this._getSortOrder()||null,t=null;this._options.pageSize&&(t={size:this._options.pageSize,page:this._pagination?this._pagination.getCurrent()+1:1}),this._getDataViaAjax(this._getUrl(e,t))},_getSortOrder:function(){var e;for(e in this._sortableFields)if(this._sortableFields.hasOwnProperty(e)&&"none"!==this._sortableFields[e])break;return e?{field:this._originalFields[e]||s.textContent(this._headers[e]),order:this._sortableFields[e]}:null},_getUrl:function(t,n){var i=this._options.createEndpointURL||function(t,n,i){return t=e.parseUrl(t),t.query=t.query||{},n&&(t.query.sortOrder=n.order,t.query.sortField=n.field),i&&(t.query.rows_per_page=i.size,t.query.page=i.page),e.format(t)},o=i(this._options.endpoint,t,n);if("string"!=typeof o)throw new TypeError("Ink.UI.Table_1: createEndpointUrl did not return a string!");return o},_getDataViaAjax:function(e){var t=Ink.bind(function(e){this._onAjaxSuccess(e)},this);this._options.getDataFromEndpoint?this._options.getDataFromEndpoint(e,t):new n(e,{method:"GET",contentType:"application/json",sanitizeJSON:!0,onSuccess:Ink.bind(function(e){200===e.status&&t(c.parse(e.responseText))},this)})},_onAjaxSuccess:function(e){var t=null!=this._options.pageSize,n=this._options.processJSONRows(e);if(this._headers=a.select("th",this._thead),0===this._headers.length){var i=this._options.processJSONHeaders(e);if(!i||!i.length||!i[0])throw new Error("Ink.UI.Table: processJSONHeaders option must return an array of objects!");this._createHeadersFromJson(i),this._resetSortOrder(),this._addHeadersClasses()}else this._resetSortOrder();this._createRowsFromJSON(n),this._totalRows=this._rowLength=n.length,t&&(this._totalRows=this._options.processJSONTotalRows(e),this._setPagination())}},i.createUIComponent(m),m}),Ink.createModule("Ink.UI.Tabs","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],function(e,t,n,i,o){"use strict";function r(){e.BaseUIComponent.apply(this,arguments)}return r._name="Tabs_1",r._optionDefinition={preventUrlChange:["Boolean",!1],active:["String",void 0],onBeforeChange:["Function",void 0],onChange:["Function",void 0],menuSelector:["String",".tabs-nav"],contentSelector:["String",".tabs-content"],triggerEventsOnLoad:["Boolean",!0]},r.prototype={_init:function(){return this._menu=o.select(this._options.menuSelector,this._element)[0],this._menu?(this._initializeDom(),t.on(this._menu,"click","a",Ink.bindMethod(this,"_onTabClickedGeneric")),void this._setFirstActive()):void Ink.warn('Ink.UI.Tabs: An element selected by "'+this._options.menuSelector+'" needs to exist inside the element!')},_initializeDom:function(){for(var e=o.select(this._options.contentSelector,this._element),t=0;t<e.length;t++)n.addClassName(e[t],"hide-all")},_setFirstActive:function(){var e=window.location.hash,t=this._findLinkByHref(e)||this._options.active&&this._findLinkByHref(this._options.active)||o.select(".active a",this._menu)[0]||o.select("a",this._menu)[0];t&&(this._firstTime=!0,this._changeTab(t,this._options.triggerEventsOnLoad),this._firstTime=!1)},_changeTab:function(e,t){t&&"undefined"!=typeof this._options.onBeforeChange&&this._options.onBeforeChange(this);var i=e.getAttribute("href"),r=i.substr(i.indexOf("#"));window.location.hash===r||this._options.preventUrlChange||this._firstTime||(window.location.hash=r);for(var s=o.select("> li.active",this._menu),a=0,l=s.length;a<l;a++)s[a]!==e&&n.removeClassName(s[a],"active");return this._activeMenuTab&&(n.removeClassName(this._activeMenuTab,"active"),n.removeClassName(this._activeSection,"active"),n.addClassName(this._activeSection,"hide-all")),this._activeMenuLink=e,this._activeMenuTab=this._activeMenuLink.parentNode,this._activeSection=o.select(r,this._element)[0],this._activeSection?(n.addClassName(this._activeMenuTab,"active"),n.addClassName(this._activeSection,"active"),n.removeClassName(this._activeSection,"hide-all"),void(t&&"undefined"!=typeof this._options.onChange&&this._options.onChange(this))):void(this._activeMenuLink=this._activeMenuTab=this._activeSection=null)},_onTabClickedGeneric:function(e){e.preventDefault();var t=!n.hasClassName(e.currentTarget,"ink-disabled")&&e.currentTarget!==this._activeMenuLink;t&&this._onTabClicked(e.currentTarget)},_onTabClicked:function(e){var t=e.getAttribute("href")||"";t=t.substr(t.indexOf("#")),t&&null!==Ink.i(this._dehashify(t))&&e!==this._activeMenuLink&&this.changeTab(e)},_hashify:function(e){return e?0===e.indexOf("#")?e:"#"+e:""},_dehashify:function(e){return e?(""+e).replace(/^#/,""):""},_findLinkByHref:function(e){if(!e)return null;if(1===e.nodeType){if(i.isAncestorOf(e,this._element))return null;for(var t=o.select("a",this._menu),n=e.getAttribute("id"),r=0,s=t.length;r<s;r++){if(t[r]===e||i.isAncestorOf(e,t[r]))return t[r];if(n&&n===this._dehashify(t[r].hash))return t[r]}return null}return e=this._hashify(e),o.select('a[href$="'+e+'"]',this._menu)[0]||null},changeTab:function(e){e=this._findLinkByHref(e),e&&!n.hasClassName(e,"ink-disabled")&&this._changeTab(e,!0)},disable:function(e){n.addClassName(this._findLinkByHref(e),"ink-disabled")},enable:function(e){n.removeClassName(this._findLinkByHref(e),"ink-disabled")},activeTab:function(){return this._activeSection.getAttribute("id")},activeMenuLink:function(){return this._activeMenuLink},activeSection:function(){return this._activeSection},destroy:e.destroyComponent},e.createUIComponent(r),r}),Ink.createModule("Ink.UI.TagField","1",["Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Browser_1","Ink.UI.Droppable_1","Ink.Util.Array_1","Ink.Dom.Selector_1","Ink.UI.Common_1"],function(e,t,n,i,o,r,s,a){"use strict";function l(){a.BaseUIComponent.apply(this,arguments)}var u=13,c=8,h=function(e){return!!e},d=1==="s,".split(/,/g).length,p=function(){var e,t=String.prototype.split,n=void 0===/()??/.exec("")[1];return e=function(e,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return t.call(e,i,o);var r,s,a,l,u=[],c=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),h=0,i=new RegExp(i.source,c+"g");for(e+="",n||(r=new RegExp("^"+i.source+"$(?!\\s)",c)),o=void 0===o?-1>>>0:o>>>0;(s=i.exec(e))&&(a=s.index+s[0].length,!(a>h&&(u.push(e.slice(h,s.index)),!n&&s.length>1&&s[0].replace(r,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(s[e]=void 0)}),s.length>1&&s.index<e.length&&Array.prototype.push.apply(u,s.slice(1)),l=s[0].length,h=a,u.length>=o)));)i.lastIndex===s.index&&i.lastIndex++;return h===e.length?!l&&i.test("")||u.push(""):u.push(e.slice(h)),u.length>o?u.slice(0,o):u}}();return l._name="TagField_1",l._optionDefinition={tags:["String",[]],allowRepeated:["Boolean",!1],maxTags:["Integer",-1],outSeparator:["String",","],separator:["String",/[,; ]+/g],autoSplit:["Boolean",!0]},l.prototype={_init:function(){var i=this._options;"string"==typeof i.separator&&(i.separator=new RegExp(i.separator,"g")),"string"==typeof i.tags&&(i.tags=this._readInput(i.tags)),n.addClassName(this._element,"hide-all"),this._viewElm=e.create("div",{className:"ink-tagfield",insertAfter:this._element}),this._input=e.create("input",{type:"text",className:"new-tag-input",
insertBottom:this._viewElm});var o=[].concat(i.tags,this._tagsFromMarkup(this._element));this._tags=[],r.each(o,Ink.bindMethod(this,"_addTag")),t.observe(this._input,"keyup",Ink.bindEvent(this._onKeyUp,this)),t.observe(this._input,"change",Ink.bindEvent(this._onKeyUp,this)),t.observe(this._input,"keydown",Ink.bindEvent(this._onKeyDown,this)),t.observe(this._input,"blur",Ink.bindEvent(this._onBlur,this)),t.observe(this._viewElm,"click",Ink.bindEvent(this._refocus,this))},destroy:function(){e.remove(this._viewElm),n.removeClassName(this._element,"hide-all")},_tagsFromMarkup:function(t){var n=t.tagName.toLowerCase();if("input"===n)return this._readInput(t.value);if("select"===n)return r.map(t.getElementsByTagName("option"),function(t){return e.textContent(t)});throw new Error("Cannot read tags from a "+n+" tag. Unknown tag")},_tagsToMarkup:function(t,n){var i=n.tagName.toLowerCase();if("input"===i)this._options.separator&&(n.value=t.join(this._options.outSeparator));else{if("select"!==i)throw new Error("TagField: Cannot read tags from a "+i+" tag. Unknown tag");n.innerHTML="",r.each(t,function(t){var i=e.create("option",{selected:"selected"});e.setTextContent(i,t),n.appendChild(i)})}},_addTag:function(n){if(!(this._options.maxTags!==-1&&this._tags.length>=this._options.maxTags)){if(!this._options.allowRepeated&&r.inArray(n,this._tags,n)||!n)return!1;var i=e.create("span",{className:"ink-tag",setTextContent:n+" "}),o=e.create("span",{className:"remove fa fa-times",insertBottom:i});t.observe(o,"click",Ink.bindEvent(this._removeTag,this,null));var s=document.createTextNode(" ");this._tags.push(n),this._viewElm.insertBefore(i,this._input),this._viewElm.insertBefore(s,this._input),this._tagsToMarkup(this._tags,this._element)}},_readInput:function(e){return this._options.separator?r.filter(e.split(this._options.separator),h):[e]},_onKeyUp:function(){if(this._options.autoSplit){var e;if(e=d?p(this._input.value,this._options.separator):this._input.value.split(this._options.separator),!(e.length<=1)){var t=e[e.length-1];e=e.splice(0,e.length-1),e=r.filter(e,h),r.each(e,Ink.bind(this._addTag,this)),this._input.value=t}}},_onKeyDown:function(e){return e.which===u?this._onEnterKeyDown(e):e.which===c?this._onBackspaceKeyDown():void(this._removeConfirm&&this._unsetRemovingVisual(this._tags.length-1))},_onBackspaceKeyDown:function(){this._input.value||(this._removeConfirm?(this._unsetRemovingVisual(this._tags.length-1),this._removeTag(this._tags.length-1),this._removeConfirm=null):this._setRemovingVisual(this._tags.length-1))},_onEnterKeyDown:function(e){var n=this._input.value;n&&(this._addTag(n),this._input.value=""),t.stopDefault(e)},_onBlur:function(){this._addTag(this._input.value),this._input.value=""},_setRemovingVisual:function(e){var i=this._viewElm.children[e];i&&(n.addClassName(i,"tag-deleting"),this._removeRemovingVisualTimeout=setTimeout(Ink.bindMethod(this,"_unsetRemovingVisual",e),4e3),t.observe(this._input,"blur",Ink.bindMethod(this,"_unsetRemovingVisual",e)),this._removeConfirm=!0)},_unsetRemovingVisual:function(e){var t=this._viewElm.children[e];t&&(n.removeClassName(t,"tag-deleting"),clearTimeout(this._removeRemovingVisualTimeout)),this._removeConfirm=null},_removeTag:function(n){var i;if("object"==typeof n){var o=t.element(n).parentNode;i=e.parentIndexOf(this._viewElm,o)}else"number"==typeof n&&(i=n);this._tags=r.remove(this._tags,i,1),e.remove(this._viewElm.children[i]),this._tagsToMarkup(this._tags,this._element)},_refocus:function(e){return this._input.focus(),t.stop(e),!1}},a.createUIComponent(l),l}),Ink.createModule("Ink.UI.Toggle","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1"],function(e,t,n,i,o,r){"use strict";function s(){e.BaseUIComponent.apply(this,arguments)}return s._name="Toggle_1",s._optionDefinition={target:["Elements"],triggerEvent:["String","click"],closeOnClick:["Boolean",null],canToggleAnAncestor:["Boolean",!1],isAccordion:["Boolean",!1],initialState:["Boolean",null],classNameOn:["String","show-all"],classNameOff:["String","hide-all"],closeOnInsideClick:["String","a[href]"],onChangeState:["Function",null]},s.prototype={_init:function(){var t,o;if(this._targets=e.elsOrSelector(this._options.target),null===this._options.closeOnClick&&(this._options.closeOnClick=!this._options.isAccordion&&!this._options.canToggleAnAncestor),null===this._options.initialState&&(this._options.initialState=n.hasClassName(this._targets[0],this._options.classNameOn)),"show-all"!==this._options.classNameOn||"hide-all"!==this._options.classNameOff)for(t=0,o=this._targets.length;t<o;t++)n.removeClassName(this._targets[t],"show-all"),n.removeClassName(this._targets[t],"hide-all");if(this._options.isAccordion&&(this._accordionContainer=i.findUpwardsByClass(this._element,"accordion"),this._accordionContainer||Ink.warn('Ink.UI.Toggle_1: This toggle has the isAccordion option set to `true`, but is not a descendant of an element with the class "accordion"! Because of this, it won\'t be able to find other toggles in the same accordion and cooperate with them.')),this._constructing=!0,this._bindEvents(),null!==this._options.initialState)this.setState(this._options.initialState,!0);else{var r="none"!==n.getStyle(this._targets[0],"display");this.setState(r,!0)}for(t=0,o=this._targets.length;t<o;t++)this._targets[t].style.display&&(this._targets[t].style.display="");this._element.setAttribute("data-is-toggle-trigger","true"),this._constructing=!1},_bindEvents:function(){if(this._options.triggerEvent&&t.on(this._element,this._options.triggerEvent,Ink.bind(this._onTriggerEvent,this)),this._options.closeOnClick&&t.observe(document,"click",Ink.bind(this._onOutsideClick,this)),this._options.closeOnInsideClick){var e=this._options.closeOnInsideClick;"true"===e.toString()&&(e="*"),t.observeMulti(this._targets,"click",Ink.bind(function(n){i.findUpwardsBySelector(t.element(n),e)&&this.setState(!1,!0)},this))}},_onTriggerEvent:function(e){var n=t.element(e),o=r.some(this._targets,function(e){return e===n||i.isAncestorOf(e,n)});if(this._options.canToggleAnAncestor||!o){var s=this.getState();this.setState(!s,!0),!s&&this._firstTime&&(this._firstTime=!1),t.stopDefault(e)}},_updateAccordion:function(){if(this._accordionContainer&&this.getState()!==!1)for(var e=o.select("[data-is-toggle-trigger]",this._accordionContainer),t=0;t<e.length;t++){var n=s.getInstance(e[t]);n&&n!==this&&n.getState()===!0&&n.setState(!1,!0)}},_onOutsideClick:function(e){var n,o=t.element(e);if(i.isAncestorOf(document.documentElement,o)){var s=r.some(this._targets,function(e){return i.isAncestorOf(e,o)||e===o});if(this._element!==o&&!i.isAncestorOf(this._element,o)&&!s){if((n=Ink.ss(".ink-shade")).length)for(var a=n.length,l=0;l<a;l++)if(i.isAncestorOf(n[l],o)&&i.isAncestorOf(n[l],this._element))return;this.setState(!1,!0)}}},setState:function(e,t){if(e!==this.getState()||this._constructing){var i,o;if(this._group&&e)for(i=0,o=this._group.length;i<o;i++)this._group[i].getState()===!0&&this._group[i].setState(!1,!0);if(t&&"function"==typeof this._options.onChangeState){var r=this._options.onChangeState.call(this,e,{element:this._element});if(r===!1)return!1}for(i=0,o=this._targets.length;i<o;i++)n.addRemoveClassName(this._targets[i],this._options.classNameOn,e),n.addRemoveClassName(this._targets[i],this._options.classNameOff,!e);n.addRemoveClassName(this._element,"active",e),this._accordionContainer&&this._updateAccordion()}},getState:function(){return n.hasClassName(this._element,"active")}},e.createUIComponent(s),s}),Ink.createModule("Ink.UI.Tooltip","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1","Ink.Dom.Css_1","Ink.Dom.Browser_1"],function(e,t,n,i,o,r){"use strict";function s(e,t){this._init(e,t||{})}function a(e,t){this._init(e,t)}var l,u,c;!function(){for(var e=document.createElement("DIV"),t=["transition","oTransition","msTransition","mozTransition","webkitTransition"],n=0;n<t.length;n++)if("undefined"!=typeof e.style[t[n]+"Duration"]){l=t[n]+"Duration",u=t[n]+"Property",c=t[n]+"TimingFunction";break}}();var h=document.getElementsByTagName("body"),d=h.length?h[0]:document.documentElement;return s.prototype={_init:function(e,t){var n;if(this.options=Ink.extendObj({where:"up",zIndex:1e4,left:10,top:10,spacing:8,forever:0,color:"",timeout:0,delay:0,template:null,templatefield:null,fade:.3,text:""},t||{}),"string"==typeof e)n=i.select(e);else{if("object"!=typeof e)throw"Element expected";n=[e]}this.tooltips=[];for(var o=0,r=n.length;o<r;o++)this.tooltips[o]=new a(this,n[o])},destroy:function(){o.each(this.tooltips,function(e){e._destroy()}),this.tooltips=null,this.options=null}},a.prototype={_oppositeDirections:{left:"right",right:"left",up:"down",down:"up"},_init:function(n,i){t.observe(i,"mouseover",Ink.bindEvent(this._onMouseOver,this)),t.observe(i,"focus",Ink.bindEvent(this._onMouseOver,this)),t.observe(i,"mouseout",Ink.bindEvent(this._onMouseOut,this)),t.observe(i,"blur",Ink.bindEvent(this._onMouseOut,this)),t.observe(i,"mousemove",Ink.bindEvent(this._onMouseMove,this)),this.root=n,this.element=i,this._delayTimeout=null,this.tooltip=null,e.registerInstance(this,this.element)},_makeTooltip:function(e){if(!this._getOpt("text")&&!this._getOpt("html")&&!n.hasAttribute(this.element,"title"))return!1;var i=this._createTooltipElement();this.tooltip&&this._removeTooltip(),this.tooltip=i,this._fadeInTooltipElement(i),this._placeTooltipElement(i,e),t.observe(i,"mouseover",Ink.bindEvent(this._onTooltipMouseOver,this));var o=this._getFloatOpt("timeout");o&&setTimeout(Ink.bind(function(){this.tooltip===i&&this._removeTooltip()},this),1e3*o)},_createTooltipElement:function(){var t,o,s=this._getOpt("template"),a=this._getOpt("templatefield");if(s){var l=document.createElement("DIV");if(l.innerHTML=e.elOrSelector(s,"options.template").outerHTML,t=l.firstChild,a){if(o=i.select(a,t),!o)throw"options.templatefield must be a valid selector within options.template";o=o[0]}else o=t}else t=document.createElement("DIV"),r.addClassName(t,"ink-tooltip"),r.addClassName(t,this._getOpt("color")),o=document.createElement("DIV"),r.addClassName(o,"content"),t.appendChild(o);return this._getOpt("html")?o.innerHTML=this._getOpt("html"):this._getOpt("text")?n.setTextContent(o,this._getOpt("text")):n.setTextContent(o,this.element.getAttribute("title")),t.style.display="block",t.style.position="absolute",t.style.zIndex=this._getIntOpt("zIndex"),t},_fadeInTooltipElement:function(e){var t=this._getFloatOpt("fade");l&&t&&(e.style.opacity="0",e.style[l]=t+"s",e.style[u]="opacity",e.style[c]="ease-in-out",setTimeout(function(){e.style.opacity="1"},0))},_placeTooltipElement:function(e,t){var i=this._getOpt("where");if(null!==t||"mousemove"!==i&&"mousefix"!==i||(i="up"),"mousemove"===i||"mousefix"===i){var o=t;this._setPos(o[0],o[1]),d.appendChild(e)}else if(i.match(/(up|down|left|right)/)){d.appendChild(e);var s=n.offset(this.element),a=s[0],l=s[1],u=n.elementWidth(this.element)/2-n.elementWidth(e)/2,c=n.elementHeight(this.element)/2-n.elementHeight(e)/2,h=this._getIntOpt("spacing"),p=n.elementDimensions(e),f=n.elementDimensions(this.element),m=n.scrollWidth()+n.viewportWidth(),g=n.scrollHeight()+n.viewportHeight();i=this._getWhereValueInsideViewport(i,{left:a-p[0],right:a+p[0],top:l+p[1],bottom:l+p[1]},{right:m,bottom:g}),"up"===i?(l-=p[1],l-=h,a+=u):"down"===i?(l+=f[1],l+=h,a+=u):"left"===i?(a-=p[0],a-=h,l+=c):"right"===i&&(a+=f[0],a+=h,l+=c);var _=null;i.match(/(up|down|left|right)/)&&(_=document.createElement("SPAN"),r.addClassName(_,"arrow"),r.addClassName(_,this._oppositeDirections[i]),e.appendChild(_));var v=a,y=l,b=y+p[1]-g,k=v+p[0]-m,w=0-v,C=0-y;b>0?(_&&(_.style.top=p[1]/2+b+"px"),y-=b):C>0?(_&&(_.style.top=p[1]/2-C+"px"),y+=C):k>0?(_&&(_.style.left=p[0]/2+k+"px"),v-=k):w>0&&(_&&(_.style.left=p[0]/2-w+"px"),v+=w),e.style.left=v+"px",e.style.top=y+"px"}},_getWhereValueInsideViewport:function(e,t,n){return"left"===e&&t.left<0?"right":"right"===e&&t.right>n.right?"left":"up"===e&&t.top<0?"down":"down"===e&&t.bottom>n.bottom?"up":e},_removeTooltip:function(){var e=this.tooltip;if(e){var t=Ink.bind(n.remove,{},e);"mousemove"!==this._getOpt("where")&&l?(e.style.opacity=0,setTimeout(t,1e3*this._getFloatOpt("fade"))):t(),this.tooltip=null}},_getOpt:function(e){var t=n.data(this.element)[n._camelCase("tip-"+e)];if(t)return t;var i=this.root.options[e];return"undefined"!=typeof i?i:void 0},_getIntOpt:function(e){return parseInt(this._getOpt(e),10)},_getFloatOpt:function(e){return parseFloat(this._getOpt(e),10)},_destroy:function(){this.tooltip&&n.remove(this.tooltip),this.root=null,this.element=null,this.tooltip=null},_onMouseOver:function(e){var t;t="mouseover"!==e.type?null:this._getMousePosition(e);var n=this._getFloatOpt("delay");n?this._delayTimeout=setTimeout(Ink.bind(function(){this.tooltip||this._makeTooltip(t),this._delayTimeout=null},this),1e3*n):this._makeTooltip(t)},_onMouseMove:function(e){if("mousemove"===this._getOpt("where")&&this.tooltip){var t=this._getMousePosition(e);this._setPos(t[0],t[1])}},_onMouseOut:function(){this._getIntOpt("forever")||this._removeTooltip(),this._delayTimeout&&(clearTimeout(this._delayTimeout),this._delayTimeout=null)},_onTooltipMouseOver:function(){this.tooltip&&this._removeTooltip()},_setPos:function(e,t){e+=this._getIntOpt("left"),t+=this._getIntOpt("top");var i=this._getPageXY();if(this.tooltip){var o=[n.elementWidth(this.tooltip),n.elementHeight(this.tooltip)],r=this._getScroll();o[0]+e-r[0]>=i[0]-20&&(e=e-o[0]-this._getIntOpt("left")-10),o[1]+t-r[1]>=i[1]-20&&(t=t-o[1]-this._getIntOpt("top")-10),this.tooltip.style.left=e+"px",this.tooltip.style.top=t+"px"}},_getPageXY:function(){var e=0,t=0;return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),[parseInt(e,10),parseInt(t,10)]},_getScroll:function(){var e=document.documentElement,t=document.body;return e&&(e.scrollLeft||e.scrollTop)?[e.scrollLeft,e.scrollTop]:t?[t.scrollLeft,t.scrollTop]:[0,0]},_getMousePosition:function(e){return[parseInt(t.pointerX(e),10),parseInt(t.pointerY(e),10)]}},s}),Ink.createModule("Ink.UI.TreeView","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1"],function(e,t,n,i,o,r){"use strict";function s(){e.BaseUIComponent.apply(this,arguments)}return s._name="TreeView_1",s._optionDefinition={node:["String","li"],children:["String","ul"],parentClass:["String","parent"],openNodeClass:["String","open"],openClass:["String","fa fa-minus-circle"],closedClass:["String","fa fa-plus-circle"],hideClass:["String","hide-all"],iconTag:["String","i"],stopDefault:["Boolean",!0]},s.prototype={_init:function(){this._handlers={click:Ink.bindEvent(this._onClick,this)},t.on(this._element,"click",this._options.node,this._handlers.click),r.each(Ink.ss(this._options.node,this._element),Ink.bind(function(e){if(this.isParent(e)){n.addClassName(e,this._options.parentClass);var t=this.isOpen(e);this._getIcon(e)||i.create(this._options.iconTag,{insertTop:e}),this._setNodeOpen(e,t)}},this))},_getIcon:function(e){return Ink.s("> "+this._options.iconTag,e)},isOpen:function(e){if(!this._getChild(e))throw new Error("not a node!");return"true"===e.getAttribute("data-open")||n.hasClassName(e,this._options.openNodeClass)},isParent:function(e){return n.hasClassName(e,this._options.parentClass)||null!=this._getChild(e)},_setNodeOpen:function(e,t){var i=this._getChild(e);if(i){n.setClassName(i,this._options.hideClass,!t);var o=this._getIcon(e);e.setAttribute("data-open",t);var r=t?this._options.openClass:this._options.closedClass,s=t?this._options.closedClass:this._options.openClass;n.removeClassName(o,s),n.addClassName(o,r),n.setClassName(e,this._options.openNodeClass,t)}else Ink.error("Ink.UI.TreeView: node",e,"is not a node!")},open:function(e){this._setNodeOpen(e,!0)},close:function(e){this._setNodeOpen(e,!1)},toggle:function(e){this.isOpen(e)?this.close(e):this.open(e)},_getChild:function(e){return o.select(this._options.children,e)[0]||null},_onClick:function(e){!this.isParent(e.currentTarget)||o.matchesSelector(e.target,this._options.node)||o.matchesSelector(e.target,this._options.children)||(this._options.stopDefault&&e.preventDefault(),this.toggle(e.currentTarget))}},e.createUIComponent(s),s}),Ink.createModule("Ink.UI.Upload","1",["Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Browser_1","Ink.UI.Common_1"],function(e,t,n,i){"use strict";var o=function(e){this.init(e)};o.prototype={init:function(e){this._options=Ink.extendObj({entry:void 0,maxDepth:10},e||{});try{this._read()}catch(e){Ink.error(e)}},_read:function(){if(!this._options.entry)return void Ink.error("You must specify the entry!");try{this._readDirectories()}catch(e){Ink.error(e)}},_readDirectories:function(){var e=[],t=!1,n=0,i=Ink.bind(function(o){var r=o.createReader();t=!0,r.readEntries(Ink.bind(function(o){if(o.length>0){for(var r=0,s=o.length;r<s;r++)e.push(o[r]),o[r].isDirectory&&(n=this.clearArray(o[r].fullPath.split("/")),n.shift(),n=n.length,n<=this._options.maxDepth&&i(o[r]));this._stopActivityTimeout&&clearTimeout(this._stopActivityTimeout),this._stopActivityTimeout=setTimeout(function(){t=!1},250)}o.length||(t=!1)},this),Ink.bind(function(e){this._options.readError(e,o)},this))},this);i(this._options.entry);var o,r=function(){return!t&&(clearInterval(o),this._options.readComplete&&"function"==typeof this._options.readComplete&&this._options.readComplete(e),!0)};o=setInterval(Ink.bind(r,this),250)},clearArray:function(e){for(var t=e.length-1;t>=0;t--)"undefined"!=typeof e[t]&&null!==e[t]&&""!==e[t]||e.splice(t,1);return e}};var r={lists:[],items:[],create:function(e){var t;return e=String(e),this.lists.push({name:e}),t=this.lists.length-1},getItems:function(e){if(!e)return this.items;for(var t=[],n=0,i=this.items.length;n<i;n++)this.items[n].parentId===e&&t.push(this.items[n]);return t},purge:function(e,t){if("number"!=typeof e||isNaN(Number(e)))return!1;try{for(var n=this.items.length;n>=0;n--)this.items[n]&&e===this.items[n].parentId&&this.remove(this.items[n].parentId,this.items[n].pid);return t||this.lists.splice(e,1),!0}catch(e){return Ink.error("Purge: invalid id"),!1}},add:function(e,t,n){if(!this.lists[e])return!1;"object"!=typeof t&&(t=String(t));var i=parseInt(Math.round(1e5*Math.random())+""+Math.round(1e5*Math.random()),10);return n=n||0,this.items.push({parentId:e,item:t,priority:n||0,pid:i}),i},view:function(e,t){var n=this._searchByPid(e,t);return n!==!1&&this.items[n]},remove:function(e,t){try{var n=this._searchByPid(e,t);return n!==!1&&(this.items.splice(n,1),!0)}catch(e){return Ink.error("Remove: invalid id"),!1}},_searchByPid:function(e,t){if(!e&&"boolean"==typeof e||!t)return!1;if(e=parseInt(e,10),t=parseInt(t,10),isNaN(e)||isNaN(t))return!1;for(var n=0,i=this.items.length;n<i;n++)if(this.items[n].parentId===e&&this.items[n].pid===t)return n;return!1}},s=function(e){this.Upload=e,this.init()};s.prototype={init:function(){this._fileButton=this.Upload._options.fileButton,this._dropzone=this.Upload._options.dropzone,this._setDropEvent(),this._setFileButton()},_setDropEvent:function(){var e=this._dropzone;if(e)for(var t=0,n=e.length;t<n;t++)e[t].ondrop=Ink.bindEvent(this.Upload._dropEventHandler,this.Upload),e[t].ondragleave=Ink.bindEvent(this._onDragLeave,this),e[t].ondragend=Ink.bindEvent(this._onDragEndEventHandler,this),e[t].ondragdrop=Ink.bindEvent(this._onDragEndEventHandler,this),e[t].ondragenter=Ink.bindEvent(this._onDragEnterHandler,this),e[t].ondragover=Ink.bindEvent(this._onDragOverHandler,this)},_onDragEnterHandler:function(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),e&&(e.returnValue=!1),this.Upload.publish("DragEnter",e),!1},_onDragOverHandler:function(e){return!!e&&(e.preventDefault(),e.stopPropagation(),e.returnValue=!1,!0)},_onDragLeave:function(e){return this.Upload.publish("DragLeave",e)},_onDragEndEventHandler:function(e){return this.Upload.publish("DragEnd",e)},_setFileButton:function(){var t=this._fileButton;t&&e.observeMulti(t,"change",Ink.bindEvent(this._fileChangeHandler,this))},_fileChangeHandler:function(n){var i=e.element(n),o=i.files,r=t.findUpwardsByTag(i,"form");return o&&window.FormData&&"withCredentials"in new XMLHttpRequest?(this.Upload._addFilesToQueue(o),void(i.value="")):(r.parentNode.submit(),!1)}};var a=function(e){this.Queue=r,this.init(e),this._events={}};return a.prototype={init:function(e){if("string"==typeof e&&(e=t.data(i.elOrSelector(e,"1st argument"))),this._options=Ink.extendObj({dropzone:void 0,fileButton:void 0,fileFormName:"Ink_Filelist",endpoint:"",maxFilesize:300<<20,INVALID_FILE_NAME:void 0,extraData:{},useChunks:!1,chunkSize:4194304,minSizeToUseChunks:20971520,endpointChunk:"",endpointChunkCommit:"",foldersEnabled:!1,directoryMaxDepth:10},e||{}),this._queueId=r.create("Ink_UPLOAD"),this._queueRunning=!1,this._folders={},this._options.dropzone&&(this._options.dropzone=i.elsOrSelector(this._options.dropzone,"Ink.UI.Upload - dropzone")),this._options.fileButton&&(this._options.fileButton=i.elsOrSelector(this._options.fileButton,"Ink.UI.Upload - fileButton")),!this._options.dropzone&&!this._options.fileButton)throw new TypeError("Ink.UI.Upload: Specify a fileButton or a Dropzone!");new s(this)},_supportChunks:function(e){return this._options.useChunks&&"Blob"in window&&(new Blob).slice&&e>this._options.minSizeToUseChunks},_dropEventHandler:function(t){e.stopDefault(t),this.publish("DropComplete",t.dataTransfer);var n=t.dataTransfer;if(!n||!n.files||!n.files.length)return!1;if(this._files=n.files,this._files=Array.prototype.slice.call(this._files||[],0),n.items&&n.items[0]&&n.items[0].webkitGetAsEntry){if(!this._options.foldersEnabled)return setTimeout(Ink.bind(this._addFilesToQueue,this,this._files),0);for(var i,o=[],r=t.dataTransfer.items.length-1;r>=0;r--)i=t.dataTransfer.items[r].webkitGetAsEntry(),i&&i.isDirectory&&(o.push(i),this._files[r].isDirectory=!0,this._files.splice(r,1));this._addFolderToQueue(o,Ink.bind(function(){setTimeout(Ink.bind(this._addFilesToQueue,this,this._files),0)},this))}else setTimeout(Ink.bind(this._addFilesToQueue,this,this._files),0);return!0},_addFolderToQueue:function(e,t){var n=[],i={};if(!e||!e.length)return t(),n;var r=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n].isFile&&t.push(e[n]);return t},s=function(e,t){var i;return t=t||0,this._files[t]?"fileentry"!==this._files[t].constructor.name.toLowerCase()?s.apply(this,[e,++t]):void this._files[t].file(Ink.bind(function(n){i=this._files[t].fullPath,this._files[t]=n,this._files[t].hasParent=!0,this._files[t].fullPath||(this._files[t].fullPath=i),s.apply(this,[e,++t])},this),Ink.bind(function(){this._files.splice(t,1),s.apply(this,[e,t])},this)):(e(),n)},a=Ink.bind(function(l){return e[l]?void new o({entry:e[l],maxDepth:this._options.directoryMaxDepth,readComplete:Ink.bind(function(t){if(n=n.concat(r(t)),e[l]&&!(e[l].fullPath in this._folders)){this._folders[e[l].fullPath]={items:t,files:n,length:t.length,created:!1,root:!0};for(var o=0,s=t.length;o<s;o++)t[o].isFile||(t[o].fullPath in i?delete i[t[o].fullPath]:this._folders[t[o].fullPath]={created:!1,root:!1});a(++l)}},this),readError:Ink.bind(function(e,t){i[t.fullPath]={},i[t.fullPath].error=e},this)}):(this._files=this._files.concat(n),s.call(this,t),!1)},this);return a(0),n},_addFilesToQueue:function(e){for(var t,i,o,s=0,a=e.length;s<a;s++)t=e[s],t.isDirectory||null!==t&&(t.type||t.size%4096!==0||n.CHROME&&this._options.foldersEnabled)?t.size>this._options.maxFilesize?this.publish("MaxSizeFailure",t,this._options.maxFilesize):(i=parseInt(Math.round(1e5*Math.random())+""+Math.round(1e5*Math.random()),10),o={id:s,data:t,fileID:i,directory:t.isDirectory},r.add(this._queueId,o),this.publish("FileAddedToQueue",o)):this.publish("InvalidFile",t,"size");this._processQueue(!0),this._files=[]},_processQueue:function(e){if(this._queueRunning)return!1;this.running=0;var t,n=1,i=0,o=r.items.length;this._queueRunning=!0,this.interval=setInterval(Ink.bind(function(){if(r.items.length===i&&0===this.running&&(r.purge(this._queueId,!0),this._queueRunning=!1,clearInterval(this.interval),this.publish("QueueEnd",this._queueId,o)),t=r.getItems(this._queueId),this.running<n&&t[i]){if(t[i].canceled)for(var a=i;t[a]&&t[a].canceled;)i++,a++;else s.call(this,t[i].pid,t[i].item.data,t[i].item.fileID,t[i].item.directory,e),this.running++,i++;return!0}return!1},this),100);var s=function(e,t,n,i,o){var r={file:t,fileID:n,cb:Ink.bind(function(){this.running--},this)};o&&(i?r.cb():this._upload(r))};return!0},_upload:function(e){var t=e.file,n=new XMLHttpRequest,i=e.fileID;this.publish("BeforeUpload",t,this._options.extraData,i,n,this._supportChunks(t.size));var o=function(o){e.cb&&("function"===e.cb,!0)&&e.cb(),this.publish("OnProgress",{length:t.size,lengthComputable:!0,loaded:t.size,total:t.size},t,i),this.publish("EndUpload",t,i,!o||{error:!0}),this.publish("InvalidFile",t,"name"),n.abort()};if(this._options.INVALID_FILE_NAME&&this._options.INVALID_FILE_NAME instanceof RegExp&&this._options.INVALID_FILE_NAME.test(e.file.name))return void o.call(this);if(!t.lastModifiedDate&&!Ink.Dom.Browser.OPERA)return void o.call(this,!0);n.upload.onprogress=Ink.bind(this.publish,this,"OnProgress",t,i);var r,s;this._supportChunks(t.size)?t.size<=t.chunk_offset?(r=this._options.endpointChunkCommit,s="POST"):(r=this._options.endpointChunk,t.chunk_upload_id&&(r+="?upload_id="+t.chunk_upload_id),t.chunk_offset&&(r+="&offset="+t.chunk_offset),s="PUT"):(r=this._options.endpoint,s="POST"),n.open(s,r,!0),n.withCredentials=!0,n.setRequestHeader("x-requested-with","XMLHttpRequest"),this._supportChunks(t.size)&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded");var a,l=new FormData;if("Blob"in window&&"function"==typeof Blob?(a=new Blob([t],{type:t.type}),this._supportChunks(t.size)?(t.chunk_offset=t.chunk_offset||0,a=a.slice(t.chunk_offset,t.chunk_offset+this._options.chunkSize)):l.append(this._options.fileFormName,a,t.name)):l.append(this._options.fileFormName,t),this._supportChunks(t.size))l.append("upload_id",t.chunk_upload_id),l.append("path",t.upload_path);else for(var u in this._options.extraData)this._options.extraData.hasOwnProperty(u)&&l.append(u,this._options.extraData[u]);t.hasParent?this.publish("cbCreateFolder",t.parentID,t.fullPath,this._options.extraData,this._folders,t.rootPath,Ink.bind(function(){this._supportChunks(t.size)?t.size<=t.chunk_offset?n.send("upload_id="+t.chunk_upload_id+"&path="+t.upload_path+"/"+t.name):n.send(a):n.send(l)},this)):this._supportChunks(t.size)?t.size<=t.chunk_offset?n.send("upload_id="+t.chunk_upload_id+"&path="+t.upload_path+"/"+t.name):n.send(a):n.send(l),n.onload=Ink.bindEvent(function(){if(this._supportChunks(t.size)&&t.size>t.chunk_offset){if(n.response){var o=JSON.parse(n.response),r=t.chunk_offset&&o.offset!==t.chunk_offset+this._options.chunkSize&&t.size!==o.offset;r?(e.cb&&e.cb(),this.publish("ErrorUpload",t,i)):(t.chunk_upload_id=o.upload_id,t.chunk_offset=o.offset,t.chunk_expires=o.expires,this._upload(e))}else e.cb&&e.cb(),this.publish("ErrorUpload",t,i);return n=null}return e.cb&&e.cb(),n.responseText&&n.status<400?this.publish("EndUpload",t,i,n.responseText):this.publish("ErrorUpload",t,i),n=null},this),n.onerror=Ink.bindEvent(function(){e.cb&&e.cb(),this.publish("ErrorUpload",t,i)},this),n.onabort=Ink.bindEvent(function(){e.cb&&e.cb(),this.publish("AbortUpload",t,i,{abortAll:Ink.bind(this.abortAll,this),abortOne:Ink.bind(this.abortOne,this)})},this)},abortAll:function(){return!!this._queueRunning&&(clearInterval(this.interval),this._queueRunning=!1,r.purge(this._queueId,!0),!0)},abortOne:function(e,t){for(var n,i=r.getItems(0),o=0,s=i.length;o<s;o++)if(i[o].item.fileID===e)return n={id:i[o].item.fileID,name:i[o].item.data.name,size:i[o].item.data.size,hasParent:i[o].item.data.hasParent},r.remove(0,i[o].pid),t&&t(n),!0;return!1},subscribe:function(e,t){return this._events[e]||(this._events[e]=[]),this._events[e].push(t),this._events[e]},publish:function(e){var t=this._events[e],n=Array.prototype.slice.call(arguments||[],0);if(t)for(var i=0,o=t.length;i<o;i++)try{t[i].apply(this,n.splice(1,n.length))}catch(t){Ink.error(e+": "+t)}}},a})},251:function(e,t,n){var i,o;/*!
	 * jQuery JavaScript Library v3.1.1
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2016-09-22T22:30Z
	 */
!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){"use strict";function s(e,t){t=t||re;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function a(e){var t=!!e&&"length"in e&&e.length,n=ve.type(e);return"function"!==n&&!ve.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function l(e,t,n){return ve.isFunction(t)?ve.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?ve.grep(e,function(e){return e===t!==n}):"string"!=typeof t?ve.grep(e,function(e){return ce.call(t,e)>-1!==n}):De.test(t)?ve.filter(t,e,n):(t=ve.filter(t,e),ve.grep(e,function(e){return ce.call(t,e)>-1!==n&&1===e.nodeType}))}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var t={};return ve.each(e.match(Pe)||[],function(e,n){t[n]=!0}),t}function h(e){return e}function d(e){throw e}function p(e,t,n){var i;try{e&&ve.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&ve.isFunction(i=e.then)?i.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function f(){re.removeEventListener("DOMContentLoaded",f),n.removeEventListener("load",f),ve.ready()}function m(){this.expando=ve.expando+m.uid++}function g(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:He.test(e)?JSON.parse(e):e)}function _(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(qe,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n=g(n)}catch(e){}Be.set(e,t,n)}else n=void 0;return n}function v(e,t,n,i){var o,r=1,s=20,a=i?function(){return i.cur()}:function(){return ve.css(e,t,"")},l=a(),u=n&&n[3]||(ve.cssNumber[t]?"":"px"),c=(ve.cssNumber[t]||"px"!==u&&+l)&&We.exec(ve.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do r=r||".5",c/=r,ve.style(e,t,c+u);while(r!==(r=a()/l)&&1!==r&&--s)}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=o)),o}function y(e){var t,n=e.ownerDocument,i=e.nodeName,o=Je[i];return o?o:(t=n.body.appendChild(n.createElement(i)),o=ve.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Je[i]=o,o)}function b(e,t){for(var n,i,o=[],r=0,s=e.length;r<s;r++)i=e[r],i.style&&(n=i.style.display,t?("none"===n&&(o[r]=je.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&Ve(i)&&(o[r]=y(i))):"none"!==n&&(o[r]="none",je.set(i,"display",n)));for(r=0;r<s;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}function k(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&ve.nodeName(e,t)?ve.merge([e],n):n}function w(e,t){for(var n=0,i=e.length;n<i;n++)je.set(e[n],"globalEval",!t||je.get(t[n],"globalEval"))}function C(e,t,n,i,o){for(var r,s,a,l,u,c,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if(r=e[p],r||0===r)if("object"===ve.type(r))ve.merge(d,r.nodeType?[r]:r);else if(Ze.test(r)){for(s=s||h.appendChild(t.createElement("div")),a=(Ge.exec(r)||["",""])[1].toLowerCase(),l=Qe[a]||Qe._default,s.innerHTML=l[1]+ve.htmlPrefilter(r)+l[2],c=l[0];c--;)s=s.lastChild;ve.merge(d,s.childNodes),s=h.firstChild,s.textContent=""}else d.push(t.createTextNode(r));for(h.textContent="",p=0;r=d[p++];)if(i&&ve.inArray(r,i)>-1)o&&o.push(r);else if(u=ve.contains(r.ownerDocument,r),s=k(h.appendChild(r),"script"),u&&w(s),n)for(c=0;r=s[c++];)Ke.test(r.type||"")&&n.push(r);return h}function I(){return!0}function x(){return!1}function E(){try{return re.activeElement}catch(e){}}function S(e,t,n,i,o,r){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(a in t)S(e,a,n,i,t[a],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),o===!1)o=x;else if(!o)return e;return 1===r&&(s=o,o=function(e){return ve().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=ve.guid++)),e.each(function(){ve.event.add(this,t,o,i,n)})}function D(e,t){return ve.nodeName(e,"table")&&ve.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function T(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function N(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function O(e,t){var n,i,o,r,s,a,l,u;if(1===t.nodeType){if(je.hasData(e)&&(r=je.access(e),s=je.set(t,r),u=r.events)){delete s.handle,s.events={};for(o in u)for(n=0,i=u[o].length;n<i;n++)ve.event.add(t,o,u[o][n])}Be.hasData(e)&&(a=Be.access(e),l=ve.extend({},a),Be.set(t,l))}}function A(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Xe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function M(e,t,n,i){t=le.apply([],t);var o,r,a,l,u,c,h=0,d=e.length,p=d-1,f=t[0],m=ve.isFunction(f);if(m||d>1&&"string"==typeof f&&!ge.checkClone&&st.test(f))return e.each(function(o){var r=e.eq(o);m&&(t[0]=f.call(this,o,r.html())),M(r,t,n,i)});if(d&&(o=C(t,e[0].ownerDocument,!1,e,i),r=o.firstChild,1===o.childNodes.length&&(o=r),r||i)){for(a=ve.map(k(o,"script"),T),l=a.length;h<d;h++)u=o,h!==p&&(u=ve.clone(u,!0,!0),l&&ve.merge(a,k(u,"script"))),n.call(e[h],u,h);if(l)for(c=a[a.length-1].ownerDocument,ve.map(a,N),h=0;h<l;h++)u=a[h],Ke.test(u.type||"")&&!je.access(u,"globalEval")&&ve.contains(c,u)&&(u.src?ve._evalUrl&&ve._evalUrl(u.src):s(u.textContent.replace(lt,""),c))}return e}function P(e,t,n){for(var i,o=t?ve.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ve.cleanData(k(i)),i.parentNode&&(n&&ve.contains(i.ownerDocument,i)&&w(k(i,"script")),i.parentNode.removeChild(i));return e}function L(e,t,n){var i,o,r,s,a=e.style;return n=n||ht(e),n&&(s=n.getPropertyValue(t)||n[t],""!==s||ve.contains(e.ownerDocument,e)||(s=ve.style(e,t)),!ge.pixelMarginRight()&&ct.test(s)&&ut.test(t)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function F(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function U(e){if(e in gt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=mt.length;n--;)if(e=mt[n]+t,e in gt)return e}function R(e,t,n){var i=We.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function j(e,t,n,i,o){var r,s=0;for(r=n===(i?"border":"content")?4:"width"===t?1:0;r<4;r+=2)"margin"===n&&(s+=ve.css(e,n+$e[r],!0,o)),i?("content"===n&&(s-=ve.css(e,"padding"+$e[r],!0,o)),"margin"!==n&&(s-=ve.css(e,"border"+$e[r]+"Width",!0,o))):(s+=ve.css(e,"padding"+$e[r],!0,o),"padding"!==n&&(s+=ve.css(e,"border"+$e[r]+"Width",!0,o)));return s}function B(e,t,n){var i,o=!0,r=ht(e),s="border-box"===ve.css(e,"boxSizing",!1,r);if(e.getClientRects().length&&(i=e.getBoundingClientRect()[t]),i<=0||null==i){if(i=L(e,t,r),(i<0||null==i)&&(i=e.style[t]),ct.test(i))return i;o=s&&(ge.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(s?"border":"content"),o,r)+"px"}function H(e,t,n,i,o){return new H.prototype.init(e,t,n,i,o)}function q(){vt&&(n.requestAnimationFrame(q),ve.fx.tick())}function z(){return n.setTimeout(function(){_t=void 0}),_t=ve.now()}function W(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)n=$e[i],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function $(e,t,n){for(var i,o=(J.tweeners[t]||[]).concat(J.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,t,e))return i}function V(e,t,n){var i,o,r,s,a,l,u,c,h="width"in t||"height"in t,d=this,p={},f=e.style,m=e.nodeType&&Ve(e),g=je.get(e,"fxshow");n.queue||(s=ve._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ve.queue(e,"fx").length||s.empty.fire()})}));for(i in t)if(o=t[i],yt.test(o)){if(delete t[i],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||ve.style(e,i)}if(l=!ve.isEmptyObject(t),l||!ve.isEmptyObject(p)){h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=g&&g.display,null==u&&(u=je.get(e,"display")),c=ve.css(e,"display"),"none"===c&&(u?c=u:(b([e],!0),u=e.style.display||u,c=ve.css(e,"display"),b([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===ve.css(e,"float")&&(l||(d.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1;for(i in p)l||(g?"hidden"in g&&(m=g.hidden):g=je.access(e,"fxshow",{display:u}),r&&(g.hidden=!m),m&&b([e],!0),d.done(function(){m||b([e]),je.remove(e,"fxshow");for(i in p)ve.style(e,i,p[i])})),l=$(m?g[i]:0,i,d),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}}function Y(e,t){var n,i,o,r,s;for(n in e)if(i=ve.camelCase(n),o=t[i],r=e[n],ve.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=ve.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function J(e,t,n){var i,o,r=0,s=J.prefilters.length,a=ve.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=_t||z(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,r=1-i,s=0,l=u.tweens.length;s<l;s++)u.tweens[s].run(r);return a.notifyWith(e,[u,r,n]),r<1&&l?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:ve.extend({},t),opts:ve.extend(!0,{specialEasing:{},easing:ve.easing._default},n),originalProperties:t,originalOptions:n,startTime:_t||z(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ve.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(Y(c,u.opts.specialEasing);r<s;r++)if(i=J.prefilters[r].call(u,e,c,u.opts))return ve.isFunction(i.stop)&&(ve._queueHooks(u.elem,u.opts.queue).stop=ve.proxy(i.stop,i)),i;return ve.map(c,$,u),ve.isFunction(u.opts.start)&&u.opts.start.call(e,u),ve.fx.timer(ve.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function X(e){var t=e.match(Pe)||[];return t.join(" ")}function G(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e,t,n,i){var o;if(ve.isArray(t))ve.each(t,function(t,o){n||Nt.test(e)?i(e,o):K(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)});else if(n||"object"!==ve.type(t))i(e,t);else for(o in t)K(e+"["+o+"]",t[o],n,i)}function Q(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(Pe)||[];if(ve.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Z(e,t,n,i){function o(a){var l;return r[a]=!0,ve.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var r={},s=e===qt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function ee(e,t){var n,i,o=ve.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&ve.extend(!0,e,i),e}function te(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}function ne(e,t,n,i){var o,r,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=u[l+" "+r]||u["* "+r],!s)for(o in u)if(a=o.split(" "),a[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[o]:u[o]!==!0&&(r=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function ie(e){return ve.isWindow(e)?e:9===e.nodeType&&e.defaultView}var oe=[],re=n.document,se=Object.getPrototypeOf,ae=oe.slice,le=oe.concat,ue=oe.push,ce=oe.indexOf,he={},de=he.toString,pe=he.hasOwnProperty,fe=pe.toString,me=fe.call(Object),ge={},_e="3.1.1",ve=function(e,t){return new ve.fn.init(e,t)},ye=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,be=/^-ms-/,ke=/-([a-z])/g,we=function(e,t){return t.toUpperCase()};ve.fn=ve.prototype={jquery:_e,constructor:ve,length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?ae.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ve.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ve.each(this,e)},map:function(e){return this.pushStack(ve.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ue,sort:oe.sort,splice:oe.splice},ve.extend=ve.fn.extend=function(){var e,t,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ve.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],i=e[t],s!==i&&(u&&i&&(ve.isPlainObject(i)||(o=ve.isArray(i)))?(o?(o=!1,r=n&&ve.isArray(n)?n:[]):r=n&&ve.isPlainObject(n)?n:{},s[t]=ve.extend(u,r,i)):void 0!==i&&(s[t]=i));return s},ve.extend({expando:"jQuery"+(_e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ve.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ve.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==de.call(e)||(t=se(e))&&(n=pe.call(t,"constructor")&&t.constructor,"function"!=typeof n||fe.call(n)!==me))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?he[de.call(e)]||"object":typeof e},globalEval:function(e){s(e)},camelCase:function(e){return e.replace(be,"ms-").replace(ke,we)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(a(e))for(n=e.length;i<n&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ye,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?ve.merge(n,"string"==typeof e?[e]:e):ue.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ce.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],r=0,s=e.length,a=!n;r<s;r++)i=!t(e[r],r),i!==a&&o.push(e[r]);return o},map:function(e,t,n){var i,o,r=0,s=[];if(a(e))for(i=e.length;r<i;r++)o=t(e[r],r,n),null!=o&&s.push(o);else for(r in e)o=t(e[r],r,n),null!=o&&s.push(o);return le.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),ve.isFunction(e))return i=ae.call(arguments,2),o=function(){return e.apply(t||this,i.concat(ae.call(arguments)))},o.guid=e.guid=e.guid||ve.guid++,o},now:Date.now,support:ge}),"function"==typeof Symbol&&(ve.fn[Symbol.iterator]=oe[Symbol.iterator]),ve.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){he["[object "+t+"]"]=t.toLowerCase()});var Ce=/*!
	 * Sizzle CSS Selector Engine v2.3.3
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-08-08
	 */
function(e){function t(e,t,n,i){var o,r,s,a,l,u,c,d=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!i&&((t?t.ownerDocument||t:H)!==M&&A(t),t=t||M,L)){if(11!==f&&(l=_e.exec(e)))if(o=l[1]){if(9===f){if(!(s=t.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(d&&(s=d.getElementById(o))&&j(t,s)&&s.id===o)return n.push(s),n}else{if(l[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((o=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&!V[e+" "]&&(!F||!F.test(e))){if(1!==f)d=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(ke,we):t.setAttribute("id",a=B),u=E(e),r=u.length;r--;)u[r]="#"+a+" "+p(u[r]);c=u.join(","),d=ve.test(e)&&h(t.parentNode)||t}if(c)try{return Q.apply(n,d.querySelectorAll(c)),n}catch(e){}finally{a===B&&t.removeAttribute("id")}}}return D(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function o(e){var t=M.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function h(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=t.next,r=o||i,s=n&&"parentNode"===r,a=z++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,l){var u,c,h,d=[q,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(h=t[B]||(t[B]={}),c=h[t.uniqueID]||(h[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[r])&&u[0]===q&&u[1]===a)return d[2]=u[2];if(c[r]=d,d[2]=e(t,n,l))return!0}return!1}}function m(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var o=0,r=n.length;o<r;o++)t(e,n[o],i);return i}function _(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,i,o)||(s.push(r),u&&t.push(a)));return s}function v(e,t,n,o,r,s){return o&&!o[B]&&(o=v(o)),r&&!r[B]&&(r=v(r,s)),i(function(i,s,a,l){var u,c,h,d=[],p=[],f=s.length,m=i||g(t||"*",a.nodeType?[a]:a,[]),v=!e||!i&&t?m:_(m,d,e,a,l),y=n?r||(i?e:f||o)?[]:s:v;if(n&&n(v,y,a,l),o)for(u=_(y,p),o(u,[],a,l),c=u.length;c--;)(h=u[c])&&(y[p[c]]=!(v[p[c]]=h));if(i){if(r||e){if(r){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(v[c]=h);r(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=r?ee(i,h):d[c])>-1&&(i[u]=!(s[u]=h))}}else y=_(y===s?y.splice(f,y.length):y),r?r(null,s,y,l):Q.apply(s,y)})}function y(e){for(var t,n,i,o=e.length,r=C.relative[e[0].type],s=r||C.relative[" "],a=r?1:0,l=f(function(e){return e===t},s,!0),u=f(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,i){var o=!r&&(i||n!==T)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,o}];a<o;a++)if(n=C.relative[e[a].type])c=[f(m(c),n)];else{if(n=C.filter[e[a].type].apply(null,e[a].matches),n[B]){for(i=++a;i<o&&!C.relative[e[i].type];i++);return v(a>1&&m(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<i&&y(e.slice(a,i)),i<o&&y(e=e.slice(i)),i<o&&p(e))}c.push(n)}return m(c)}function b(e,n){var o=n.length>0,r=e.length>0,s=function(i,s,a,l,u){var c,h,d,p=0,f="0",m=i&&[],g=[],v=T,y=i||r&&C.find.TAG("*",u),b=q+=null==v?1:Math.random()||.1,k=y.length;for(u&&(T=s===M||s||u);f!==k&&null!=(c=y[f]);f++){if(r&&c){for(h=0,s||c.ownerDocument===M||(A(c),a=!L);d=e[h++];)if(d(c,s||M,a)){l.push(c);break}u&&(q=b)}o&&((c=!d&&c)&&p--,i&&m.push(c))}if(p+=f,o&&f!==p){for(h=0;d=n[h++];)d(m,g,s,a);if(i){if(p>0)for(;f--;)m[f]||g[f]||(g[f]=G.call(l));g=_(g)}Q.apply(l,g),u&&!i&&g.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(q=b,T=v),m};return o?i(s):s}var k,w,C,I,x,E,S,D,T,N,O,A,M,P,L,F,U,R,j,B="sizzle"+1*new Date,H=e.document,q=0,z=0,W=n(),$=n(),V=n(),Y=function(e,t){return e===t&&(O=!0),0},J={}.hasOwnProperty,X=[],G=X.pop,K=X.push,Q=X.push,Z=X.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",re=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(re),de=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ke=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ce=function(){A()},Ie=f(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(X=Z.call(H.childNodes),H.childNodes),X[H.childNodes.length].nodeType}catch(e){Q={apply:X.length?function(e,t){K.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:H;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,P=M.documentElement,L=!x(M),H!==M&&(n=M.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(M.getElementsByClassName),w.getById=o(function(e){return P.appendChild(e).id=B,!M.getElementsByName||!M.getElementsByName(B).length}),w.getById?(C.filter.ID=function(e){var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}},C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}}):(C.filter.ID=function(e){var t=e.replace(ye,be);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n,i,o,r=t.getElementById(e);if(r){if(n=r.getAttributeNode("id"),n&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if(n=r.getAttributeNode("id"),n&&n.value===e)return[r]}return[]}}),C.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},C.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&L)return t.getElementsByClassName(e)},U=[],F=[],(w.qsa=ge.test(M.querySelectorAll))&&(o(function(e){P.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||F.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=ge.test(R=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(e){w.disconnectedMatch=R.call(e,"*"),R.call(e,"[s!='']:x"),U.push("!=",re)}),F=F.length&&new RegExp(F.join("|")),U=U.length&&new RegExp(U.join("|")),t=ge.test(P.compareDocumentPosition),j=t||ge.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===M||e.ownerDocument===H&&j(H,e)?-1:t===M||t.ownerDocument===H&&j(H,t)?1:N?ee(N,e)-ee(N,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],l=[t];if(!o||!r)return e===M?-1:t===M?1:o?-1:r?1:N?ee(N,e)-ee(N,t):0;if(o===r)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===H?-1:l[i]===H?1:0},M):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&A(e),n=n.replace(ce,"='$1']"),w.matchesSelector&&L&&!V[n+" "]&&(!U||!U.test(n))&&(!F||!F.test(n)))try{var i=R.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&A(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&A(e);var n=C.attrHandle[t.toLowerCase()],i=n&&J.call(C.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==i?i:w.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(ke,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(O=!w.detectDuplicates,N=!w.sortStable&&e.slice(0),e.sort(Y),O){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return N=null,e},I=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=I(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=I(t);return n},C=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,p,f,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,_=a&&t.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(d=g,h=d[B]||(d[B]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[e]||[],p=u[0]===q&&u[1],y=p&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(y=p=0)||f.pop();)if(1===d.nodeType&&++y&&d===t){c[e]=[q,p,y];break}}else if(v&&(d=t,h=d[B]||(d[B]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[e]||[],p=u[0]===q&&u[1],y=p),y===!1)for(;(d=++p&&d&&d[m]||(y=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++y||(v&&(h=d[B]||(d[B]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[e]=[q,y]),d!==t)););return y-=o,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(e,n){var o,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[B]?r(n):r.length>1?(o=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=r(e,n),s=o.length;s--;)i=ee(e,o[s]),e[i]=!(t[i]=o[s])}):function(e){return r(e,0,o)}):r}},pseudos:{not:i(function(e){var t=[],n=[],o=S(e.replace(ae,"$1"));return o[B]?i(function(e,t,n,i){for(var r,s=o(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ye,be),function(t){return(t.textContent||t.innerText||I(t)).indexOf(e)>-1}}),lang:i(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,be).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},C.pseudos.nth=C.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[k]=a(k);for(k in{submit:!0,reset:!0})C.pseudos[k]=l(k);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,E=t.tokenize=function(e,n){var i,o,r,s,a,l,u,c=$[e+" "];if(c)return n?0:c.slice(0);for(a=e,l=[],u=C.preFilter;a;){i&&!(o=le.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=ue.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ae," ")}),a=a.slice(i.length));for(s in C.filter)!(o=pe[s].exec(a))||u[s]&&!(o=u[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):$(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],o=[],r=V[e+" "];if(!r){for(t||(t=E(e)),n=t.length;n--;)r=y(t[n]),r[B]?i.push(r):o.push(r);r=V(e,b(o,i)),r.selector=e}return r},D=t.select=function(e,t,n,i){var o,r,s,a,l,u="function"==typeof e&&e,c=!i&&E(e=u.selector||e);if(n=n||[],1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&9===t.nodeType&&L&&C.relative[r[1].type]){if(t=(C.find.ID(s.matches[0].replace(ye,be),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=pe.needsContext.test(e)?0:r.length;o--&&(s=r[o],!C.relative[a=s.type]);)if((l=C.find[a])&&(i=l(s.matches[0].replace(ye,be),ve.test(r[0].type)&&h(t.parentNode)||t))){if(r.splice(o,1),e=i.length&&p(r),!e)return Q.apply(n,i),n;break}}return(u||S(e,c))(i,t,!L,n,!t||ve.test(e)&&h(t.parentNode)||t),n},w.sortStable=B.split("").sort(Y).join("")===B,w.detectDuplicates=!!O,A(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(M.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,n){var i;if(!n)return e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(n);ve.find=Ce,ve.expr=Ce.selectors,ve.expr[":"]=ve.expr.pseudos,ve.uniqueSort=ve.unique=Ce.uniqueSort,ve.text=Ce.getText,ve.isXMLDoc=Ce.isXML,ve.contains=Ce.contains,ve.escapeSelector=Ce.escape;var Ie=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ve(e).is(n))break;i.push(e)}return i},xe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ee=ve.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,De=/^.[^:#\[\.,]*$/;ve.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ve.find.matchesSelector(i,e)?[i]:[]:ve.find.matches(e,ve.grep(t,function(e){return 1===e.nodeType}))},ve.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(ve(e).filter(function(){for(t=0;t<i;t++)if(ve.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)ve.find(e,o[t],n);return i>1?ve.uniqueSort(n):n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&Ee.test(e)?ve(e):e||[],!1).length}});var Te,Ne=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Oe=ve.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||Te,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ne.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ve?t[0]:t,ve.merge(this,ve.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),Se.test(i[1])&&ve.isPlainObject(t))for(i in t)ve.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return o=re.getElementById(i[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ve.isFunction(e)?void 0!==n.ready?n.ready(e):e(ve):ve.makeArray(e,this)};Oe.prototype=ve.fn,Te=ve(re);var Ae=/^(?:parents|prev(?:Until|All))/,Me={children:!0,contents:!0,next:!0,prev:!0};ve.fn.extend({has:function(e){var t=ve(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ve.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,r=[],s="string"!=typeof e&&ve(e);if(!Ee.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ve.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ve.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?ce.call(ve(e),this[0]):ce.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ve.uniqueSort(ve.merge(this.get(),ve(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ve.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ie(e,"parentNode")},parentsUntil:function(e,t,n){return Ie(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return Ie(e,"nextSibling")},prevAll:function(e){return Ie(e,"previousSibling")},nextUntil:function(e,t,n){return Ie(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ie(e,"previousSibling",n)},siblings:function(e){return xe((e.parentNode||{}).firstChild,e)},children:function(e){return xe(e.firstChild)},contents:function(e){return e.contentDocument||ve.merge([],e.childNodes)}},function(e,t){ve.fn[e]=function(n,i){var o=ve.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ve.filter(i,o)),this.length>1&&(Me[e]||ve.uniqueSort(o),Ae.test(e)&&o.reverse()),this.pushStack(o)}});var Pe=/[^\x20\t\r\n\f]+/g;ve.Callbacks=function(e){e="string"==typeof e?c(e):ve.extend({},e);var t,n,i,o,r=[],s=[],a=-1,l=function(){for(o=e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<r.length;)r[a].apply(n[0],n[1])===!1&&e.stopOnFalse&&(a=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},u={add:function(){return r&&(n&&!t&&(a=r.length-1,s.push(n)),function t(n){ve.each(n,function(n,i){ve.isFunction(i)?e.unique&&u.has(i)||r.push(i):i&&i.length&&"string"!==ve.type(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return ve.each(arguments,function(e,t){for(var n;(n=ve.inArray(t,r,n))>-1;)r.splice(n,1),n<=a&&a--}),this},has:function(e){return e?ve.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=s=[],n||t||(r=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},ve.extend({Deferred:function(e){var t=[["notify","progress",ve.Callbacks("memory"),ve.Callbacks("memory"),2],["resolve","done",ve.Callbacks("once memory"),ve.Callbacks("once memory"),0,"resolved"],["reject","fail",ve.Callbacks("once memory"),ve.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return ve.Deferred(function(n){ve.each(t,function(t,i){var o=ve.isFunction(e[i[4]])&&e[i[4]];r[i[1]](function(){var e=o&&o.apply(this,arguments);e&&ve.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,i,o){function r(e,t,i,o){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(e<s)){if(n=i.apply(a,l),n===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,ve.isFunction(u)?o?u.call(n,r(s,t,h,o),r(s,t,d,o)):(s++,u.call(n,r(s,t,h,o),r(s,t,d,o),r(s,t,h,t.notifyWith))):(i!==h&&(a=void 0,l=[n]),(o||t.resolveWith)(a,l))}},c=o?u:function(){try{u()}catch(n){ve.Deferred.exceptionHook&&ve.Deferred.exceptionHook(n,c.stackTrace),e+1>=s&&(i!==d&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?c():(ve.Deferred.getStackHook&&(c.stackTrace=ve.Deferred.getStackHook()),n.setTimeout(c))}}var s=0;return ve.Deferred(function(n){t[0][3].add(r(0,n,ve.isFunction(o)?o:h,n.notifyWith)),t[1][3].add(r(0,n,ve.isFunction(e)?e:h)),t[2][3].add(r(0,n,ve.isFunction(i)?i:d))}).promise()},promise:function(e){return null!=e?ve.extend(e,o):o}},r={};return ve.each(t,function(e,n){var s=n[2],a=n[5];o[n[1]]=s.add,a&&s.add(function(){i=a},t[3-e][2].disable,t[0][2].lock),s.add(n[3].fire),r[n[0]]=function(){return r[n[0]+"With"](this===r?void 0:this,arguments),this},r[n[0]+"With"]=s.fireWith}),o.promise(r),e&&e.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),o=ae.call(arguments),r=ve.Deferred(),s=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?ae.call(arguments):n,--t||r.resolveWith(i,o)}};if(t<=1&&(p(e,r.done(s(n)).resolve,r.reject),"pending"===r.state()||ve.isFunction(o[n]&&o[n].then)))return r.then();for(;n--;)p(o[n],s(n),r.reject);return r.promise()}});var Le=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ve.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Le.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ve.readyException=function(e){n.setTimeout(function(){throw e})};var Fe=ve.Deferred();ve.fn.ready=function(e){return Fe.then(e).catch(function(e){ve.readyException(e)}),this},ve.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ve.readyWait++:ve.ready(!0)},ready:function(e){(e===!0?--ve.readyWait:ve.isReady)||(ve.isReady=!0,e!==!0&&--ve.readyWait>0||Fe.resolveWith(re,[ve]))}}),ve.ready.then=Fe.then,"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll?n.setTimeout(ve.ready):(re.addEventListener("DOMContentLoaded",f),n.addEventListener("load",f));var Ue=function(e,t,n,i,o,r,s){var a=0,l=e.length,u=null==n;if("object"===ve.type(n)){o=!0;for(a in n)Ue(e,t,a,n[a],!0,r,s)}else if(void 0!==i&&(o=!0,ve.isFunction(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(ve(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return o?e:u?t.call(e):l?t(e[0],n):r},Re=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Re(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[ve.camelCase(t)]=n;else for(i in t)o[ve.camelCase(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ve.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){ve.isArray(t)?t=t.map(ve.camelCase):(t=ve.camelCase(t),t=t in i?[t]:t.match(Pe)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||ve.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ve.isEmptyObject(t)}};var je=new m,Be=new m,He=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,qe=/[A-Z]/g;ve.extend({hasData:function(e){return Be.hasData(e)||je.hasData(e)},data:function(e,t,n){return Be.access(e,t,n)},removeData:function(e,t){Be.remove(e,t)},_data:function(e,t,n){return je.access(e,t,n)},_removeData:function(e,t){je.remove(e,t)}}),ve.fn.extend({data:function(e,t){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=Be.get(r),1===r.nodeType&&!je.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ve.camelCase(i.slice(5)),_(r,i,o[i])));je.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Be.set(this,e)}):Ue(this,function(t){var n;if(r&&void 0===t){if(n=Be.get(r,e),void 0!==n)return n;if(n=_(r,e),void 0!==n)return n}else this.each(function(){Be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Be.remove(this,e)})}}),ve.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=je.get(e,t),n&&(!i||ve.isArray(n)?i=je.access(e,t,ve.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ve.queue(e,t),i=n.length,o=n.shift(),r=ve._queueHooks(e,t),s=function(){ve.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return je.get(e,n)||je.access(e,n,{empty:ve.Callbacks("once memory").add(function(){je.remove(e,[t+"queue",n])})})}}),ve.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ve.queue(this[0],e):void 0===t?this:this.each(function(){var n=ve.queue(this,e,t);ve._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ve.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ve.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=ve.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=je.get(r[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,We=new RegExp("^(?:([+-])=|)("+ze+")([a-z%]*)$","i"),$e=["Top","Right","Bottom","Left"],Ve=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ve.contains(e.ownerDocument,e)&&"none"===ve.css(e,"display")},Ye=function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return o},Je={};ve.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ve(this)?ve(this).show():ve(this).hide()})}});var Xe=/^(?:checkbox|radio)$/i,Ge=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ke=/^$|\/(?:java|ecma)script/i,Qe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td;
var Ze=/<|&#?\w+;/;!function(){var e=re.createDocumentFragment(),t=e.appendChild(re.createElement("div")),n=re.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ge.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ge.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var et=re.documentElement,tt=/^key/,nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;ve.event={global:{},add:function(e,t,n,i,o){var r,s,a,l,u,c,h,d,p,f,m,g=je.get(e);if(g)for(n.handler&&(r=n,n=r.handler,o=r.selector),o&&ve.find.matchesSelector(et,o),n.guid||(n.guid=ve.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return"undefined"!=typeof ve&&ve.event.triggered!==t.type?ve.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Pe)||[""],u=t.length;u--;)a=it.exec(t[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(h=ve.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=ve.event.special[p]||{},c=ve.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ve.expr.match.needsContext.test(o),namespace:f.join(".")},r),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(e,i,f,s)!==!1||e.addEventListener&&e.addEventListener(p,s)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),ve.event.global[p]=!0)},remove:function(e,t,n,i,o){var r,s,a,l,u,c,h,d,p,f,m,g=je.hasData(e)&&je.get(e);if(g&&(l=g.events)){for(t=(t||"").match(Pe)||[""],u=t.length;u--;)if(a=it.exec(t[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=ve.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)c=d[r],!o&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));s&&!d.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||ve.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)ve.event.remove(e,p+t[u],n,i,!0);ve.isEmptyObject(l)&&je.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,s,a=ve.event.fix(e),l=new Array(arguments.length),u=(je.get(this,"events")||{})[a.type]||[],c=ve.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,a)!==!1){for(s=ve.event.handlers.call(this,a,u),t=0;(o=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,i=((ve.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),void 0!==i&&(a.result=i)===!1&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,r,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||u.disabled!==!0)){for(r=[],s={},n=0;n<l;n++)i=t[n],o=i.selector+" ",void 0===s[o]&&(s[o]=i.needsContext?ve(o,this).index(u)>-1:ve.find(o,this,null,[u]).length),s[o]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(ve.Event.prototype,e,{enumerable:!0,configurable:!0,get:ve.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ve.expando]?e:new ve.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ve.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ve.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ve.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ve.Event=function(e,t){return this instanceof ve.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?I:x,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ve.extend(this,t),this.timeStamp=e&&e.timeStamp||ve.now(),void(this[ve.expando]=!0)):new ve.Event(e,t)},ve.Event.prototype={constructor:ve.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=I,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=I,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=I,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ve.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&tt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&nt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ve.event.addProp),ve.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ve.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===i||ve.contains(i,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ve.fn.extend({on:function(e,t,n,i){return S(this,e,t,n,i)},one:function(e,t,n,i){return S(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ve(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=x),this.each(function(){ve.event.remove(this,e,n,t)})}});var ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,rt=/<script|<style|<link/i,st=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ve.extend({htmlPrefilter:function(e){return e.replace(ot,"<$1></$2>")},clone:function(e,t,n){var i,o,r,s,a=e.cloneNode(!0),l=ve.contains(e.ownerDocument,e);if(!(ge.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ve.isXMLDoc(e)))for(s=k(a),r=k(e),i=0,o=r.length;i<o;i++)A(r[i],s[i]);if(t)if(n)for(r=r||k(e),s=s||k(a),i=0,o=r.length;i<o;i++)O(r[i],s[i]);else O(e,a);return s=k(a,"script"),s.length>0&&w(s,!l&&k(e,"script")),a},cleanData:function(e){for(var t,n,i,o=ve.event.special,r=0;void 0!==(n=e[r]);r++)if(Re(n)){if(t=n[je.expando]){if(t.events)for(i in t.events)o[i]?ve.event.remove(n,i):ve.removeEvent(n,i,t.handle);n[je.expando]=void 0}n[Be.expando]&&(n[Be.expando]=void 0)}}}),ve.fn.extend({detach:function(e){return P(this,e,!0)},remove:function(e){return P(this,e)},text:function(e){return Ue(this,function(e){return void 0===e?ve.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=D(this,e);t.appendChild(e)}})},prepend:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=D(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ve.cleanData(k(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ve.clone(this,e,t)})},html:function(e){return Ue(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!rt.test(e)&&!Qe[(Ge.exec(e)||["",""])[1].toLowerCase()]){e=ve.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(ve.cleanData(k(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return M(this,arguments,function(t){var n=this.parentNode;ve.inArray(this,e)<0&&(ve.cleanData(k(this)),n&&n.replaceChild(t,this))},e)}}),ve.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ve.fn[e]=function(e){for(var n,i=[],o=ve(e),r=o.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),ve(o[s])[t](n),ue.apply(i,n.get());return this.pushStack(i)}});var ut=/^margin/,ct=new RegExp("^("+ze+")(?!px)[a-z%]+$","i"),ht=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",et.appendChild(s);var e=n.getComputedStyle(a);t="1%"!==e.top,r="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",o="4px"===e.marginRight,et.removeChild(s),a=null}}var t,i,o,r,s=re.createElement("div"),a=re.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ge.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ve.extend(ge,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),o},reliableMarginLeft:function(){return e(),r}}))}();var dt=/^(none|table(?!-c[ea]).+)/,pt={position:"absolute",visibility:"hidden",display:"block"},ft={letterSpacing:"0",fontWeight:"400"},mt=["Webkit","Moz","ms"],gt=re.createElement("div").style;ve.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=L(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=ve.camelCase(t),l=e.style;return t=ve.cssProps[a]||(ve.cssProps[a]=U(a)||a),s=ve.cssHooks[t]||ve.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(o=s.get(e,!1,i))?o:l[t]:(r=typeof n,"string"===r&&(o=We.exec(n))&&o[1]&&(n=v(e,t,o),r="number"),void(null!=n&&n===n&&("number"===r&&(n+=o&&o[3]||(ve.cssNumber[a]?"":"px")),ge.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var o,r,s,a=ve.camelCase(t);return t=ve.cssProps[a]||(ve.cssProps[a]=U(a)||a),s=ve.cssHooks[t]||ve.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=L(e,t,i)),"normal"===o&&t in ft&&(o=ft[t]),""===n||n?(r=parseFloat(o),n===!0||isFinite(r)?r||0:o):o}}),ve.each(["height","width"],function(e,t){ve.cssHooks[t]={get:function(e,n,i){if(n)return!dt.test(ve.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,i):Ye(e,pt,function(){return B(e,t,i)})},set:function(e,n,i){var o,r=i&&ht(e),s=i&&j(e,t,i,"border-box"===ve.css(e,"boxSizing",!1,r),r);return s&&(o=We.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=ve.css(e,t)),R(e,n,s)}}}),ve.cssHooks.marginLeft=F(ge.reliableMarginLeft,function(e,t){if(t)return(parseFloat(L(e,"marginLeft"))||e.getBoundingClientRect().left-Ye(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ve.each({margin:"",padding:"",border:"Width"},function(e,t){ve.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+$e[i]+t]=r[i]||r[i-2]||r[0];return o}},ut.test(e)||(ve.cssHooks[e+t].set=R)}),ve.fn.extend({css:function(e,t){return Ue(this,function(e,t,n){var i,o,r={},s=0;if(ve.isArray(t)){for(i=ht(e),o=t.length;s<o;s++)r[t[s]]=ve.css(e,t[s],!1,i);return r}return void 0!==n?ve.style(e,t,n):ve.css(e,t)},e,t,arguments.length>1)}}),ve.Tween=H,H.prototype={constructor:H,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||ve.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ve.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=ve.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ve.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ve.fx.step[e.prop]?ve.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ve.cssProps[e.prop]]&&!ve.cssHooks[e.prop]?e.elem[e.prop]=e.now:ve.style(e.elem,e.prop,e.now+e.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ve.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ve.fx=H.prototype.init,ve.fx.step={};var _t,vt,yt=/^(?:toggle|show|hide)$/,bt=/queueHooks$/;ve.Animation=ve.extend(J,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return v(n.elem,e,We.exec(t),n),n}]},tweener:function(e,t){ve.isFunction(e)?(t=e,e=["*"]):e=e.match(Pe);for(var n,i=0,o=e.length;i<o;i++)n=e[i],J.tweeners[n]=J.tweeners[n]||[],J.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?J.prefilters.unshift(e):J.prefilters.push(e)}}),ve.speed=function(e,t,n){var i=e&&"object"==typeof e?ve.extend({},e):{complete:n||!n&&t||ve.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ve.isFunction(t)&&t};return ve.fx.off||re.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in ve.fx.speeds?i.duration=ve.fx.speeds[i.duration]:i.duration=ve.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ve.isFunction(i.old)&&i.old.call(this),i.queue&&ve.dequeue(this,i.queue)},i},ve.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ve).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ve.isEmptyObject(e),r=ve.speed(t,n,i),s=function(){var t=J(this,ve.extend({},e),r);(o||je.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=ve.timers,s=je.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&bt.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||ve.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=je.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=ve.timers,s=i?i.length:0;for(n.finish=!0,ve.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ve.each(["toggle","show","hide"],function(e,t){var n=ve.fn[t];ve.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,i,o)}}),ve.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ve.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ve.timers=[],ve.fx.tick=function(){var e,t=0,n=ve.timers;for(_t=ve.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||ve.fx.stop(),_t=void 0},ve.fx.timer=function(e){ve.timers.push(e),e()?ve.fx.start():ve.timers.pop()},ve.fx.interval=13,ve.fx.start=function(){vt||(vt=n.requestAnimationFrame?n.requestAnimationFrame(q):n.setInterval(ve.fx.tick,ve.fx.interval))},ve.fx.stop=function(){n.cancelAnimationFrame?n.cancelAnimationFrame(vt):n.clearInterval(vt),vt=null},ve.fx.speeds={slow:600,fast:200,_default:400},ve.fn.delay=function(e,t){return e=ve.fx?ve.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var o=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(o)}})},function(){var e=re.createElement("input"),t=re.createElement("select"),n=t.appendChild(re.createElement("option"));e.type="checkbox",ge.checkOn=""!==e.value,ge.optSelected=n.selected,e=re.createElement("input"),e.value="t",e.type="radio",ge.radioValue="t"===e.value}();var kt,wt=ve.expr.attrHandle;ve.fn.extend({attr:function(e,t){return Ue(this,ve.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ve.removeAttr(this,e)})}}),ve.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?ve.prop(e,t,n):(1===r&&ve.isXMLDoc(e)||(o=ve.attrHooks[t.toLowerCase()]||(ve.expr.match.bool.test(t)?kt:void 0)),void 0!==n?null===n?void ve.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:(i=ve.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!ge.radioValue&&"radio"===t&&ve.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(Pe);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),kt={set:function(e,t,n){return t===!1?ve.removeAttr(e,n):e.setAttribute(n,n),n}},ve.each(ve.expr.match.bool.source.match(/\w+/g),function(e,t){var n=wt[t]||ve.find.attr;wt[t]=function(e,t,i){var o,r,s=t.toLowerCase();return i||(r=wt[s],wt[s]=o,o=null!=n(e,t,i)?s:null,wt[s]=r),o}});var Ct=/^(?:input|select|textarea|button)$/i,It=/^(?:a|area)$/i;ve.fn.extend({prop:function(e,t){return Ue(this,ve.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ve.propFix[e]||e]})}}),ve.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ve.isXMLDoc(e)||(t=ve.propFix[t]||t,o=ve.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ve.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||It.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ge.optSelected||(ve.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ve.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ve.propFix[this.toLowerCase()]=this}),ve.fn.extend({addClass:function(e){var t,n,i,o,r,s,a,l=0;if(ve.isFunction(e))return this.each(function(t){ve(this).addClass(e.call(this,t,G(this)))});if("string"==typeof e&&e)for(t=e.match(Pe)||[];n=this[l++];)if(o=G(n),i=1===n.nodeType&&" "+X(o)+" "){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=X(i),o!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,o,r,s,a,l=0;if(ve.isFunction(e))return this.each(function(t){ve(this).removeClass(e.call(this,t,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Pe)||[];n=this[l++];)if(o=G(n),i=1===n.nodeType&&" "+X(o)+" "){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");a=X(i),o!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ve.isFunction(e)?this.each(function(n){ve(this).toggleClass(e.call(this,n,G(this),t),t)}):this.each(function(){var t,i,o,r;if("string"===n)for(i=0,o=ve(this),r=e.match(Pe)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=G(this),t&&je.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":je.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+X(G(n))+" ").indexOf(t)>-1)return!0;return!1}});var xt=/\r/g;ve.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=ve.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,ve(this).val()):e,null==o?o="":"number"==typeof o?o+="":ve.isArray(o)&&(o=ve.map(o,function(e){return null==e?"":e+""})),t=ve.valHooks[this.type]||ve.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=ve.valHooks[o.type]||ve.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)):void 0}}),ve.extend({valHooks:{option:{get:function(e){var t=ve.find.attr(e,"value");return null!=t?t:X(ve.text(e))}},select:{get:function(e){var t,n,i,o=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?r+1:o.length;for(i=r<0?l:s?r:0;i<l;i++)if(n=o[i],(n.selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!ve.nodeName(n.parentNode,"optgroup"))){if(t=ve(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,r=ve.makeArray(t),s=o.length;s--;)i=o[s],(i.selected=ve.inArray(ve.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),ve.each(["radio","checkbox"],function(){ve.valHooks[this]={set:function(e,t){if(ve.isArray(t))return e.checked=ve.inArray(ve(e).val(),t)>-1}},ge.checkOn||(ve.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=/^(?:focusinfocus|focusoutblur)$/;ve.extend(ve.event,{trigger:function(e,t,i,o){var r,s,a,l,u,c,h,d=[i||re],p=pe.call(e,"type")?e.type:e,f=pe.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||re,3!==i.nodeType&&8!==i.nodeType&&!Et.test(p+ve.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[ve.expando]?e:new ve.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:ve.makeArray(t,[e]),h=ve.event.special[p]||{},o||!h.trigger||h.trigger.apply(i,t)!==!1)){if(!o&&!h.noBubble&&!ve.isWindow(i)){for(l=h.delegateType||p,Et.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(i.ownerDocument||re)&&d.push(a.defaultView||a.parentWindow||n)}for(r=0;(s=d[r++])&&!e.isPropagationStopped();)e.type=r>1?l:h.bindType||p,c=(je.get(s,"events")||{})[e.type]&&je.get(s,"handle"),c&&c.apply(s,t),c=u&&s[u],c&&c.apply&&Re(s)&&(e.result=c.apply(s,t),e.result===!1&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),t)!==!1||!Re(i)||u&&ve.isFunction(i[p])&&!ve.isWindow(i)&&(a=i[u],a&&(i[u]=null),ve.event.triggered=p,i[p](),ve.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(e,t,n){var i=ve.extend(new ve.Event,n,{type:e,isSimulated:!0});ve.event.trigger(i,null,t)}}),ve.fn.extend({trigger:function(e,t){return this.each(function(){ve.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ve.event.trigger(e,t,n,!0)}}),ve.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ve.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ve.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ge.focusin="onfocusin"in n,ge.focusin||ve.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ve.event.simulate(t,e.target,ve.event.fix(e))};ve.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=je.access(i,t);o||i.addEventListener(e,n,!0),je.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=je.access(i,t)-1;o?je.access(i,t,o):(i.removeEventListener(e,n,!0),je.remove(i,t))}}});var St=n.location,Dt=ve.now(),Tt=/\?/;ve.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ve.error("Invalid XML: "+e),t};var Nt=/\[\]$/,Ot=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;ve.param=function(e,t){var n,i=[],o=function(e,t){var n=ve.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(ve.isArray(e)||e.jquery&&!ve.isPlainObject(e))ve.each(e,function(){o(this.name,this.value)});else for(n in e)K(n,e[n],t,o);return i.join("&")},ve.fn.extend({serialize:function(){return ve.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ve.prop(this,"elements");return e?ve.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ve(this).is(":disabled")&&Mt.test(this.nodeName)&&!At.test(e)&&(this.checked||!Xe.test(e))}).map(function(e,t){var n=ve(this).val();return null==n?null:ve.isArray(n)?ve.map(n,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}});var Pt=/%20/g,Lt=/#.*$/,Ft=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ht={},qt={},zt="*/".concat("*"),Wt=re.createElement("a");Wt.href=St.href,ve.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:Rt.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ve.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ee(ee(e,ve.ajaxSettings),t):ee(ve.ajaxSettings,e)},ajaxPrefilter:Q(Ht),ajaxTransport:Q(qt),ajax:function(e,t){function i(e,t,i,a){var u,d,p,b,k,w=t;c||(c=!0,l&&n.clearTimeout(l),o=void 0,s=a||"",C.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(b=te(f,C,i)),b=ne(f,b,C,u),u?(f.ifModified&&(k=C.getResponseHeader("Last-Modified"),k&&(ve.lastModified[r]=k),k=C.getResponseHeader("etag"),k&&(ve.etag[r]=k)),204===e||"HEAD"===f.type?w="nocontent":304===e?w="notmodified":(w=b.state,d=b.data,p=b.error,u=!p)):(p=w,!e&&w||(w="error",e<0&&(e=0))),C.status=e,C.statusText=(t||w)+"",u?_.resolveWith(m,[d,w,C]):_.rejectWith(m,[C,w,p]),C.statusCode(y),y=void 0,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[C,f,u?d:p]),v.fireWith(m,[C,w]),h&&(g.trigger("ajaxComplete",[C,f]),--ve.active||ve.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,r,s,a,l,u,c,h,d,p,f=ve.ajaxSetup({},t),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?ve(m):ve.event,_=ve.Deferred(),v=ve.Callbacks("once memory"),y=f.statusCode||{},b={},k={},w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Ut.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=k[e.toLowerCase()]=k[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||w;return o&&o.abort(t),i(0,t),this}};if(_.promise(C),f.url=((e||f.url||St.href)+"").replace(Bt,St.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Pe)||[""],null==f.crossDomain){u=re.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Wt.protocol+"//"+Wt.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ve.param(f.data,f.traditional)),Z(Ht,f,t,C),c)return C;h=ve.event&&f.global,h&&0===ve.active++&&ve.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!jt.test(f.type),r=f.url.replace(Lt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Pt,"+")):(p=f.url.slice(r.length),f.data&&(r+=(Tt.test(r)?"&":"?")+f.data,delete f.data),f.cache===!1&&(r=r.replace(Ft,"$1"),p=(Tt.test(r)?"&":"?")+"_="+Dt++ +p),f.url=r+p),f.ifModified&&(ve.lastModified[r]&&C.setRequestHeader("If-Modified-Since",ve.lastModified[r]),ve.etag[r]&&C.setRequestHeader("If-None-Match",ve.etag[r])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+zt+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)C.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(f.beforeSend.call(m,C,f)===!1||c))return C.abort();if(w="abort",v.add(f.complete),C.done(f.success),C.fail(f.error),o=Z(qt,f,t,C)){if(C.readyState=1,h&&g.trigger("ajaxSend",[C,f]),c)return C;f.async&&f.timeout>0&&(l=n.setTimeout(function(){C.abort("timeout")},f.timeout));try{c=!1,o.send(b,i)}catch(e){if(c)throw e;i(-1,e)}}else i(-1,"No Transport");return C},getJSON:function(e,t,n){return ve.get(e,t,n,"json")},getScript:function(e,t){return ve.get(e,void 0,t,"script")}}),ve.each(["get","post"],function(e,t){ve[t]=function(e,n,i,o){return ve.isFunction(n)&&(o=o||i,i=n,n=void 0),ve.ajax(ve.extend({url:e,type:t,dataType:o,data:n,success:i},ve.isPlainObject(e)&&e))}}),ve._evalUrl=function(e){return ve.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ve.fn.extend({wrapAll:function(e){var t;return this[0]&&(ve.isFunction(e)&&(e=e.call(this[0])),t=ve(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ve.isFunction(e)?this.each(function(t){ve(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ve(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ve.isFunction(e);return this.each(function(n){ve(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){
ve(this).replaceWith(this.childNodes)}),this}}),ve.expr.pseudos.hidden=function(e){return!ve.expr.pseudos.visible(e)},ve.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ve.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Vt=ve.ajaxSettings.xhr();ge.cors=!!Vt&&"withCredentials"in Vt,ge.ajax=Vt=!!Vt,ve.ajaxTransport(function(e){var t,i;if(ge.cors||Vt&&!e.crossDomain)return{send:function(o,r){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(s in o)a.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r($t[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),ve.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ve.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ve.globalEval(e),e}}}),ve.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ve.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=ve("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),re.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Jt=/(=)\?(?=&|$)|\?\?/;ve.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||ve.expando+"_"+Dt++;return this[e]=!0,e}}),ve.ajaxPrefilter("json jsonp",function(e,t,i){var o,r,s,a=e.jsonp!==!1&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ve.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Jt,"$1"+o):e.jsonp!==!1&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||ve.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=n[o],n[o]=function(){s=arguments},i.always(function(){void 0===r?ve(n).removeProp(o):n[o]=r,e[o]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(o)),s&&ve.isFunction(r)&&r(s[0]),s=r=void 0}),"script"}),ge.createHTMLDocument=function(){var e=re.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ve.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,r;return t||(ge.createHTMLDocument?(t=re.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=re.location.href,t.head.appendChild(i)):t=re),o=Se.exec(e),r=!n&&[],o?[t.createElement(o[1])]:(o=C([e],t,r),r&&r.length&&ve(r).remove(),ve.merge([],o.childNodes))},ve.fn.load=function(e,t,n){var i,o,r,s=this,a=e.indexOf(" ");return a>-1&&(i=X(e.slice(a)),e=e.slice(0,a)),ve.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&ve.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?ve("<div>").append(ve.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},ve.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ve.fn[t]=function(e){return this.on(t,e)}}),ve.expr.pseudos.animated=function(e){return ve.grep(ve.timers,function(t){return e===t.elem}).length},ve.offset={setOffset:function(e,t,n){var i,o,r,s,a,l,u,c=ve.css(e,"position"),h=ve(e),d={};"static"===c&&(e.style.position="relative"),a=h.offset(),r=ve.css(e,"top"),l=ve.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1,u?(i=h.position(),s=i.top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),ve.isFunction(t)&&(t=t.call(e,n,ve.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):h.css(d)}},ve.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ve.offset.setOffset(this,e,t)});var t,n,i,o,r=this[0];return r?r.getClientRects().length?(i=r.getBoundingClientRect(),i.width||i.height?(o=r.ownerDocument,n=ie(o),t=o.documentElement,{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===ve.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ve.nodeName(e[0],"html")||(i=e.offset()),i={top:i.top+ve.css(e[0],"borderTopWidth",!0),left:i.left+ve.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-ve.css(n,"marginTop",!0),left:t.left-i.left-ve.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ve.css(e,"position");)e=e.offsetParent;return e||et})}}),ve.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ve.fn[e]=function(i){return Ue(this,function(e,i,o){var r=ie(e);return void 0===o?r?r[t]:e[i]:void(r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o)},e,i,arguments.length)}}),ve.each(["top","left"],function(e,t){ve.cssHooks[t]=F(ge.pixelPosition,function(e,n){if(n)return n=L(e,t),ct.test(n)?ve(e).position()[t]+"px":n})}),ve.each({Height:"height",Width:"width"},function(e,t){ve.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ve.fn[i]=function(o,r){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||r===!0?"margin":"border");return Ue(this,function(t,n,o){var r;return ve.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?ve.css(t,n,a):ve.style(t,n,o,a)},t,s?o:void 0,s)}})}),ve.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ve.parseJSON=JSON.parse,i=[],o=function(){return ve}.apply(t,i),!(void 0!==o&&(e.exports=o));var Xt=n.jQuery,Gt=n.$;return ve.noConflict=function(e){return n.$===ve&&(n.$=Gt),e&&n.jQuery===ve&&(n.jQuery=Xt),ve},r||(n.jQuery=n.$=ve),ve})}});